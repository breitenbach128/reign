!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.rexparse=t():e.rexparse=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=348)}({0:function(e,t){e.exports=function(e,t,n){if(e&&"number"!=typeof e){if(e.hasOwnProperty(t))return e[t];if(-1!==t.indexOf(".")){for(var r=t.split("."),i=e,o=n,a=0;a<r.length;a++){if(!i.hasOwnProperty(r[a])){o=n;break}o=i[r[a]],i=i[r[a]]}return o}return n}return n}},1:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(e){return null==e||""===e||0===e.length};t.a=function(e,t,n){if("object"===r(e))if(i(t)){if(null==n)return;"object"===r(n)&&(e=n)}else{"string"==typeof t&&(t=t.split("."));var o=t.pop();((function(e,t,n){void 0===n&&(n={});var o=e;if(i(t));else{var a;"string"==typeof t&&(t=t.split("."));for(var s=0,u=t.length;s<u;s++){var c;null!=o[a=t[s]]&&"object"===r(o[a])||(c=s===u-1?n:{},o[a]=c),o=o[a]}}return o})(e,t))[o]=n}}},100:function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(55),a={loadItems:function(e,t){void 0===e&&(e=0),void 0===t&&(t=1/0),this.items.length=0;var n=this;return Object(o.a)(this.query,e,t).then(function(r){return n.items=r,n.startIndex=e,n.pageIndex=Math.floor(e/n.itemCount),n.isLastPage=t===1/0||t>r.length,Promise.resolve(r)}).catch(function(e){return n.isLastPage=!1,Promise.reject(e)})},loadPage:function(e){var t=e*this.itemCount;return this.loadItems(t,this.itemCount)},loadCurrentPage:function(){return this.loadItems(this.startIndex,this.itemCount)},loadNextPage:function(){var e=this.startIndex+this.itemCount;return this.loadItems(e,this.itemCount)},loadPreviousPage:function(){var e=this.startIndex-this.itemCount;return this.loadItems(e,this.itemCount)}};function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=[],this.startIndex=0,this.pageIndex=0,this.isLastPage=!1,this.setItemCount(i()(t,"itemCount",100)),this.setQuery(i()(t,"query",void 0))}var t,n,r;return t=e,(n=[{key:"setItemCount",value:function(e){return this.itemCount=e,this.pageIndex=Math.floor(this.startIndex/e),this}},{key:"setQuery",value:function(e){return this.query=e,this}},{key:"getItem",value:function(e){return this.items[e-this.startIndex]}},{key:"findFirst",value:function(e,t){for(var n,r=this.items.length;n<r;n++)if(this.items[n].get(e)===t)return n+this.startIndex;return-1}}])&&s(t.prototype,n),r&&s(t,r),e}();Object.assign(u.prototype,a);t.a=u},130:function(e,t,n){"use strict";var r=n(37);t.a=function(e){return new Promise(function(t,n){Object(r.a)(e,t)})}},16:function(e,t,n){"use strict";t.a=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},24:function(e,t,n){"use strict";t.a=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=t.length),e.length=r-n;for(var i=0,o=e.length;i<o;i++)e[i]=t[i+n];return e}},256:function(e,t,n){"use strict";var r=n(130),i="https://cdnjs.cloudflare.com/ajax/libs/parse/".concat("2.9.1","/parse.min.js");t.a=function(e){return void 0===e&&(e=i),Object(r.a)(e)}},257:function(e,t,n){"use strict";var r=function(e,t){var n=new Parse.User;return n.set("username",e).set("password",t),n.signUp().then(function(){return Parse.User.logIn(e,t)})};t.a=function(e,t){return Parse.User.logOut().then(function(){return Parse.User.logIn(e,t)}).catch(function(){return r(e,t)})}},269:function(e,t,n){"use strict";var r=n(100),i=n(97),o=n(1);i.a.register("pageLoader",function(e){return new r.a(e)}),Object(o.a)(window,"RexPlugins.Parse.PageLoader",r.a);r.a},274:function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(100),a=n(55),s=n(31),u=n.n(s),c={loadItem:function(e){return this.baseQuery.get(e)},loadPage:function(e){return this.pageLoader.loadPage(e)},loadCurrentPage:function(){return this.pageLoader.loadCurrentPage()},loadNextPage:function(){return this.pageLoader.loadNextPage()},loadPreviousPage:function(){return this.pageLoader.loadPreviousPage()},loadItems:function(e,t){return this.pageLoader.loadItems(e,t)},load:function(e){return void 0===e&&(e=this.baseQuery),Object(a.a)(e)},loadRandomItems:function(e,t){"number"==typeof e&&(t=e,e=void 0),void 0===e&&(e=this.baseQuery),void 0===t&&(t=1),e.select("id");var n=this;return Object(a.a)(e).then(function(r){u()(r),t=Math.min(t,r.length);for(var i=[],o=0;o<t;o++)i.push(r[o].id);return e=n.baseQuery.containedIn("objectId",i),Object(a.a)(e)})}},f=function(e){return e.select("id"),Object(a.a)(e).then(function(e){return 0===e.length?Promise.resolve():Parse.Object.destroyAll(e)})},l={deleteItem:function(e){return this.createItem().set("id",e).destroy()},delete:function(e){return void 0===e&&(e=this.baseQuery),f(e)}},h=n(24),d=n(16),y=function(e,t){var n;if(e instanceof t)n=e;else for(var r in n=new t,e)n.set(r,e[r]);return n},p=function(e,t,n){if(!t&&!n)return e;var r=Parse.User.current();if(!r)return e;var i=new Parse.ACL(r);return n||i.setPublicWriteAccess(!0),t||i.setPublicReadAccess(!0),e.setACL(i),e},v=function(e){for(var t,n,r=this.baseQuery.select("id"),i=e instanceof this.customClass,o=0,a=this.primaryKeys.length;o<a;o++)t=this.primaryKeys[o],n=i?e.get(t):e[t],r.equalTo(t,n);return r},m=function(e){var t=y(e,this.customClass);return p(t,this.ownerRead,this.ownerWrite),t.save()},g=function(e){if(Object(d.a)(e))return this.saveItems(e);if(this.primaryKeys.length>0){var t=this;return v.call(this,e).first().then(function(n){if(n){var r=n.id;e instanceof t.customClass?e.set("id",r):e.id=r}return m.call(t,e)})}return m.call(this,e)},b=function(e){if(this.primaryKeys.length>0){for(var t=[],n=0,r=e.length;n<r;n++)t.push(this.save(e[n]));return Promise.all(t)}var i,o=[];for(n=0,r=e.length;n<r;n++)i=y(e[n],this.customClass),p(i,this.ownerRead,this.ownerWrite),o.push(i);return Parse.Object.saveAll(o)},P=function(e){return void 0===e&&(e=this.baseQuery),e.count()};function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pageLoader=new o.a,this.setClassName(i()(t,"className","Item")),this.setItemCount(i()(t,"itemCount",100)),this.setQuery(),this.primaryKeys=[];var n=i()(t,"primaryKeys",void 0);n&&this.setPrimaryKey(n),this.setOwnerReadMode(i()(t,"ownerRead",void 0)),this.setOwnerWriteMode(i()(t,"ownerWrite",void 0))}var t,n,r;return t=e,(n=[{key:"setClassName",value:function(e){return this.customClass=Parse.Object.extend(e),this}},{key:"setPrimaryKey",value:function(e){return e?"string"==typeof e?(this.primaryKeys.length=1,this.primaryKeys[0]=e):Object(h.a)(this.primaryKeys,e):this.primaryKeys.length=0,this}},{key:"setOwnerReadMode",value:function(e){return this.ownerRead=e,this}},{key:"setOwnerWriteMode",value:function(e){return this.ownerWrite=e,this}},{key:"createItem",value:function(){return new this.customClass}},{key:"setItemCount",value:function(e){return this.pageLoader.setItemCount(e),this}},{key:"setQuery",value:function(e){return void 0===e&&(e=this.baseQuery),this.pageLoader.setQuery(e),this}},{key:"baseQuery",get:function(){return new Parse.Query(this.customClass)}},{key:"startIndex",get:function(){return this.pageLoader.startIndex}},{key:"pageIndex",get:function(){return this.pageLoader.pageIndex}},{key:"isLastPage",get:function(){return this.pageLoader.isLastPage}}])&&w(t.prototype,n),r&&w(t,r),e}(),I={save:g,saveItems:b,getItemCount:P};Object.assign(j.prototype,c,l,I);var O=j,x=n(97),C=n(1);x.a.register("itemTable",function(e){return new O(e)}),Object(C.a)(window,"RexPlugins.Parse.ItemTable",O)},31:function(e,t){e.exports=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}},348:function(e,t,n){"use strict";n.r(t);var r=n(97),i=n(256),o=(n(269),n(274),n(257));function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.add=new r.a}var t,n,o;return t=e,(n=[{key:"preload",value:function(e){return Object(i.a)(e)}}])&&a(t.prototype,n),o&&a(t,o),e}(),u={quickLogin:o.a};Object.assign(s.prototype,u),t.default=s},37:function(e,t,n){"use strict";t.a=function(e,t){for(var n=document.getElementsByTagName("script"),r=0,i=n.length;r<i;r++)if(-1!=n[r].src.indexOf(e))return void(t&&t());var o=document.createElement("script");o.setAttribute("src",e),t&&(o.onload=t),document.head.appendChild(o)}},55:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=function e(t,n,i,o){var a=Math.min(n,1e3);return n-=a,t.skip(i).limit(a).find().then(function(s){if(o.push.apply(o,r(s)),0===n||s.length<a)return Promise.resolve(o);var u=i+s.length;return e(t,n,u,o)})};t.a=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1/0),i(e,n,t,[])}},97:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"register",value:function(t,n){e.prototype[t]=n}}],(n=[{key:"initializeApp",value:function(e){return firebase.initializeApp(e),this}}])&&r(t.prototype,n),i&&r(t,i),e}();t.a=i}}).default});