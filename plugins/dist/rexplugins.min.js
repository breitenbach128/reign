!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rexplugins=e():t.rexplugins=e()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=360)}([function(t,e){t.exports=function(t,e,i){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(var n=e.split("."),r=t,s=i,o=0;o<n.length;o++){if(!r.hasOwnProperty(n[o])){s=i;break}s=r[n[o]],r=r[n[o]]}return s}return i}return i}},,function(t,e,i){"use strict";e.a={setEventEmitter:function(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter:function(){this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown()},getEventEmitter:function(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(){return this._eventEmitter&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]}}},function(t,e,i){"use strict";e.a={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,SPLITREGEXP:/(?:\r\n|\r|\n)/}},function(t,e,i){"use strict";var n=i(5);e.a=function(t){return Object(n.a)(t)?t:t.scene&&Object(n.a)(t.scene)?t.scene:t.parent&&t.parent.scene&&Object(n.a)(t.parent.scene)?t.parent.scene:void 0}},function(t,e,i){"use strict";var n=Phaser.Scene;e.a=function(t){return t instanceof n}},function(t,e,i){"use strict";e.a=function(t){if(Array.isArray(t))t.length=0;else for(var e in t)delete t[e]}},function(t,e,i){"use strict";e.a={ODD_R:0,EVEN_R:1,ODD_Q:2,EVEN_Q:3}},function(t,e,i){"use strict";i.d(e,"a",function(){return u}),i.d(e,"d",function(){return h}),i.d(e,"b",function(){return l}),i.d(e,"c",function(){return c});var n=i(7),r=n.a.ODD_R,s=n.a.EVEN_R,o=n.a.ODD_Q,a=n.a.EVEN_Q,u=function(t,e,i,n){switch(void 0===n?n={}:!0===n&&(n=f),t){case r:n.x=e-(i-(1&i))/2,n.z=i;break;case s:n.x=e-(i+(1&i))/2,n.z=i;break;case o:n.x=e,n.z=i-(e-(1&e))/2;break;case a:n.x=e,n.z=i-(e+(1&e))/2}return n.y=-n.x-n.z,n},h=function(t,e,i,n){"number"!=typeof t&&(t=(n=t).x,e=n.y,i=n.z),void 0===n?n={}:!0===n&&(n=f);var r=Math.round(t),s=Math.round(e),o=Math.round(i),a=Math.abs(r-t),u=Math.abs(s-e),h=Math.abs(o-i);return a>u&&a>h?r=-s-o:u>h?s=-r-o:o=-r-s,n.x=r,n.y=s,n.z=o,n},l=function(t,e,i,n,u){switch(void 0===u?u={}:!0===u&&(u=d),t){case r:u.x=e+(n-(1&n))/2,u.y=n;break;case s:u.x=e+(n+(1&n))/2,u.y=n;break;case o:u.x=e,u.y=n+(e-(1&e))/2;break;case a:u.x=e,u.y=n+(e+(1&e))/2}return u},c=function(t,e,i){return void 0===i?i={}:!0===i&&(i=f),i.x=t,i.y=-t-e,i.z=e,i},f={},d={}},function(t,e,i){"use strict";e.a=function(){}},function(t,e,i){"use strict";var n=i(6);e.a=function(t,e){var i=Array.isArray(t);for(var r in void 0===e?e=i?[]:{}:Object(n.a)(e),i&&(e.length=t.length),t)e[r]=t[r];return e}},function(t,e,i){"use strict";var n=i(2);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Phaser.Utils.Objects.GetValue,o=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this._isRunning=!1,this.tickingState=!1,this.setEventEmitter(s(i,"eventEmitter",void 0)),this.setTickingMode(s(i,"tickingMode",1))}var e,i,n;return e=t,(i=[{key:"boot",value:function(){2!==this.tickingMode||this.tickingState||this.startTicking()}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.tickingState&&this.stopTicking()}},{key:"setTickingMode",value:function(t){"string"==typeof t&&(t=a[t]),this.tickingMode=t}},{key:"startTicking",value:function(){this.tickingState=!0}},{key:"stopTicking",value:function(){this.tickingState=!1}},{key:"start",value:function(){return this.isRunning=!0,this}},{key:"pause",value:function(){return this.isRunning=!1,this}},{key:"resume",value:function(){return this.isRunning=!0,this}},{key:"stop",value:function(){return this.isRunning=!1,this}},{key:"complete",value:function(){this.isRunning=!1,this.emit("complete",this.parent,this)}},{key:"isRunning",get:function(){return this._isRunning},set:function(t){this._isRunning!==t&&(this._isRunning=t,1===this.tickingMode&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}}])&&r(e.prototype,i),n&&r(e,n),t}();Object.assign(o.prototype,n.a);var a={no:0,lazy:1,always:2};e.a=o},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.items=[]}var e,i,r;return e=t,(i=[{key:"destroy",value:function(){this.items.length=0,this.items=void 0}},{key:"pop",value:function(){return this.items.length>0?this.items.pop():null}},{key:"push",value:function(t){return this.items.push(t),this}},{key:"pushMultiple",value:function(t){return this.items.push.apply(this.items,t),t.length=0,this}}])&&n(e.prototype,i),r&&n(e,r),t}();e.a=r},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){if("object"!==i(t)||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0}},function(t,e,i){"use strict";var n=i(2),r=i(0),s=i.n(r);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=s()(e,"states",void 0);i&&this.addStates(i);var n=s()(e,"extend",void 0);if(n)for(var r in n)this.hasOwnProperty(r)&&void 0!==this[r]||(this[r]=n[r]);var o=s()(e,"eventEmitter",void 0),a=s()(e,"EventEmitterClass",void 0);this.setEventEmitter(o,a),this._stateLock=!1,this.resetFromJSON(e)}var e,i,n;return e=t,(i=[{key:"shutdown",value:function(){this.destroyEventEmitter()}},{key:"destroy",value:function(){this.shutdown()}},{key:"resetFromJSON",value:function(t){this.setEnable(s()(t,"enable",!0)),this.start(s()(t,"start",void 0));var e=s()(t,"init",void 0);return e&&e.call(this),this}},{key:"toJSON",value:function(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"start",value:function(t){return this._start=t,this._prevState=void 0,this._state=t,this}},{key:"goto",value:function(t){return null!=t&&(this.state=t),this}},{key:"next",value:function(){var t,e=this["next_"+this.state];return e&&(t="string"==typeof e?e:e.call(this)),this.goto(t),this}},{key:"addState",value:function(t,e){var i=s()(e,"next",void 0);i&&(this["next_"+t]=i);var n=s()(e,"exit",void 0);n&&(this["exit_"+t]=n);var r=s()(e,"enter",void 0);return r&&(this["enter_"+t]=r),this}},{key:"addStates",value:function(t){for(var e in t)this.addState(e,t[e]);return this}},{key:"update",value:function(t,e,i){void 0===i&&(i="update");var n=this[i+"_"+this.state];n&&n.call(this,t,e)}},{key:"preupdate",value:function(t,e){this.update(t,e,"preupdate")}},{key:"postupdate",value:function(t,e){this.update(t,e,"postupdate")}},{key:"state",set:function(t){if(this.enable&&!this._stateLock&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),null!=this._prevState){var e="exit_"+this._prevState,i=this[e];i&&i.call(this),this.emit(e,this)}if(this._stateLock=!1,null!=this._state){var n="enter_"+this._state,r=this[n];r&&r.call(this),this.emit(n,this)}}},get:function(){return this._state}},{key:"prevState",get:function(){return this._prevState}}])&&o(e.prototype,i),n&&o(e,n),t}();Object.assign(a.prototype,n.a);var u=a;e.a=u},function(t,e){var i=Math.PI/180;t.exports=function(t){return t*i}},function(t,e,i){"use strict";e.a=function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,i){"use strict";var n=i(32),r={x:0,y:0},s=function(t,e){var i=this.board;return null===i?null:(r.x=t,r.y=e,i.getNeighborTileDirection(this.tileXYZ,r))},o=i(13),a=i.n(o);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=n.a.uidKey,c=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,n.a.add(this,i),this.board=null,this.blocker=!1,this.boot()}var e,i,r;return e=t,(i=[{key:"boot",value:function(){var t=u(this.parent);"number"!==t&&"string"!==t&&this.parent.on&&this.parent.once("destroy",this.destroy,this)}},{key:"destroy",value:function(){this.board&&this.board.removeChess(this[l]),n.a.remove(this[l]),this.parent=void 0,this.board=null}},{key:"setBoard",value:function(t){return this.board=t,this}},{key:"setTileZ",value:function(t){if(null==this.board)return this;var e=this.tileXYZ;this.board.addChess(this.$uid,e.x,e.y,t,!1)}},{key:"setBlocker",value:function(t){return void 0===t&&(t=!0),this.blocker=t,this}},{key:"setBlockEdge",value:function(t,e){!1===this.blocker&&(this.blocker={});var i=this.blocker;if(a()(t)){var n=t;for(t in n)i[t]=n[t]}else void 0===e&&(e=!0),i[t]=e;return this}},{key:"getBlockEdge",value:function(t){var e=this.blocker;return!1!==e&&(!!e.hasOwnProperty(t)&&e[t])}},{key:"tileXYZ",get:function(){return null==this.board?null:this.board.chessToTileXYZ(this[l])}}])&&h(e.prototype,i),r&&h(e,r),t}(),f={getTileDirection:s};Object.assign(c.prototype,f);var d=c,y=i(23);e.a=function(t){return Object(y.a)(t)?n.a.get(t):(t.hasOwnProperty("rexChess")||(t.rexChess=new d(t)),t.rexChess)}},function(t,e,i){"use strict";var n={add:function(t){return Array.isArray(t)?this.addMultiple(t):this._add(t),this},addMultiple:function(t){return t.forEach(this._add,this),this},_add:function(t){return this.children.add(t),this.resetChildState(t).updateChildVisible(t).updateChildActive(t).updateChildScrollFactor(t).updateChildMask(t),this}},r=Phaser.Math.RotateAround,s={worldToLocal:function(t){return t.x-=this.x,t.y-=this.y,r(t,0,0,-this.rotation),t.x/=this.scaleX,t.y/=this.scaleY,t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t},localToWorld:function(t){return t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t.x*=this.scaleX,t.y*=this.scaleY,r(t,0,0,this.rotation),t.x+=this.x,t.y+=this.y,t}},o=function(t,e){return t===e?1:t/e},a={updateChildPosition:function(t){t.isRexContainerLite&&(t.syncChildrenEnable=!1);var e=this.getLocalState(t);return t.x=e.x,t.y=e.y,this.localToWorld(t),t.scaleX=e.scaleX*this.scaleX,t.scaleY=e.scaleY*this.scaleY,void 0!==t.flipX&&(t.flipX=this.flipX?!e.flipX:e.flipX,t.flipY=this.flipY?!e.flipY:e.flipY),t.rotation=e.rotation+this.rotation,t.isRexContainerLite&&(t.syncChildrenEnable=!0,t.syncPosition()),this},syncPosition:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildPosition,this),this},resetChildPositionState:function(t){var e=this.getLocalState(t);return e.x=t.x,e.y=t.y,this.worldToLocal(e),e.scaleX=o(t.scaleX,this.scaleX),e.scaleY=o(t.scaleY,this.scaleY),void 0!==t.flipX&&(e.flipX=t.flipX,e.flipY=t.flipY),e.rotation=t.rotation-this.rotation,this},setChildPosition:function(t,e,i){return t.x=e,t.y=i,this.resetChildPositionState(t),this},setChildLocalPosition:function(t,e,i){var n=this.getLocalState(t);return n.x=e,n.y=i,this.updateChildPosition(t),this}},u={updateChildVisible:function(t){return t.visible=this.visible&&this.getLocalState(t).visible,this},syncVisible:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildVisible,this),this},resetChildVisibleState:function(t){return this.getLocalState(t).visible=t.visible,this},setChildVisible:function(t,e){return t.visible=e,this.resetChildVisibleState(t),this},setChildLocalVisible:function(t,e){return void 0===e&&(e=!0),this.getLocalState(t).visible=e,this.updateChildVisible(t),this}},h={updateChildAlpha:function(t){return t.alpha=this.alpha*this.getLocalState(t).alpha,this},syncAlpha:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildAlpha,this),this},resetChildAlphaState:function(t){return this.getLocalState(t).alpha=o(t.alpha,this.alpha),this},setChildAlpha:function(t,e){return t.alpha=e,this.resetChildAlphaState(t),this._add},setChildLocalAlpha:function(t,e){return this.getLocalState(t).alpha=e,this.updateChildAlpha(t),this}},l={updateChildActive:function(t){return t.active=this.active&&this.getLocalState(t).active,this},syncActive:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildActive,this),this},resetChildActiveState:function(t){return this.getLocalState(t).active=t.active,this},setChildActive:function(t,e){return t.active=e,this.resetChildActiveState(t),this},setChildLocalActive:function(t,e){return void 0===e&&(e=!0),this.getLocalState(t).active=e,this.updateChildActive(t),this}},c={updateChildMask:function(t){return null==this.mask?this:((this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask)!==t&&(t.mask=this.mask),this)},syncMask:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildMask,this),this},setMask:function(t){return this.mask=t,this},clearMask:function(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this}};function f(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d=Phaser.Utils.Array,y={getChildren:function(){return this.children.getChildren()},getAllChildren:function(t){void 0===t&&(t=[]);for(var e,i=this.children.getChildren(),n=0,r=i.length;n<r;n++){var s;if(e=i[n],t.push(e),e.hasOwnProperty("isRexContainerLite"))(s=t).push.apply(s,f(e.getAllChildren()))}return t},contains:function(t){if(this.children.contains(t))return!0;for(var e,i=this.children.getChildren(),n=0,r=i.length;n<r;n++)if((e=i[n]).isRexContainerLite&&e.contains(t))return!0;return!1},getByName:function(t){return d.GetFirst(this.list,"name",t)},getRandom:function(t,e){return d.GetRandom(this.list,t,e)},getFirst:function(t,e,i,n){return d.GetFirstElement(this.list,t,e,i,n)},getAll:function(t,e,i,n){return d.GetAll(this.list,t,e,i,n)},count:function(t,e,i,n){return d.CountAllMatching(this.list,t,e,i,n)},swap:function(t,e){return d.Swap(this.list,t,e),this},moveTo:function(t,e){return d.MoveTo(this.list,t,e),this},setAll:function(t,e,i,n){return d.SetAll(this.list,t,e,i,n),this}};function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function g(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t,e,i,n){return(b="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,i,n){var r,s=w(t,e);if(s){if((r=Object.getOwnPropertyDescriptor(s,e)).set)return r.set.call(n,i),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(n,e)){if(!r.writable)return!1;r.value=i,Object.defineProperty(n,e,r)}else!function(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(n,e,i);return!0})(t,e,i,n)}function m(t,e,i,n,r){if(!b(t,e,i,n||t)&&r)throw new Error("failed to set property");return i}function k(t,e,i){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=w(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function w(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var T=Phaser.GameObjects.Zone,S=Phaser.GameObjects.Components,_=function(t){function e(t,i,n,r,s,o){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Array.isArray(r)&&(o=r,r=void 0),void 0===r&&(r=1),void 0===s&&(s=1),(a=g(this,x(e).call(this,t,i,n,r,s))).children=t.add.group(),a.type="rexContainerLite",a.isRexContainerLite=!0,a.syncChildrenEnable=!0,a._flipX=!1,a._flipY=!1,a._alpha=1,a._active=!0,a._mask=null,a._scrollFactorX=1,a._scrollFactorY=1,o&&a.add(o),a}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,T),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.children.destroy(!t),this.children=void 0,k(x(e.prototype),"destroy",this).call(this,t))}},{key:"resize",value:function(t,e){return this.setSize(t,e),this}},{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.syncPosition())}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.syncPosition())}},{key:"rotation",get:function(){return k(x(e.prototype),"rotation",this)},set:function(t){this.rotation!==t&&(m(x(e.prototype),"rotation",t,this,!0),this.syncPosition())}},{key:"scaleX",get:function(){return k(x(e.prototype),"scaleX",this)},set:function(t){this.scaleX!==t&&(m(x(e.prototype),"scaleX",t,this,!0),this.syncPosition())}},{key:"scaleY",get:function(){return k(x(e.prototype),"scaleY",this)},set:function(t){this.scaleY!==t&&(m(x(e.prototype),"scaleY",t,this,!0),this.syncPosition())}},{key:"flipX",get:function(){return this._flipX},set:function(t){this._flipX!==t&&(this._flipX=t,this.syncPosition())}},{key:"flipY",get:function(){return this._flipY},set:function(t){this._flipY!==t&&(this._flipY=t,this.syncPosition())}},{key:"visible",get:function(){return k(x(e.prototype),"visible",this)},set:function(t){this.visible!==t&&(m(x(e.prototype),"visible",t,this,!0),this.syncVisible())}},{key:"alpha",get:function(){return this._alpha},set:function(t){this._alpha!==t&&(this._alpha=t,this.syncAlpha())}},{key:"active",get:function(){return this._active},set:function(t){this._active!==t&&(this._active=t,this.syncActive())}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask!==t&&(this._mask=t,this.syncMask())}},{key:"scrollFactorX",get:function(){return this._scrollFactorX},set:function(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}},{key:"scrollFactorY",get:function(){return this._scrollFactorY},set:function(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}},{key:"list",get:function(){return this.children.getChildren()}}])&&v(i.prototype,n),r&&v(i,r),e}();Object.assign(_.prototype,n,{remove:function(t,e){return this.children.remove(t,!1,e),this},clear:function(t){return this.children.clear(!1,t),this}},{getLocalState:function(t){return t.hasOwnProperty("rexContainer")||(t.rexContainer={}),t.rexContainer},resetChildState:function(t){return this.resetChildPositionState(t).resetChildVisibleState(t).resetChildAlphaState(t).resetChildActiveState(t),this},resetChildrenState:function(t){for(var e=0,i=t.length;e<i;e++)this.resetChildState(t[e]);return this},syncProperties:function(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},s,a,u,h,{updateChildScrollFactor:function(t){return t.setScrollFactor(this.scrollFactorX,this.scrollFactorY),this},syncScrollFactor:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildScrollFactor,this),this}},l,c,{setDepth:function(t){if(this.depth=t,this.children)for(var e=this.getAllChildren(),i=0,n=e.length;i<n;i++)e[i].depth=t;return this},swapDepth:function(t){var e=this.depth,i=t.depth;return this.setDepth(i),t.setDepth(e),this},incDepth:function(t){if(this.depth+=t,this.children)for(var e=this.getAllChildren(),i=0,n=e.length;i<n;i++)e[i].depth+=t;return this}},y,S.Alpha,S.Flip);e.a=_},function(t,e,i){"use strict";var n=i(9),r=new Phaser.GameObjects.Zone({sys:{queueDepthSort:n.a,events:{once:n.a}}},0,0,1,1);r.setOrigin(0),e.a=r},function(t,e){var i=180/Math.PI;t.exports=function(t){return t*i}},function(t,e,i){"use strict";var n=Phaser.Renderer.WebGL.Utils,r=function(t,e,i,r,s){if(e.dirty&&(e.updateTexture(),e.dirty=!1),0!==e.width&&0!==e.height){var o=e.frame,a=o.width,u=o.height,h=n.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,o.glTexture,a,u,e.x,e.y,a/e.resolution,u/e.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,u,h(e._tintTL,r.alpha*e._alphaTL),h(e._tintTR,r.alpha*e._alphaTR),h(e._tintBL,r.alpha*e._alphaBL),h(e._tintBR,r.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,r,s)}},s=function(t,e,i,n,r){0!==e.width&&0!==e.height&&t.batchSprite(e,e.frame,n,r)},o=i(9),a=(o.a,o.a,{renderWebGL:r,renderCanvas:s}),u=Phaser.Display.Color,h={clear:function(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill:function(t){return this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},getPixel:function(t,e,i){void 0===i&&(i=new u);var n=this.context.getImageData(t,e,1,1);return i.setTo(n.data[0],n.data[1],n.data[2],n.data[3]),i},setPixel:function(t,e,i,n,r,s){if("number"!=typeof i){var o=i;i=o.red,n=o.green,r=o.blue,s=o.alpha}void 0===s&&(s=0!==i||0!==n||0!==r?255:0);var a=this.context.createImageData(1,1);return a.data[0]=i,a.data[1]=n,a.data[2]=r,a.data[3]=s,this.context.putImageData(a,t,e),this.dirty=!0,this}},l={updateTexture:function(t,e){t&&(e?t.call(e,this.canvas,this.context):t(this.canvas,this.context)),this.canvas.width===this.frame.width&&this.canvas.height===this.frame.height||this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!1;var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},generateTexture:function(t,e,i,n,r){var s,o=this.canvas,a=this.scene.sys,u=a.game.renderer;void 0===e&&(e=0),void 0===i&&(i=0),void 0===n?n=o.width:n*=this.resolution,void 0===r?r=o.height:r*=this.resolution;var h=(s=a.textures.exists(t)?a.textures.get(t):a.textures.createCanvas(t,n,r)).getSourceImage();h.width!==n&&(h.width=n),h.height!==r&&(h.height=r);var l=h.getContext("2d");return l.clearRect(0,0,n,r),l.drawImage(o,e,i,n,r),u.gl&&s&&u.canvasToTexture(h,s.source[0].glTexture,!0,0),this},loadTexture:function(t,e){var i=this.scene.textures.getFrame(t,e);return i?(this.width!==i.cutWidth||this.height!==i.cutHeight?this.resize(i.cutWidth,i.cutHeight):this.context.clearRect(0,0,i.cutWidth,i.cutHeight),this.context.drawImage(i.source.image,i.cutX,i.cutY,i.cutWidth,i.cutHeight,0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this):this}};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=Phaser.Display.Canvas.CanvasPool,g=Phaser.GameObjects.GameObject,b=function(t){function e(t,i,n,r,s){var o,a,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===s&&(s=1),a=this,(o=!(u=d(e).call(this,t,"rexCanvas"))||"object"!==c(u)&&"function"!=typeof u?y(a):u).renderer=t.sys.game.renderer,o.resolution=t.sys.game.config.resolution,o.canvas=v.create(y(o),o.resolution*r,o.resolution*s),o.context=o.canvas.getContext("2d"),o.dirty=!1,o.setPosition(i,n),o.setSize(r,s),o.setOrigin(.5,.5),o.initPipeline(),o._crop=o.resetCropObject(),o.texture=t.sys.textures.addCanvas(null,o.canvas,!0),o.frame=o.texture.get(),o.frame.source.resolution=o.resolution,o.renderer&&o.renderer.gl&&(o.renderer.deleteTexture(o.frame.source.glTexture),o.frame.source.glTexture=null),o.dirty=!0,t.sys.game.events.on("contextrestored",function(){this.dirty=!0},y(o)),o}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,g),i=e,(n=[{key:"getCanvas",value:function(t){return t||(this.dirty=!0),this.canvas}},{key:"needRedraw",value:function(){return this.dirty=!0,this}},{key:"preDestroy",value:function(){v.remove(this.canvas)}},{key:"resize",value:function(t,e){return this.width===t&&this.height===e?this:(this.setSize(t,e).updateDisplayOrigin(),t*=this.resolution,e*=this.resolution,t=Math.max(Math.ceil(t),1),e=Math.max(Math.ceil(e),1),this.canvas.width=t,this.canvas.height=e,this.dirty=!0,this)}}])&&f(i.prototype,n),r&&f(i,r),e}(),m=Phaser.GameObjects.Components;Phaser.Class.mixin(b,[m.Alpha,m.BlendMode,m.ComputedSize,m.Crop,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.ScrollFactor,m.Tint,m.Transform,m.Visible,a,h,l]);e.a=b},,function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a=function(t){var e=n(t);return"number"===e||"string"===e}},function(t,e,i){"use strict";e.a=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=e.length),t.length=n-i;for(var r=0,s=t.length;r<s;r++)t[r]=e[r+i];return t}},function(t,e,i){"use strict";var n=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i;e.a=function(t){return"string"!=typeof t?t:(""===t?t=null:n.test(t)?t=parseFloat(t):"false"===screen?t=!1:"true"===t&&(t=!0),t)}},function(t,e,i){"use strict";e.a=function(t,e){return t&&e&&t.x===e.x&&t.y===e.y}},function(t,e,i){"use strict";e.a=function(t){for(var e=[],i=0;i<t;i++)e.push({x:0,y:0});return e}},function(t,e,i){"use strict";var n=Phaser.Display.Canvas.CanvasPool,r=function(t){var e=n.create(this),i=e.getContext("2d");t.syncFont(e,i);var r=Math.ceil(i.measureText(t.testString).width*t.baselineX),s=r,o=2*s;s=s*t.baselineY|0,e.width=r,e.height=o,i.fillStyle="#f00",i.fillRect(0,0,r,o),i.font=t._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(t.testString,0,s);var a={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,r,o))return a.ascent=s,a.descent=s+6,a.fontSize=a.ascent+a.descent,n.remove(e),a;var u,h,l=i.getImageData(0,0,r,o).data,c=l.length,f=4*r,d=0,y=!1;for(u=0;u<s;u++){for(h=0;h<f;h+=4)if(255!==l[d+h]){y=!0;break}if(y)break;d+=f}for(a.ascent=s-u,d=c-f,y=!1,u=o;u>s;u--){for(h=0;h<f;h+=4)if(255!==l[d+h]){y=!0;break}if(y)break;d-=f}return a.descent=u-s,a.fontSize=a.ascent+a.descent,n.remove(e),a},s=i(3);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=Phaser.Utils.Objects.GetAdvancedValue,u=Phaser.Utils.Objects.GetValue,h={backgroundColor:["backgroundColor",null],fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],underlineColor:["underline.color","#000"],underlineThickness:["underline.thickness",0],underlineOffset:["underline.offset",0],halign:["halign","left"],valign:["valign","top"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],lineSpacing:["lineSpacing",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wrapMode:["wrap.mode",1],wrapWidth:["wrap.width",0]},l=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.backgroundColor,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.lineSpacing,this.rtl,this.testString,this.baselineX,this.baselineY,this._font,this.setStyle(i,!1);var n=u(i,"metrics",!1);this.metrics=n?{ascent:u(n,"ascent",0),descent:u(n,"descent",0),fontSize:u(n,"fontSize",0)}:r(this)}var e,i,n;return e=t,(i=[{key:"setStyle",value:function(t,e){if(void 0===e&&(e=!0),t&&t.hasOwnProperty("wrap")){var i=t.wrap;if(i.hasOwnProperty("mode")){var n=i.mode;"string"==typeof n&&(i.mode=c[n])}else i.hasOwnProperty("width")&&(i.mode=1)}for(var r in t&&t.hasOwnProperty("fontSize")&&"number"==typeof t.fontSize&&(t.fontSize=t.fontSize.toString()+"px"),h)this[r]="wrapCallback"===r||"wrapCallbackScope"===r?u(t,h[r][0],h[r][1]):a(t,h[r][0],h[r][1]);var s=u(t,"font",null);this._font=null===s?this.fontStyle+" "+this.fontSize+" "+this.fontFamily:s;var o=u(t,"fill",null);return null!==o&&(this.color=o),e?this.update(!0):this.parent}},{key:"syncFont",value:function(t,e){e.font=this._font}},{key:"syncStyle",value:function(t,e){e.textBaseline="alphabetic",e.fillStyle=this.color,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round"}},{key:"syncShadow",value:function(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}},{key:"update",value:function(t){return t&&(this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily,this.metrics=r(this)),this.parent.updateText(t)}},{key:"buildFont",value:function(){var t=this.fontStyle+" "+this.fontSize+" "+this.fontFamily;return t!==this._font&&(this._font=t),this}},{key:"setFont",value:function(t){return"string"==typeof t?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=u(t,"fontFamily","Courier"),this.fontSize=u(t,"fontSize","16px"),this.fontStyle=u(t,"fontStyle","")),this.update(!0)}},{key:"setFontFamily",value:function(t){return this.fontFamily=t,this.update(!0)}},{key:"setFontStyle",value:function(t){return this.fontStyle=t,this.update(!0)}},{key:"setFontSize",value:function(t){return"number"==typeof t&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}},{key:"setTestString",value:function(t){return this.testString=t,this.update(!0)}},{key:"setFixedSize",value:function(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.parent.width=t),e&&(this.parent.height=e),this.update(!1)}},{key:"setResolution",value:function(t){return this.resolution=t,this.update(!1)}},{key:"setLineSpacing",value:function(t){return this.lineSpacing=t,this.update(!1)}},{key:"setBackgroundColor",value:function(t){return this.backgroundColor=t,this.update(!1)}},{key:"setFill",value:function(t){return this.color=t,this.update(!1)}},{key:"setColor",value:function(t){return this.color=t,this.update(!1)}},{key:"setStroke",value:function(t,e){return void 0===t?this.strokeThickness=0:(void 0===e&&(e=this.strokeThickness),this.stroke=t,this.strokeThickness=e),this.update(!0)}},{key:"setShadow",value:function(t,e,i,n,r,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i="#000"),void 0===n&&(n=0),void 0===r&&(r=!1),void 0===s&&(s=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=i,this.shadowBlur=n,this.shadowStroke=r,this.shadowFill=s,this.update(!1)}},{key:"setShadowOffset",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)}},{key:"setShadowColor",value:function(t){return void 0===t&&(t="#000"),this.shadowColor=t,this.update(!1)}},{key:"setShadowBlur",value:function(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)}},{key:"setShadowStroke",value:function(t){return this.shadowStroke=t,this.update(!1)}},{key:"setShadowFill",value:function(t){return this.shadowFill=t,this.update(!1)}},{key:"setUnderline",value:function(t,e,i){return void 0===t&&(t="#000"),void 0===e&&(e=0),void 0===i&&(i=0),this.underlineColor=t,this.underlineThickness=e,this.underlineOffset=i,this.update(!1)}},{key:"setUnderlineColor",value:function(t){return void 0===t&&(t="#000"),this.underlineColor=t,this.update(!1)}},{key:"setUnderlineThickness",value:function(t){return void 0===t&&(t=0),this.underlineThickness=t,this.update(!1)}},{key:"setUnderlineOffset",value:function(t){return void 0===t&&(t=0),this.underlineOffset=t,this.update(!1)}},{key:"setWrapMode",value:function(t){return"string"==typeof t&&(t=c[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}},{key:"setWrapWidth",value:function(t){return this.wrapWidth=t,this.update(!1)}},{key:"setAlign",value:function(t,e){return void 0===t&&(t="left"),void 0===e&&(e="top"),this.halign=t,this.valign=e,this.update(!1)}},{key:"setHAlign",value:function(t){return void 0===t&&(t="left"),this.halign=t,this.update(!1)}},{key:"setVAlign",value:function(t){return void 0===t&&(t="top"),this.valign=t,this.update(!1)}},{key:"setMaxLines",value:function(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)}},{key:"getTextMetrics",value:function(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}},{key:"toJSON",value:function(){var t={};for(var e in h)t[e]=this[e];return t.metrics=this.getTextMetrics(),t}},{key:"destroy",value:function(){this.parent=void 0}},{key:"lineHeight",get:function(){return this.metrics.fontSize+this.strokeThickness+this.lineSpacing}}])&&o(e.prototype,i),n&&o(e,n),t}(),c=(s.a.hleft,s.a.hcenter,s.a.hright,s.a.vtop,s.a.vcenter,s.a.vbottom,{none:s.a.NO_WRAP,word:s.a.WORD_WRAP,char:s.a.CHAR_WRAP,character:s.a.CHAR_WRAP});e.a=l},,function(t,e,i){"use strict";var n=i(11),r=i(4);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=Object(r.a)(t);return s===t&&(t=void 0),(n=a(this,h(e).call(this,s,i))).scene=s,n.gameObject=t,t&&t.setInteractive(c(i,"inputConfig",void 0)),n.resetFromJSON(i),n.boot(),n}var i,s,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,n["a"]),i=e,(s=[{key:"resetFromJSON",value:function(t){return this.setEnable(c(t,"enable",!0)),void 0===this.gameObject?this.bounds=c(t,"bounds",void 0):this.bounds=void 0,this.tracerState=d,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}},{key:"boot",value:function(){u(h(e.prototype),"boot",this).call(this),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.gameObject?this.gameObject.off("pointerdown",this.onPointerDown,this):this.scene&&this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene&&(this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0,this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,u(h(e.prototype),"shutdown",this).call(this)}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.dragCancel(),this.enable=t,this)}},{key:"onPointerDown",value:function(t,e){this.enable&&(void 0===this.pointer&&(!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer!==t&&(this.pointer=t,this.lastPointer=t,this.movedState=!1,this.tracerState=y,void 0===this.gameObject&&(this.isTouchingAnyObject=e.length>0),this.onDragStart()))}},{key:"onPointerUp",value:function(t){this.enable&&((!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer===t&&(this.pointer=void 0,this.movedState=!1,this.tracerState=d,this.onDragEnd()))}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),i=this.pointer===t;!i&&e||(i&&!e?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}},{key:"dragCancel",value:function(){return this.tracerState===y&&this.onDragEnd(),this.pointer=void 0,this.tracerState=d,this}},{key:"onDragStart",value:function(){this.emit("dragstart",this)}},{key:"onDragEnd",value:function(){this.emit("dragend",this)}},{key:"onDrag",value:function(){this.emit("drag",this)}},{key:"preUpdate",value:function(t,e){}},{key:"postUpdate",value:function(t,e){}},{key:"startTicking",value:function(){u(h(e.prototype),"startTicking",this).call(this),this.scene.events.on("preupdate",this.preUpdate,this),this.scene.events.on("postupdate",this.postUpdate,this)}},{key:"stopTicking",value:function(){u(h(e.prototype),"stopTicking",this).call(this),this.scene&&(this.scene.events.off("preupdate",this.preUpdate,this),this.scene.events.off("postupdate",this.postUpdate,this))}},{key:"setRecongizedStateObject",value:function(t){return this.recongizedState=t,this}},{key:"cancel",value:function(){return this.state=p,this}},{key:"state",get:function(){return this.recongizedState.state},set:function(t){this.recongizedState.state=t}}])&&o(i.prototype,s),f&&o(i,f),e}(),d=0,y=1,p="IDLE";e.a=f},function(t,e){t.exports=function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[i],t[i]=n}return t}},function(t,e,i){"use strict";var n=new(i(131).a)({uidKey:"$uid",remove:!1});e.a=n},function(t,e,i){var n,r,s;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),r=[],void 0===(s="function"==typeof(n=function(){"use strict";var t,e,i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i?i:{},n=!i.document&&!!i.postMessage,r=n&&/(\?|&)papaworker(=|&|$)/.test(i.location.search),s=!1,a={},u=0,h={parse:function(e,n){var r=(n=n||{}).dynamicTyping||!1;if(T(r)&&(n.dynamicTypingFunction=r,r={}),n.dynamicTyping=r,n.transform=!!T(n.transform)&&n.transform,n.worker&&h.WORKERS_SUPPORTED){var o=function(){if(!h.WORKERS_SUPPORTED)return!1;if(!s&&null===h.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=h.SCRIPT_PATH||t;e+=(-1!==e.indexOf("?")?"&":"?")+"papaworker";var n=new i.Worker(e);return n.onmessage=m,n.id=u++,a[n.id]=n}();return o.userStep=n.step,o.userChunk=n.chunk,o.userComplete=n.complete,o.userError=n.error,n.step=T(n.step),n.chunk=T(n.chunk),n.complete=T(n.complete),n.error=T(n.error),delete n.worker,void o.postMessage({input:e,config:n,workerId:o.id})}var l=null;return h.NODE_STREAM_INPUT,"string"==typeof e?l=n.download?new f(n):new y(n):!0===e.readable&&T(e.read)&&T(e.on)?l=new p(n):(i.File&&e instanceof File||e instanceof Object)&&(l=new d(n)),l.stream(e)},unparse:function(t,e){var i=!1,n=!0,r=",",s="\r\n",a='"',u=!1;"object"==o(e)&&("string"!=typeof e.delimiter||h.BAD_DELIMITERS.filter(function(t){return-1!==e.delimiter.indexOf(t)}).length||(r=e.delimiter),("boolean"==typeof e.quotes||Array.isArray(e.quotes))&&(i=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(u=e.skipEmptyLines),"string"==typeof e.newline&&(s=e.newline),"string"==typeof e.quoteChar&&(a=e.quoteChar),"boolean"==typeof e.header&&(n=e.header));var l=new RegExp(g(a),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return f(null,t,u);if("object"==o(t[0]))return f(c(t[0]),t,u)}else if("object"==o(t))return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:c(t.data[0])),Array.isArray(t.data[0])||"object"==o(t.data[0])||(t.data=[t.data])),f(t.fields||[],t.data||[],u);throw"exception: Unable to serialize unrecognized input";function c(t){if("object"!=o(t))return[];var e=[];for(var i in t)e.push(i);return e}function f(t,e,i){var o="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var a=Array.isArray(t)&&0<t.length,u=!Array.isArray(e[0]);if(a&&n){for(var h=0;h<t.length;h++)0<h&&(o+=r),o+=d(t[h],h);0<e.length&&(o+=s)}for(var l=0;l<e.length;l++){var c=a?t.length:e[l].length,f=!1,y=a?0===Object.keys(e[l]).length:0===e[l].length;if(i&&!a&&(f="greedy"===i?""===e[l].join("").trim():1===e[l].length&&0===e[l][0].length),"greedy"===i&&a){for(var p=[],v=0;v<c;v++){var g=u?t[v]:v;p.push(e[l][g])}f=""===p.join("").trim()}if(!f){for(var b=0;b<c;b++){0<b&&!y&&(o+=r);var m=a&&u?t[b]:b;o+=d(e[l][m],b)}l<e.length-1&&(!i||0<c&&!y)&&(o+=s)}}return o}function d(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);t=t.toString().replace(l,a+a);var n="boolean"==typeof i&&i||Array.isArray(i)&&i[e]||function(t,e){for(var i=0;i<e.length;i++)if(-1<t.indexOf(e[i]))return!0;return!1}(t,h.BAD_DELIMITERS)||-1<t.indexOf(r)||" "===t.charAt(0)||" "===t.charAt(t.length-1);return n?a+t+a:t}}};if(h.RECORD_SEP=String.fromCharCode(30),h.UNIT_SEP=String.fromCharCode(31),h.BYTE_ORDER_MARK="\ufeff",h.BAD_DELIMITERS=["\r","\n",'"',h.BYTE_ORDER_MARK],h.WORKERS_SUPPORTED=!n&&!!i.Worker,h.SCRIPT_PATH=null,h.NODE_STREAM_INPUT=1,h.LocalChunkSize=10485760,h.RemoteChunkSize=5242880,h.DefaultDelimiter=",",h.Parser=b,h.ParserHandle=v,h.NetworkStreamer=f,h.FileStreamer=d,h.StringStreamer=y,h.ReadableStreamStreamer=p,i.jQuery){var l=i.jQuery;l.fn.parse=function(t){var e=t.config||{},n=[];return this.each(function(t){if("INPUT"!==l(this).prop("tagName").toUpperCase()||"file"!==l(this).attr("type").toLowerCase()||!i.FileReader||!this.files||0===this.files.length)return!0;for(var r=0;r<this.files.length;r++)n.push({file:this.files[r],inputElem:this,instanceConfig:l.extend({},e)})}),r(),this;function r(){if(0!==n.length){var e,i,r,a,u=n[0];if(T(t.before)){var c=t.before(u.file,u.inputElem);if("object"==o(c)){if("abort"===c.action)return e="AbortError",i=u.file,r=u.inputElem,a=c.reason,void(T(t.error)&&t.error({name:e},i,r,a));if("skip"===c.action)return void s();"object"==o(c.config)&&(u.instanceConfig=l.extend(u.instanceConfig,c.config))}else if("skip"===c)return void s()}var f=u.instanceConfig.complete;u.instanceConfig.complete=function(t){T(f)&&f(t,u.file,u.inputElem),s()},h.parse(u.file,u.instanceConfig)}else T(t.complete)&&t.complete()}function s(){n.splice(0,1),r()}}}function c(t){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=x(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new v(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,e){if(this.isFirstChunk&&T(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(t);void 0!==n&&(t=n)}this.isFirstChunk=!1;var s=this._partialLine+t;this._partialLine="";var o=this._handle.parse(s,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var a=o.meta.cursor;this._finished||(this._partialLine=s.substring(a-this._baseIndex),this._baseIndex=a),o&&o.data&&(this._rowCount+=o.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)i.postMessage({results:o,workerId:h.WORKER_ID,finished:u});else if(T(this._config.chunk)&&!e){if(this._config.chunk(o,this._handle),this._handle.paused()||this._handle.aborted())return;o=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),this._completed||!u||!T(this._config.complete)||o&&o.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||o&&o.meta.paused||this._nextChunk(),o}},this._sendError=function(t){T(this._config.error)?this._config.error(t):r&&this._config.error&&i.postMessage({workerId:h.WORKER_ID,error:t,finished:!1})}}function f(t){var e;(t=t||{}).chunkSize||(t.chunkSize=h.RemoteChunkSize),c.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=O(this._chunkLoaded,this),e.onerror=O(this._chunkError,this)),e.open("GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var i in t)e.setRequestHeader(i,t[i])}if(this._config.chunkSize){var r=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+r),e.setRequestHeader("If-None-Match","webkit-no-cache")}try{e.send()}catch(t){this._chunkError(t.message)}n&&0===e.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){var t;4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._finished=!this._config.chunkSize||this._start>(null===(t=e.getResponseHeader("Content-Range"))?-1:parseInt(t.substr(t.lastIndexOf("/")+1))),this.parseChunk(e.responseText)))},this._chunkError=function(t){var i=e.statusText||t;this._sendError(new Error(i))}}function d(t){var e,i;(t=t||{}).chunkSize||(t.chunkSize=h.LocalChunkSize),c.call(this,t);var n="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,i=t.slice||t.webkitSlice||t.mozSlice,n?((e=new FileReader).onload=O(this._chunkLoaded,this),e.onerror=O(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);t=i.call(t,this._start,r)}var s=e.readAsText(t,this._config.encoding);n||this._chunkLoaded({target:{result:s}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function y(t){var e;c.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,i=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(i)}}}function p(t){c.call(this,t=t||{});var e=[],i=!0,n=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):i=!0},this._streamData=O(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=O(function(t){this._streamCleanUp(),this._sendError(t)},this),this._streamEnd=O(function(){this._streamCleanUp(),n=!0,this._streamData("")},this),this._streamCleanUp=O(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(t){var e,i,n,r=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,s=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,o=this,a=0,u=0,l=!1,c=!1,f=[],d={data:[],errors:[],meta:{}};if(T(t.step)){var y=t.step;t.step=function(e){if(d=e,m())v();else{if(v(),0===d.data.length)return;a+=e.data.length,t.preview&&a>t.preview?i.abort():y(d,o)}}}function p(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function v(){if(d&&n&&(w("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+h.DefaultDelimiter+"'"),n=!1),t.skipEmptyLines)for(var e=0;e<d.data.length;e++)p(d.data[e])&&d.data.splice(e--,1);return m()&&function(){if(d){for(var e=0;m()&&e<d.data.length;e++)for(var i=0;i<d.data[e].length;i++){var n=d.data[e][i];t.trimHeaders&&(n=n.trim()),f.push(n)}d.data.splice(0,1)}}(),function(){if(!d||!t.header&&!t.dynamicTyping&&!t.transform)return d;for(var e=0;e<d.data.length;e++){var i,n=t.header?{}:[];for(i=0;i<d.data[e].length;i++){var r=i,s=d.data[e][i];t.header&&(r=i>=f.length?"__parsed_extra":f[i]),t.transform&&(s=t.transform(s,r)),s=k(r,s),"__parsed_extra"===r?(n[r]=n[r]||[],n[r].push(s)):n[r]=s}d.data[e]=n,t.header&&(i>f.length?w("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+i,u+e):i<f.length&&w("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+i,u+e))}return t.header&&d.meta&&(d.meta.fields=f),u+=d.data.length,d}()}function m(){return t.header&&0===f.length}function k(e,i){return n=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[n]&&(t.dynamicTyping[n]=t.dynamicTypingFunction(n)),!0===(t.dynamicTyping[n]||t.dynamicTyping)?"true"===i||"TRUE"===i||"false"!==i&&"FALSE"!==i&&(r.test(i)?parseFloat(i):s.test(i)?new Date(i):""===i?null:i):i;var n}function w(t,e,i,n){d.errors.push({type:t,code:e,message:i,row:n})}this.parse=function(r,s,o){var a=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substr(0,1048576);var i=new RegExp(g(e)+"([^]*?)"+g(e),"gm"),n=(t=t.replace(i,"")).split("\r"),r=t.split("\n"),s=1<r.length&&r[0].length<n[0].length;if(1===n.length||s)return"\n";for(var o=0,a=0;a<n.length;a++)"\n"===n[a][0]&&o++;return o>=n.length/2?"\r\n":"\r"}(r,a)),n=!1,t.delimiter)T(t.delimiter)&&(t.delimiter=t.delimiter(r),d.meta.delimiter=t.delimiter);else{var u=function(e,i,n,r){for(var s,o,a,u=[",","\t","|",";",h.RECORD_SEP,h.UNIT_SEP],l=0;l<u.length;l++){var c=u[l],f=0,d=0,y=0;a=void 0;for(var v=new b({comments:r,delimiter:c,newline:i,preview:10}).parse(e),g=0;g<v.data.length;g++)if(n&&p(v.data[g]))y++;else{var m=v.data[g].length;d+=m,void 0!==a?1<m&&(f+=Math.abs(m-a),a=m):a=0}0<v.data.length&&(d/=v.data.length-y),(void 0===o||o<f)&&1.99<d&&(o=f,s=c)}return{successful:!!(t.delimiter=s),bestDelimiter:s}}(r,t.newline,t.skipEmptyLines,t.comments);u.successful?t.delimiter=u.bestDelimiter:(n=!0,t.delimiter=h.DefaultDelimiter),d.meta.delimiter=t.delimiter}var c=x(t);return t.preview&&t.header&&c.preview++,e=r,i=new b(c),d=i.parse(e,s,o),v(),l?{meta:{paused:!0}}:d||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,i.abort(),e=e.substr(i.getCharIndex())},this.resume=function(){l=!1,o.streamer.parseChunk(e,!0)},this.aborted=function(){return c},this.abort=function(){c=!0,i.abort(),d.meta.aborted=!0,T(t.complete)&&t.complete(d),e=""}}function g(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(t){var e,i=(t=t||{}).delimiter,n=t.newline,r=t.comments,s=t.step,o=t.preview,a=t.fastMode,u=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(u=t.escapeChar),("string"!=typeof i||-1<h.BAD_DELIMITERS.indexOf(i))&&(i=","),r===i)throw"Comment character same as delimiter";!0===r?r="#":("string"!=typeof r||-1<h.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var l=0,c=!1;this.parse=function(t,h,f){if("string"!=typeof t)throw"Input must be a string";var d=t.length,y=i.length,p=n.length,v=r.length,b=T(s),m=[],k=[],w=[],x=l=0;if(!t)return A();if(a||!1!==a&&-1===t.indexOf(e)){for(var O=t.split(n),S=0;S<O.length;S++){if(w=O[S],l+=w.length,S!==O.length-1)l+=n.length;else if(f)return A();if(!r||w.substr(0,v)!==r){if(b){if(m=[],D(w.split(i)),I(),c)return A()}else D(w.split(i));if(o&&o<=S)return m=m.slice(0,o),A(!0)}}return A()}for(var _,P=t.indexOf(i,l),C=t.indexOf(n,l),j=new RegExp(g(u)+g(e),"g");;)if(t[l]!==e)if(r&&0===w.length&&t.substr(l,v)===r){if(-1===C)return A();l=C+p,C=t.indexOf(n,l),P=t.indexOf(i,l)}else if(-1!==P&&(P<C||-1===C))w.push(t.substring(l,P)),l=P+y,P=t.indexOf(i,l);else{if(-1===C)break;if(w.push(t.substring(l,C)),X(C+p),b&&(I(),c))return A();if(o&&m.length>=o)return A(!0)}else for(_=l,l++;;){if(-1===(_=t.indexOf(e,_+1)))return f||k.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:m.length,index:l}),Y();if(_===d-1)return Y(t.substring(l,_).replace(j,e));if(e!==u||t[_+1]!==u){if(e===u||0===_||t[_-1]!==u){var E=R(-1===C?P:Math.min(P,C));if(t[_+1+E]===i){w.push(t.substring(l,_).replace(j,e)),l=_+1+E+y,P=t.indexOf(i,l),C=t.indexOf(n,l);break}var M=R(C);if(t.substr(_+1+M,p)===n){if(w.push(t.substring(l,_).replace(j,e)),X(_+1+M+p),P=t.indexOf(i,l),b&&(I(),c))return A();if(o&&m.length>=o)return A(!0);break}k.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:m.length,index:l}),_++}}else _++}return Y();function D(t){m.push(t),x=l}function R(e){var i=0;if(-1!==e){var n=t.substring(_+1,e);n&&""===n.trim()&&(i=n.length)}return i}function Y(e){return f||(void 0===e&&(e=t.substr(l)),w.push(e),l=d,D(w),b&&I()),A()}function X(e){l=e,D(w),w=[],C=t.indexOf(n,l)}function A(t){return{data:m,errors:k,meta:{delimiter:i,linebreak:n,aborted:c,truncated:!!t,cursor:x+(h||0)}}}function I(){s(A()),m=[],k=[]}},this.abort=function(){c=!0},this.getCharIndex=function(){return l}}function m(t){var e=t.data,i=a[e.workerId],n=!1;if(e.error)i.userError(e.error,e.file);else if(e.results&&e.results.data){var r={abort:function(){n=!0,k(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:w,resume:w};if(T(i.userStep)){for(var s=0;s<e.results.data.length&&(i.userStep({data:[e.results.data[s]],errors:e.results.errors,meta:e.results.meta},r),!n);s++);delete e.results}else T(i.userChunk)&&(i.userChunk(e.results,r,e.file),delete e.results)}e.finished&&!n&&k(e.workerId,e.results)}function k(t,e){var i=a[t];T(i.userComplete)&&i.userComplete(e),i.terminate(),delete a[t]}function w(){throw"Not implemented."}function x(t){if("object"!=o(t)||null===t)return t;var e=Array.isArray(t)?[]:{};for(var i in t)e[i]=x(t[i]);return e}function O(t,e){return function(){t.apply(e,arguments)}}function T(t){return"function"==typeof t}return r?i.onmessage=function(t){var e=t.data;if(void 0===h.WORKER_ID&&e&&(h.WORKER_ID=e.workerId),"string"==typeof e.input)i.postMessage({workerId:h.WORKER_ID,results:h.parse(e.input,e.config),finished:!0});else if(i.File&&e.input instanceof File||e.input instanceof Object){var n=h.parse(e.input,e.config);n&&i.postMessage({workerId:h.WORKER_ID,results:n,finished:!0})}}:h.WORKERS_SUPPORTED&&(e=document.getElementsByTagName("script"),t=e.length?e[e.length-1].src:"",document.body?document.addEventListener("DOMContentLoaded",function(){s=!0},!0):s=!0),(f.prototype=Object.create(c.prototype)).constructor=f,(d.prototype=Object.create(c.prototype)).constructor=d,(y.prototype=Object.create(y.prototype)).constructor=y,(p.prototype=Object.create(c.prototype)).constructor=p,h})?n.apply(e,r):n)||(t.exports=s)},function(t,e){t.exports=function(t,e,i){var n=i-e;return e+((t-e)%n+n)%n}},function(t,e,i){var n=i(186),r=[];r[n.BOTTOM_CENTER]=i(187),r[n.BOTTOM_LEFT]=i(188),r[n.BOTTOM_RIGHT]=i(189),r[n.CENTER]=i(190),r[n.LEFT_CENTER]=i(192),r[n.RIGHT_CENTER]=i(193),r[n.TOP_CENTER]=i(194),r[n.TOP_LEFT]=i(195),r[n.TOP_RIGHT]=i(196);t.exports=function(t,e,i,n,s){return r[i](t,e,n,s)}},function(t,e){t.exports=function(t,e,i,n){return Math.atan2(n-e,i-t)}},,function(t,e,i){"use strict";e.a=function(t,e,i){!t||void 0===e&&void 0===i||(t.resize?(void 0===e&&(e=t.width),void 0===i&&(i=t.height),t.resize(e,i)):(void 0!==e&&(t.displayWidth=e),void 0!==i&&(t.displayHeight=i)))}},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=Phaser.Utils.Objects.GetValue,s=function(){function t(e,i,n,r,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cornerRadius={},this._width=0,this._height=0,this.setTo(e,i,n,r,s)}var e,i,s;return e=t,(i=[{key:"setTo",value:function(t,e,i,n,r){return this.setPosition(t,e),this.setRadius(r),this.setSize(i,n),this}},{key:"setPosition",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}},{key:"setRadius",value:function(t){var e,i;void 0===t&&(t=0),"number"==typeof t?(e=t,i=t):(e=r(t,"x",0),i=r(t,"y",0));var n=this.cornerRadius;return n.tl=o(r(t,"tl",void 0),e,i),n.tr=o(r(t,"tr",void 0),e,i),n.bl=o(r(t,"bl",void 0),e,i),n.br=o(r(t,"br",void 0),e,i),this}},{key:"setSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"minWidth",get:function(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}},{key:"minHeight",get:function(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}},{key:"width",get:function(){return this._width},set:function(t){null==t&&(t=0),this._width=Math.max(t,this.minWidth)}},{key:"height",get:function(){return this._height},set:function(t){null==t&&(t=0),this._height=Math.max(t,this.minHeight)}},{key:"radius",get:function(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}}])&&n(e.prototype,i),s&&n(e,s),t}(),o=function(t,e,i){return void 0===t?{x:e,y:i}:"number"==typeof t?{x:t,y:t}:t},a=s,u=function(t,e,i){var n=i.length;if(n>=2){var r=i[n-2],s=i[n-1];if(t===r&&e===s)return i}return i.push(t,e),i},h=i(15),l=i.n(h),c=Phaser.Utils.Objects.GetValue,f=function(t,e,i,n,r,s,o,a){var h,f,d,y=c(i,"x",i),p=c(i,"y",i);s&&(r+=360),n=l()(n);for(var v=((r=l()(r))-n)/o,g=0;g<=o;g++)d=n+v*g,h=t+y*Math.cos(d),f=e+p*Math.sin(d),u(h,f,a);return a},d=i(124),y=i.n(d),p=i(125),v=i.n(p),g=i(126),b=i.n(g),m=i(9),k=(m.a,m.a,{renderWebGL:v.a,renderCanvas:b.a});function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function O(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _=Phaser.Utils.Objects.GetValue,P=function(t){function e(t,i,n,r,s,o,u,h){var l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i=0),void 0===n&&(n=0);var c=_(o,"iteration",void 0);o=_(o,"radius",o);var f=new a(0,0,r,s,o);return(l=O(this,T(e).call(this,t,"RoundRectangle",f))).setIteration(c),l.setPosition(i,n),void 0!==u&&l.setFillStyle(u,h),l.updateDisplayOrigin(),l.updateData(),l}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,Phaser.GameObjects.Shape),i=e,(n=[{key:"updateData",value:function(){var t=this.geom,e=this.pathData;e.length=0;var i,n=t.cornerRadius,r=this.iteration+1;if(i=n.br,C(i)){var s=t.width-i.x,o=t.height-i.y;f(s,o,i,0,90,!1,r,e)}else u(t.width,t.height,e);if(i=n.bl,C(i)){s=i.x,o=t.height-i.y;f(s,o,i,90,180,!1,r,e)}else u(0,t.height,e);if(i=n.tl,C(i)){s=i.x,o=i.y;f(s,o,i,180,270,!1,r,e)}else u(0,0,e);if(i=n.tr,C(i)){s=t.width-i.x,o=i.y;f(s,o,i,270,360,!1,r,e)}else u(t.width,0,e);return e.push(e[0],e[1]),this.pathIndexes=y()(e),this}},{key:"resize",value:function(t,e){if(void 0===e&&(e=t),this.geom.width===t&&this.geom.height===e)return this;this.geom.height=e,this.geom.width=t,this.updateDisplayOrigin(),this.updateData();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=t,i.hitArea.height=e),this}},{key:"setIteration",value:function(t){return void 0===t&&(t=6),this.iteration=t,this}},{key:"setRadius",value:function(t){return void 0===t&&(t=0),this.radius=t,this}},{key:"setCornerRadius",value:function(t){return this.setRadius(t)}},{key:"width",get:function(){return this.geom.width},set:function(t){this.resize(t,this.height)}},{key:"height",get:function(){return this.geom.height},set:function(t){this.resize(this.width,t)}},{key:"iteration",get:function(){return this._iteration},set:function(t){void 0!==this._iteration?this._iteration!==t&&(this._iteration=t,this.updateData()):this._iteration=t}},{key:"radius",get:function(){return this.geom.radius},set:function(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.updateData()}},{key:"cornerRadius",get:function(){return this.geom.cornerRadius},set:function(t){this.radius=t}}])&&x(i.prototype,n),r&&x(i,r),e}(),C=function(t){return 0!==t.x&&0!==t.y};Object.assign(P.prototype,k);e.a=P},function(t,e,i){"use strict";var n=i(18),r=i(62);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=null,this.setParent(e),this._deltaHeight=0}var e,i,n;return e=t,(i=[{key:"setParent",value:function(t){this.parent=t,this.parentContainer=t.getParentContainer()}},{key:"destroy",value:function(t){if(void 0===t&&(t=!1),!t){var e=this.parent;0!==this.deltaHeight&&e.nonZeroDeltaHeightCount--,this.destroyContainer()}this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}},{key:"getContainer",value:function(){return this.container}},{key:"setContainer",value:function(t){return this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this}},{key:"destroyContainer",value:function(){return this.container&&(this.container.destroy(),this.container=null),this}},{key:"popContainer",value:function(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}return null}},{key:"setXY",value:function(t,e){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,e),this}},{key:"setDeltaHeight",value:function(t){return this.deltaHeight=t,this}},{key:"setHeight",value:function(t){return this.height=t,this}},{key:"setWidth",value:function(t){return this.width=t,this}},{key:"table",get:function(){return this.parent}},{key:"scrollMode",get:function(){return this.parentContainer.scrollMode}},{key:"colIndx",get:function(){return this.parent.cellIndxeToColIndex(this.index)}},{key:"rowIndx",get:function(){return this.parent.cellIndxeToRowIndex(this.index)}},{key:"deltaHeight",get:function(){return this._deltaHeight},set:function(t){null==t&&(t=0);var e=this.parent;0===this._deltaHeight&&0!==t?e.nonZeroDeltaHeightCount++:0!==this._deltaHeight&&0===t&&e.nonZeroDeltaHeightCount--,this._deltaHeight=t}},{key:"height",get:function(){return 0===this.scrollMode?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth},set:function(t){1!==this.scrollMode&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}},{key:"width",get:function(){return 0===this.scrollMode?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight},set:function(t){0!==this.scrollMode&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}},{key:"scene",get:function(){return this.parentContainer.scene}}])&&s(e.prototype,i),n&&s(e,n),t}();Object.assign(o.prototype,r.a);var a=o,u=i(12);function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=Phaser.Utils.Objects.GetValue,c=Phaser.Utils.Array.SpliceOne,f=new u.a,d=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.cells=[],this.resetFromJSON(i)}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.colCount=void 0,this._nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight(),this.setDefaultCellHeight(l(t,"cellHeight",30)),this.setDefaultCellWidth(l(t,"cellWidth",30)),this.initCells(l(t,"cellsCount",0)),this.setColumnCount(l(t,"columns",1)),this}},{key:"destroy",value:function(t){for(var e=0,i=this.cells.length;e<i;e++)this.freeCell(this.cells[e],t);this.cells=void 0,this.parent=void 0}},{key:"setDefaultCellHeight",value:function(t){return this.defaultCellHeight=t,this}},{key:"setDefaultCellWidth",value:function(t){return this.defaultCellWidth=t,this}},{key:"initCells",value:function(t){var e=this.cells;e.length=t;for(var i=0;i<t;i++)e[i]=null;return this}},{key:"insertNewCell",value:function(t,e){var i=this.cells;if(t===i.length){var n=t+e;i.legth=n;for(var r=t;r<n;r++)i[r]=null}else{var s,o=[];o.length=e;for(r=0;r<e;r++)o[r]=null;(s=this.cells).splice.apply(s,[t,0].concat(o))}return this.resetTotalRowsHeight(),this}},{key:"removeCell",value:function(t,e){for(var i=t+e,n=t;n<i;n++)this.freeCell(n);return i===this.cells.length?this.cells.length=t:(1===e?c(this.cells,t):this.cells.splice(t,e),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}},{key:"setColumnCount",value:function(t){return this.colCount=t,this.resetTotalRowsHeight(),this}},{key:"isValidCellIdx",value:function(t){return t>=0&&t<this.cells.length}},{key:"heightToRowIndex",value:function(t,e){if(this.defaultCellHeightMode){var i=t/this.defaultCellHeight;return i=e?Math.ceil(i):Math.floor(i)}var n,r=this.rowCount,s=t;for(i=0;;){if(s-=this.getRowHeight(i),n=i>=0&&i<r,!(s>0&&n)){if(0===s)return i;if(e){var o=i;(n=(i+=1)>=0&&i<r)||(i=o)}return i}i+=1}}},{key:"widthToColIndex",value:function(t,e){var i=t/this.defaultCellWidth;return i=e?Math.ceil(i):Math.floor(i)}},{key:"colRowToCellIndex",value:function(t,e){return t>=this.colCount?null:e*this.colCount+t}},{key:"rowIndexToHeight",value:function(t,e){if(this.defaultCellHeightMode)return(e-t+1)*this.defaultCellHeight;for(var i=0,n=t;n<=e;n++)i+=this.getRowHeight(n);return i}},{key:"colIndexToWidth",value:function(t,e){return(e-t+1)*this.defaultCellWidth}},{key:"getRowHeight",value:function(t){var e=this.colCount;if(e<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var i,n=0,r=0;r<e;r++)n<(i=this.getCellHeight(this.colRowToCellIndex(r,t)))&&(n=i);return n}},{key:"getColWidth",value:function(t){return this.defaultCellWidth}},{key:"getCellHeight",value:function(t){if(!this.isValidCellIdx(t))return 0;var e;if(this.defaultCellHeightMode)e=this.defaultCellHeight;else{var i=this.getCell(t,!1),n=i?i.deltaHeight:0;e=this.defaultCellHeight+n}return e}},{key:"resetTotalRowsHeight",value:function(){this._totalRowsHeight=null}},{key:"cellIndxeToColIndex",value:function(t){return t%this.colCount}},{key:"cellIndxeToRowIndex",value:function(t){return Math.floor(t/this.colCount)}},{key:"getCell",value:function(t,e){if(!this.isValidCellIdx(t))return null;if(void 0===e&&(e=!0),null===this.cells[t]&&e){var i=this.newCell(t);this.cells[t]=i}return this.cells[t]}},{key:"newCell",value:function(t){var e=f.pop();return null===e?e=new a(this):e.setParent(this),e.index=t,e}},{key:"buildCellIndex",value:function(t){void 0===t&&(t=0);for(var e,i=this.cells,n=t,r=i.length;n<r;n++)(e=i[n])&&(e.index=n);return this}},{key:"getParentContainer",value:function(){return this.parent}},{key:"freeCell",value:function(t,e){return"number"==typeof t&&(t=this.cells[t]),t?(t.destroy(e),f.push(t),this):this}},{key:"nonZeroDeltaHeightCount",get:function(){return this._nonZeroDeltaHeightCount},set:function(t){this._nonZeroDeltaHeightCount!==t&&(this._nonZeroDeltaHeightCount=t,this.resetTotalRowsHeight())}},{key:"defaultCellHeightMode",get:function(){return 0===this.nonZeroDeltaHeightCount}},{key:"rowCount",get:function(){return Math.ceil(this.cells.length/this.colCount)}},{key:"cellsCount",get:function(){return this.cells.length}},{key:"totalRowsHeight",get:function(){return null===this._totalRowsHeight&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}},{key:"totalColumnWidth",get:function(){return this.colCount*this.defaultCellWidth}}])&&h(e.prototype,i),n&&h(e,n),t}(),y=i(50),p=i(38),v=i(47),g=i(88);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t,e,i){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var T=n.a,S=Phaser.GameObjects.Components,_=Phaser.Structs.Set,P=Phaser.Utils.Objects.GetValue,C=Phaser.Math.Clamp,j=function(t){function e(t,i,n,r,s,o){var a,u,h;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===o&&(o={}),u=this,(a=!(h=x(e).call(this,t,i,n,r,s))||"object"!==b(h)&&"function"!=typeof h?k(u):h).type="rexGridTable",a._tableOX=0,a._tableOY=0,a.visibleCells=new _,a.preVisibleCells=new _,a.visibleStartX=null,a.visibleEndX=null,a.visibleStartY=null,a.visibleEndY=null,a.lastVisibleCellIdx=null,a.execeedTopState=!1,a.execeedBottomState=!1,a.execeedLeftState=!1,a.execeedRightState=!1;var l=P(o,"reuseCellContainer",!1);a.cellContainersPool=l?t.add.group():void 0;var c=P(o,"cellVisibleCallback",null);if(null!==c){var f=P(o,"cellVisibleCallbackScope",void 0);a.on("cellvisible",c,f)}if(null!==(c=P(o,"cellInvisibleCallback",null))){f=P(o,"cellInvisibleCallbackScope",void 0);a.on("cellinvisible",c,f)}if(a.cellsMask=void 0,a.setCellsMask(P(o,"mask",!0)),a.setScrollMode(P(o,"scrollMode",0)),a.setClampMode(P(o,"clamplTableOXY",!0)),0===a.scrollMode){var y=P(o,"cellWidth",void 0);if(a.expandCellSize=void 0===y,void 0===y){var p=P(o,"columns",1);o.cellWidth=a.width/p}}else{y=P(o,"cellHeight",void 0);var v=P(o,"cellWidth",void 0);a.expandCellSize=void 0===y,o.cellWidth=y,o.cellHeight=v}return a.table=new d(k(a),o),a.updateTable(),a}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,T),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(t||this.setCellsCount(0),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),w(x(e.prototype),"destroy",this).call(this,t))}},{key:"setScrollMode",value:function(t){return"string"==typeof t&&(t=E[t.toLowerCase()]),this.scrollMode=t,this}},{key:"setClampMode",value:function(t){return this.clampTableOXYMode=t,this}},{key:"setCellsCount",value:function(t){var e=this.cellsCount;return e===t?this:(e>t?this.removeCell(t,e-t):this.insertNewCell(e,t-e),this)}},{key:"setColumnCount",value:function(t){return this.table.colCount===t?this:(this.table.setColumnCount(t),this)}},{key:"setGridSize",value:function(t,e){return this.setCellsCount(t*e),this.table.setColumnCount(t),this}},{key:"insertNewCell",value:function(t,e){return"object"===b(t)&&(t=t.index),void 0===e&&(e=1),e<=0?this:(t=C(t,0,this.cellsCount),this.table.insertNewCell(t,e),this)}},{key:"removeCell",value:function(t,e){if("object"===b(t)&&(t=t.index),void 0===e&&(e=1),t<0&&(e+=t,t=0),e<=0)return this;if(t>this.cellsCount)return this;if(t<=this.lastVisibleCellIdx)for(var i,n=this.preVisibleCells,r=this.visibleCells,s=t,o=t+e;s<o;s++)(i=this.getCell(s,!1))&&(r.contains(i)&&(this.hideCell(i),r.delete(i)),n.delete(i));return this.table.removeCell(t,e),this}},{key:"setTableOY",value:function(t){var e=this.table,i=this.topTableOY,n=this.bottomTableOY,r=this.tableOYExceedTop(t),s=this.tableOYExeceedBottom(t);this.clampTableOXYMode&&(e.rowCount<e.heightToRowIndex(this.instHeight,!0)?t=0:r?t=i:s&&(t=n));return this._tableOY!==t&&(this._tableOY=t),r&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=r,s&&(this.execeedBottomState||this.emit("execeedbottom",this,t,n)),this.execeedBottomState=s,this}},{key:"setTableOX",value:function(t){var e=this.table,i=this.leftTableOX,n=this.rightTableOX,r=this.tableOXExeceedLeft(t),s=this.tableOXExeceedRight(t);this.clampTableOXYMode&&(e.colCount<e.widthToColIndex(this.instWidth,!0)?t=0:r?t=i:s&&(t=n));return this._tableOX!==t&&(this._tableOX=t),r&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=r,s&&(this.execeedRightState||this.emit("execeedright",this,t,n)),this.execeedRightState=s,this}},{key:"setTableOXY",value:function(t,e){return this.setTableOY(e).setTableOX(t),this}},{key:"addTableOY",value:function(t){return this.setTableOY(this.tableOY+t),this}},{key:"addTableOX",value:function(t){return this.setTableOX(this.tableOX+t),this}},{key:"addTableOXY",value:function(t,e){return this.addTableOY(e).addTableOX(t),this}},{key:"setTableOYByPercentage",value:function(t){return this.setTableOY(-this.tableVisibleHeight*t),this}},{key:"getTableOYPercentage",value:function(){var t=this.tableVisibleHeight;return 0===t?0:this.tableOY/-t}},{key:"updateTable",value:function(t){return void 0===t&&(t=!1),t&&(this.clearVisibleCellIndexes(),this.hideCells()),this.clearVisibleCellIndexes(),this.showCells(),this.hideCells(),this.maskCells(),this}},{key:"getCell",value:function(t){return this.table.getCell(t,!0)}},{key:"getCellContainer",value:function(t){var e,i=this.table.getCell(t,!1);return i&&(e=i.getContainer()),e}},{key:"setCellHeight",value:function(t,e){return("number"==typeof t?this.table.getCell(t,!0):t).height=e,this}},{key:"setCellWidth",value:function(t,e){return("number"==typeof t?this.table.getCell(t,!0):t).width=e,this}},{key:"pointerToCellIndex",value:function(t,e){e-=this.y+this.topLeftY,t-=this.x+this.topLeftX;var i=this.tableOY-(0===this.scrollMode?e:t),n=this.tableOX-(0===this.scrollMode?t:e),r=this.table,s=r.heightToRowIndex(-i),o=r.widthToColIndex(-n),a=r.colRowToCellIndex(o,s);return null===a?null:this.cellIsVisible(a)?a:null}},{key:"pointerToCellContainer",value:function(t,e){var i=this.pointerToCellIndex(t,e);if(null!==i)return this.getCellContainer(i)}},{key:"cellIsVisible",value:function(t){var e=this.table.getCell(t,!1);return e&&this.visibleCells.contains(e)}},{key:"eachVisibleCell",value:function(t,e){return this.visibleCells.each(t,e),this}},{key:"iterateVisibleCell",value:function(t,e){return this.visibleCells.iterate(t,e),this}},{key:"setCellsMask",value:function(t){var e,i;if(!0===t?(e=!0,i=0):!1===t?e=!1:(e=P(t,"mask",!0),i=P(t,"padding",0)),e){var n=new y.a(this,0,i);this.cellsMask=n.createGeometryMask(),this.add(n)}return this}},{key:"maskCells",value:function(){for(var t,e=[],i=this.visibleCells.entries,n=0,r=i.length;n<r;n++)(t=i[n].getContainer())&&(t.isRexContainerLite?t.getAllChildren(e):e.push(t));Object(g.a)(this,this.cellsMask,e)}},{key:"resize",value:function(t,i){return this.width===t&&this.height===i?this:(w(x(e.prototype),"resize",this).call(this,t,i),this.cellsMask&&Object(p.a)(Object(v.a)(this.cellsMask),t,i),this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount),this.updateTable(!0),this)}},{key:"clearVisibleCellIndexes",value:function(){var t=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=t,this.visibleCells.clear()}},{key:"showCells",value:function(){if(0!==this.cellsCount){var t=this.table,e=t.heightToRowIndex(-this.tableOY);e<0&&(e=0);var i=t.widthToColIndex(-this.tableOX);i<0&&(i=0);var n=t.colRowToCellIndex(i,e),r=this.bottomBound,s=this.rightBound,o=t.cellsCount-1,a=t.colCount-1,u=this.getTLX(i),h=u,l=this.getTLY(e);for(this.visibleStartY=null,this.visibleEndY=null,this.visibleStartX=null,this.visibleEndX=null,this.lastVisibleCellIdx=null;l<r&&n<=o;){if(this.table.isValidCellIdx(n)){null===this.visibleStartY&&(this.visibleStartY=e,this.visibleEndY=e),null===this.visibleStartX&&(this.visibleStartX=i,this.visibleEndX=i),null===this.lastVisibleCellIdx&&(this.lastVisibleCellIdx=n),this.visibleEndY<e&&(this.visibleEndY=e),this.visibleEndX<i&&(this.visibleEndX=i),this.lastVisibleCellIdx<n&&(this.lastVisibleCellIdx=n);var c=t.getCell(n,!0);this.visibleCells.set(c),this.preVisibleCells.contains(c)||this.showCell(c),0===this.scrollMode?c.setXY(h,l):c.setXY(l,h)}h<s&&i<a?(h+=t.getColWidth(i),i+=1):(h=u,l+=t.getRowHeight(e),i=this.visibleStartX,e+=1),n=t.colRowToCellIndex(i,e)}}}},{key:"showCell",value:function(t){var e=null;if(this.cellContainersPool&&null!==(e=this.cellContainersPool.getFirstDead())&&e.setActive(!0).setVisible(!0),this.emit("cellvisible",t,e),this.cellContainersPool){var i=t.getContainer();i?null===e?this.cellContainersPool.add(i):e!==i&&(this.cellContainersPool.add(i),this.cellContainersPool.killAndHide(e)):null!==e&&this.cellContainersPool.killAndHide(e)}}},{key:"hideCells",value:function(){var t=this.preVisibleCells,e=this.visibleCells;t.iterate(function(t){e.contains(t)||this.hideCell(t)},this)}},{key:"hideCell",value:function(t){if(this.emit("cellinvisible",t),this.cellContainersPool){var e=t.popContainer();e&&this.cellContainersPool.killAndHide(e)}t.destroyContainer()}},{key:"tableOYExceedTop",value:function(t){return void 0===t&&(t=this.tableOY),t>this.topTableOY}},{key:"tableOYExeceedBottom",value:function(t){return void 0===t&&(t=this.tableOY),t<this.bottomTableOY}},{key:"tableOXExeceedLeft",value:function(t){return void 0===t&&(t=this.tableOX),t>this.leftTableOX}},{key:"tableOXExeceedRight",value:function(t){return void 0===t&&(t=this.tableOX),t<this.rightTableOX}},{key:"getTLX",value:function(t){var e=0===this.scrollMode?this.topLeftX:this.topLeftY;return this.tableOX+this.table.colIndexToWidth(0,t-1)+e}},{key:"getTLY",value:function(t){var e=0===this.scrollMode?this.topLeftY:this.topLeftX;return this.tableOY+this.table.rowIndexToHeight(0,t-1)+e}},{key:"tableOY",get:function(){return this._tableOY},set:function(t){this.setTableOY(t).updateTable()}},{key:"tableOX",get:function(){return this._tableOX},set:function(t){this.setTableOX(t).updateTable()}},{key:"t",set:function(t){this.setTableOYByPercentage(t).updateTable()},get:function(){return this.getTableOYPercentage()}},{key:"cellsCount",get:function(){return this.table.cellsCount}},{key:"columnCount",get:function(){return this.table.colCount}},{key:"instHeight",get:function(){return 0===this.scrollMode?this.height:this.width}},{key:"instWidth",get:function(){return 0===this.scrollMode?this.width:this.height}},{key:"tableHeight",get:function(){return this.table.totalRowsHeight}},{key:"tableWidth",get:function(){return this.table.totalColumnWidth}},{key:"topTableOY",get:function(){return 0}},{key:"bottomTableOY",get:function(){return-this.tableVisibleHeight}},{key:"leftTableOX",get:function(){return 0}},{key:"rightTableOX",get:function(){return-this.tableVisibleWidth}},{key:"tableVisibleHeight",get:function(){var t=this.tableHeight,e=this.instHeight;return t>e?t-e:0}},{key:"tableVisibleWidth",get:function(){var t=this.tableWidth,e=this.instWidth;return t>e?t-e:0}},{key:"bottomLeftY",get:function(){return-this.displayHeight*this.originY+this.displayHeight}},{key:"topRightX",get:function(){return-this.displayWidth*this.originX+this.displayWidth}},{key:"topLeftX",get:function(){return-this.displayWidth*this.originX}},{key:"topLeftY",get:function(){return-this.displayHeight*this.originY}},{key:"bottomBound",get:function(){return 0===this.scrollMode?this.bottomLeftY:this.topRightX}},{key:"rightBound",get:function(){return 0===this.scrollMode?this.topRightX:this.bottomLeftY}}])&&m(i.prototype,n),r&&m(i,r),e}();Object.assign(j.prototype,S.GetBounds);var E={v:0,vertical:0,h:1,horizontal:1};e.a=j},function(t,e,i){"use strict";var n=i(46),r={plainText:null,prevProp:null},s=new(i(28).a),o={},a={splitText:function(t,e){for(var i,n,r=[],s=0,o=t.length,a=o;i=l.exec(t);)n=i[0],s<(a=l.lastIndex-n.length)&&r.push(t.substring(s,a)),void 0===e&&r.push(n),s=l.lastIndex;return s<o&&r.push(t.substring(s,o)),r},tagTextToProp:function(t,e){var i,n;null==e&&(e={}),e.img&&u(e,M,"img"),c.test(t)?(u(e,D,"b",!0),i=""):f.test(t)?(u(e,M,"b"),i=""):d.test(t)?(u(e,D,"i",!0),i=""):y.test(t)?(u(e,M,"i"),i=""):p.test(t)?(n=t.match(p),u(e,D,"size",n[1]+"px"),i=""):v.test(t)?(u(e,M,"size"),i=""):g.test(t)?(n=t.match(g),u(e,D,"color",n[1]),i=""):b.test(t)?(u(e,M,"color"),i=""):m.test(t)?(n=t.match(m),u(e,D,"u",!0),i=""):k.test(t)?(n=t.match(k),u(e,D,"u",n[1]),i=""):w.test(t)?(u(e,M,"u"),i=""):x.test(t)?(u(e,D,"shadow",!0),i=""):O.test(t)?(u(e,M,"shadow"),i=""):T.test(t)?(u(e,D,"stroke",!0),i=""):S.test(t)?(n=t.match(S),u(e,D,"stroke",n[1]),i=""):_.test(t)?(u(e,M,"stroke"),i=""):P.test(t)?(n=t.match(P),u(e,D,"img",n[1]),i=""):C.test(t)?(u(e,M,"img"),i=""):j.test(t)?(n=t.match(j),u(e,D,"area",n[1]),i=""):E.test(t)?(u(e,M,"area"),i=""):i=t;var s=r;return s.plainText=i,s.prop=e,s},propToContextStyle:function(t,e){var i=s;if(e.hasOwnProperty("img"))i.image=e.img;else{if(i.image=null,e.hasOwnProperty("family")?i.fontFamily=e.family:i.fontFamily=t.fontFamily,e.hasOwnProperty("size")){var n=e.size;"number"==typeof n&&(n=n.toString()+"px"),i.fontSize=n}else i.fontSize=t.fontSize;i.fontStyle=h(e.b,e.i),e.hasOwnProperty("color")?i.color=e.color:i.color=t.color,e.hasOwnProperty("stroke")?!0===e.stroke?(i.stroke=t.stroke,i.strokeThickness=t.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=t.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=0)}return e.hasOwnProperty("shadow")?!0===e.shadow?(i.shadowColor=t.shadowColor,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=e.shadow,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),e.hasOwnProperty("u")?!0===e.u?(i.underlineColor=t.underlineColor,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset):(i.underlineColor=e.u,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),i},propToTagText:function(t,e,i){for(var n in null==i&&(i=o),i)e.hasOwnProperty(n)||(t="[/"+n+"]"+t);var r="";for(var n in e)i[n]!==e[n]&&("size"===n?r+="[size="+e[n].replace("px","")+"]":"color"===n||"stroke"===n||"img"===n?r+="["+n+"="+e[n]+"]":"u"===n?!0===e[n]?r+="[u]":r+="[u="+e[n]+"]":r+="["+n+"]");return t=r+t}},u=function(t,e,i,n){return e===D?t[i]=n:t.hasOwnProperty(i)&&delete t[i],t},h=function(t,e){return t&&e?"bold italic":t?"bold":e?"italic":""},l=/\[b\]|\[\/b\]|\[i\]|\[\/i\]|\[size=(\d+)\]|\[\/size\]|\[color=([a-z]+|#[0-9abcdef]+)\]|\[\/color\]|\[u\]|\[u=([a-z]+|#[0-9abcdef]+)\]|\[\/u\]|\[shadow\]|\[\/shadow\]|\[stroke\]|\[stroke=([a-z]+|#[0-9abcdef]+)\]|\[\/stroke\]|\[img=([^\]]+)\]|\[\/img\]|\[area=([^\]]+)\]|\[\/area\]/gi,c=/\[b\]/i,f=/\[\/b\]/i,d=/\[i\]/i,y=/\[\/i\]/i,p=/\[size=(\d+)\]/i,v=/\[\/size\]/i,g=/\[color=([a-z]+|#[0-9abcdef]+)\]/i,b=/\[\/color\]/i,m=/\[u\]/i,k=/\[u=([a-z]+|#[0-9abcdef]+)\]/i,w=/\[\/u\]/i,x=/\[shadow\]/i,O=/\[\/shadow\]/i,T=/\[stroke\]/i,S=/\[stroke=([a-z]+|#[0-9abcdef]+)\]/i,_=/\[\/stroke\]/i,P=/\[img=([^\]]+)\]/i,C=/\[\/img\]/i,j=/\[area=([^\]]+)\]/i,E=/\[\/area\]/i,M=!1,D=!0,R=a;function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var F=function(t){function e(t,i,n,r,s){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),X(this,A(e).call(this,t,i,n,r,s,"rexBBCodeText",R))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(e,n["a"]),e}();e.a=F},function(t,e,i){"use strict";var n=i(46);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s={plainText:null,prevProp:null},o=new(i(28).a),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e&&(e={}),this.tags=e}var e,i,n;return e=t,(i=[{key:"addTag",value:function(t,e){this.tags[t]=e}},{key:"splitText",value:function(t,e){for(var i,n,r,s=[],o=0,a=t.length,u=a;i=l.exec(t);)n=i[0],o<(u=l.lastIndex-n.length)&&s.push(t.substring(o,u)),void 0===e?s.push(n):1===e&&(c.test(n)?(r=n.match(f),s.push(r[2])):d.test(n)&&(r=n.match(y),s.push(r[2]))),o=l.lastIndex;return o<a&&s.push(t.substring(o,a)),s}},{key:"tagTextToProp",value:function(t,e){var i,n;if(c.test(t)){if(null!=(a=t.match(f))){var r=a[1],o=this.tags;(n=o.hasOwnProperty(r)?o[r]:{})._class=r,i=a[2]}}else if(d.test(t)){var a;if(null!=(a=t.match(y))){var h=a[1];(n=u(h))._style=h,i=a[2]}}null==i&&(i=t),null==n&&(n={});var l=s;return l.plainText=i,l.prop=n,l}},{key:"propToContextStyle",value:function(t,e){var i=o;if(e.hasOwnProperty("img"))i.image=e.img;else{if(i.image=null,e.hasOwnProperty("family")||e.hasOwnProperty("fontFamily")||e.hasOwnProperty("font-family")){var n=e.hasOwnProperty("family")?e.family:e.hasOwnProperty("fontFamily")?e.fontFamily:e["font-family"];i.fontFamily=n}else i.fontFamily=t.fontFamily;if(e.hasOwnProperty("size")||e.hasOwnProperty("fontSize")||e.hasOwnProperty("font-size")){var r=e.hasOwnProperty("size")?e.size:e.hasOwnProperty("fontSize")?e.fontSize:e["font-size"];"number"==typeof r&&(r=r.toString()+"px"),i.fontSize=r}else i.fontSize=t.fontSize;if(e.hasOwnProperty("style")||e.hasOwnProperty("fontStyle")||e.hasOwnProperty("font-style")){var s=e.hasOwnProperty("style")?e.style:e.hasOwnProperty("fontStyle")?e.fontStyle:e["font-style"];i.fontStyle=s}else i.fontStyle=t.fontStyle;if(e.hasOwnProperty("color")||e.hasOwnProperty("font-color")){e.hasOwnProperty("color")?e.color:e["font-color"];i.color=e.color}else i.color=t.color;if(e.hasOwnProperty("stroke")){var a=e.stroke;i.stroke=a.hasOwnProperty("color")?a.color:t.stroke,i.strokeThickness=a.hasOwnProperty("thinkness")?a.thinkness:t.strokeThickness}else i.stroke=t.stroke,i.strokeThickness=t.strokeThickness}if(e.hasOwnProperty("shadow")){var u=e.shadow;i.shadowColor=u.hasOwnProperty("color")?u.color:t.shadowColor,i.shadowOffsetX=u.hasOwnProperty("offsetX")?u.offsetX:t.shadowOffsetX,i.shadowOffsetY=u.hasOwnProperty("offsetY")?u.offsetY:t.shadowOffsetY,i.shadowBlur=u.hasOwnProperty("blur")?u.blur:t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0}else i.shadowColor=t.shadowColor,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=t.shadowStroke,i.shadowFill=t.shadowFill;if(e.hasOwnProperty("u")||e.hasOwnProperty("underline")){var h=e.hasOwnProperty("u")?e.u:e.underline;i.underlineColor=h.hasOwnProperty("color")?h.color:t.underlineColor,i.underlineThickness=h.hasOwnProperty("thinkness")?h.thinkness:t.underlineThickness,i.underlineOffset=h.hasOwnProperty("offset")?h.offset:t.underlineOffset}else i.underlineColor=t.underlineColor,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset;return i}},{key:"propToTagText",value:function(t,e,i){return e.hasOwnProperty("_class")?""===t&&this.isTextTag(e._class)?"":"<class='"+e._class+"'>"+t+"</class>":e.hasOwnProperty("_style")?"<style='"+e._style+"'>"+t+"</style>":void 0}},{key:"destroy",value:function(){this.tags=void 0}},{key:"isTextTag",value:function(t){var e=this.tags[t];return!!e&&null==e.img}}])&&r(e.prototype,i),n&&r(e,n),t}(),u=function(t){for(var e,i,n,r={},s=0,o=(t=t.split(";")).length;s<o;s++)if(i=(e=t[s].split(":"))[0],n=e[1],!h(i)&&!h(n)){switch(i){case"stroke":var a=n.split(" ");n={},(l=a.length)>=1&&(n.color=a[0]),l>=2&&(n.thinkness=parseInt(a[1].replace("px","")));break;case"shadow":var u=n.split(" ");n={},(l=u.length)>=1&&(n.color=u[0]),l>=2&&(n.offsetX=parseInt(u[1].replace("px",""))),l>=3&&(n.offsetY=parseInt(u[2].replace("px",""))),l>=4&&(n.blur=parseInt(u[3].replace("px","")));break;case"u":case"underline":var l,c=n.split(" ");n={},(l=c.length)>=1&&(n.color=c[0]),l>=2&&(n.thinkness=parseInt(c[1].replace("px",""))),l>=3&&(n.offset=parseInt(c[2].replace("px","")))}r[i]=n}return r},h=function(t){return 0===(t=t.replace(p,"")).length},l=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,c=/<\s*class=/i,f=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,d=/<\s*style=/i,y=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,p=/^\s+|\s+$/,v=a;function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function m(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t,e,i){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var O=Phaser.Utils.Objects.GetValue,T=function(t){function e(t,i,n,r,s){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=O(s,"tags",void 0),u=new v(a);return(o=m(this,w(e).call(this,t,i,n,r,s,"rexTagText",u))).parser=u,o}var i,r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(e,n["a"]),i=e,(r=[{key:"addTag",value:function(t,e){return this.parser.addTag(t,e),this.updateText(!0)}},{key:"addTags",value:function(t){for(var e in t)this.parser.addTag(e,t[e]);return this.updateText(!0)}},{key:"preDestroy",value:function(){k(w(e.prototype),"preDestroy",this).call(this),this.parser.destroy(),this.parser=void 0}}])&&b(i.prototype,r),s&&b(i,s),e}();e.a=T},function(t,e){t.exports=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}},function(t,e,i){"use strict";var n=i(5);e.a=function(t){return Object(n.a)(t)?t.events:t.on?t:void 0}},function(t,e,i){"use strict";e.a=function(t){return t&&"function"==typeof t}},function(t,e,i){"use strict";var n=i(60),r=i.n(n),s=i(61),o=i.n(s),a=i(9),u=(a.a,a.a,{renderWebGL:r.a,renderCanvas:o.a}),h=i(28),l=i(3),c={draw:function(t,e,i,n){var r=this.penManager;this.hitAreaManager.clear();var s=this.context;s.save(),this.drawBackground(this.defatultStyle.backgroundColor);var o=this.defatultStyle;t+=this.startXOffset,e+=this.startYOffset;var a,u,h,l,c,f,d=o.halign,y=o.valign,p=o.lineHeight,v=r.lines,g=v.length,b=o.maxLines;b>0&&g>b?(u=b,h="center"===y?Math.floor((g-u)/2):"bottom"===y?g-u:0):(u=g,h=0),l=h+u,f="center"===y?Math.max((n-u*p)/2,0):"bottom"===y?Math.max(n-u*p-2,0):0,f+=e;for(var m=h;m<l;m++)if(0!==(a=r.getLineWidth(m))){c="center"===d?(i-a)/2:"right"===d?i-a:0,c+=t;for(var k=v[m],w=0,x=k.length;w<x;w++)this.drawPen(k[w],c,f)}s.restore()},drawPen:function(t,e,i){e+=t.x,i+=t.y;var n=this.canvas,r=this.context;r.save();var s=this.parser.propToContextStyle(this.defatultStyle,t.prop);s.buildFont(),s.syncFont(n,r),s.syncStyle(n,r),s.underlineThickness>0&&t.width>0&&this.drawUnderline(e,i,t.width,s),t.isTextPen&&this.drawText(e,i,t.text,s),t.isImagePen&&this.drawImage(e,i,t.prop.img,s),r.restore(),t.hasAreaMarker&&t.width>0&&this.hitAreaManager.add(t.prop.area,e,i-this.startYOffset,t.width,this.defatultStyle.lineHeight)},clear:function(){var t=this.canvas;this.context.clearRect(0,0,t.width,t.height)},drawBackground:function(t){null!==t&&(this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.canvas.height))},drawUnderline:function(t,e,i,n){e+=n.underlineOffset-n.underlineThickness/2,this.autoRound&&(t=Math.round(t),e=Math.round(e));var r=this.context,s=r.lineCap;r.lineCap="butt",r.beginPath(),r.strokeStyle=n.underlineColor,r.lineWidth=n.underlineThickness,r.moveTo(t,e),r.lineTo(t+i,e),r.stroke(),r.lineCap=s},drawText:function(t,e,i,n){this.autoRound&&(t=Math.round(t),e=Math.round(e));var r=this.context;n.strokeThickness&&(n.syncShadow(r,n.shadowStroke),r.strokeText(i,t,e)),n.color&&"none"!==n.color&&(n.syncShadow(r,n.shadowFill),r.fillText(i,t,e))},drawImage:function(t,e,i,n){var r=this.parent.imageManager,s=r.get(i),o=r.getFrame(i);t+=s.left,e+=-this.startYOffset+s.y,this.autoRound&&(t=Math.round(t),e=Math.round(e)),this.context.drawImage(o.source.image,o.cutX,o.cutY,o.cutWidth,o.cutHeight,t,e,s.width,s.height)}},f=i(12);function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var y=Phaser.Utils.Objects.GetValue,p=l.a.NO_NEWLINE,v=l.a.RAW_NEWLINE,g=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.prop={},this.resetFromJSON(e)}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){this.text=y(t,"text",""),this.x=y(t,"x",0),this.y=y(t,"y",0),this.width=y(t,"width",0);var e=y(t,"prop",null);null===e&&(e={}),this.prop=e,this.newLineMode=y(t,"newLineMode",0),this.startIndex=y(t,"startIndex",0)}},{key:"plainText",get:function(){var t=this.text;return this.newLineMode===v&&(t+="\n"),t}},{key:"wrapText",get:function(){var t=this.text;return this.newLineMode!==p&&(t+="\n"),t}},{key:"rawTextLength",get:function(){var t=this.text.length;return this.newLineMode===v&&(t+=1),t}},{key:"endIndex",get:function(){return this.startIndex+this.rawTextLength}},{key:"lastX",get:function(){return this.x+this.width}},{key:"isTextPen",get:function(){return""!==this.text}},{key:"isImagePen",get:function(){return!!this.prop.img}},{key:"hasAreaMarker",get:function(){return!!this.prop.area}}])&&d(e.prototype,i),n&&d(e,n),t}(),b=i(10);function m(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var k=Phaser.Utils.Objects.GetFastValue,w=l.a.NO_NEWLINE,x=l.a.WRAPPED_NEWLINE,O=new f.a,T=new f.a,S=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.PensPool=k(e,"pensPool",O),this.LinesPool=k(e,"linesPool",T),this.tagToText=k(e,"tagToText",a.a),this.tagToTextScope=k(e,"tagToTextScope",void 0)}var e,i,n;return e=t,(i=[{key:"destroy",value:function(){this.freePens(),this.tagToText=void 0,this.tagToTextScope=void 0}},{key:"freePens",value:function(){for(var t=0,e=this.lines.length;t<e;t++)this.lines[t].length=0;this.PensPool.pushMultiple(this.pens),this.LinesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}},{key:"addTextPen",value:function(t,e,i,n,r,s){var o=this.PensPool.pop();return null==o&&(o=new g),_.text=t,_.x=e,_.y=i,_.width=n,_.prop=r,_.newLineMode=s,o.resetFromJSON(_),this.addPen(o),this}},{key:"addImagePen",value:function(t,e,i,n){return this.addTextPen("",t,e,i,n,w),this}},{key:"addNewLinePen",value:function(){var t=this.lastPen,e=t?t.lastX:0,i=t?t.y:0,n=t?Object(b.a)(t.prop):null;return this.addTextPen("",e,i,0,n,x),this}},{key:"addPen",value:function(t){var e=this.lastPen;t.startIndex=null==e?0:e.endIndex,this.pens.push(t);var i=this.lastLine;null==i&&(i=this.LinesPool.pop()||[],this.lines.push(i)),i.push(t),t.newLineMode!==w&&(i=this.LinesPool.pop()||[],this.lines.push(i)),this.maxLinesWidth=void 0}},{key:"clone",value:function(e){null==e&&(e=new t),e.freePens();for(var i=0,n=this.lines.length;i<n;i++)for(var r=this.lines[i],s=0,o=r.length;s<o;s++){var a=r[s];e.addPen(a.text,a.x,a.y,a.width,Object(b.a)(a.prop),a.newLineMode)}return e}},{key:"getLineStartIndex",value:function(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var e=this.lines[t];return e&&e[0]?e[0].startIndex:0}},{key:"getLineEndIndex",value:function(t){t>=this.lines.length&&(t=this.lines.length-1);var e,i,n=!1;for(e=t;e>=0&&!(n=null!=(i=this.lines[e])&&i.length>0);e--);return n?i[i.length-1].endIndex:0}},{key:"getLineWidth",value:function(t){var e=this.lines[t];if(!e)return 0;var i=e[e.length-1];return null==i?0:i.lastX}},{key:"getMaxLineWidth",value:function(){if(void 0!==this.maxLinesWidth)return this.maxLinesWidth;for(var t,e=0,i=0,n=this.lines.length;i<n;i++)(t=this.getLineWidth(i))>e&&(e=t);return this.maxLinesWidth=e,e}},{key:"getLineWidths",value:function(){for(var t=[],e=0,i=this.lines.length;e<i;e++)t.push(this.getLineWidth(e));return t}},{key:"getSliceTagText",value:function(t,e,i){if(void 0===t&&(t=0),void 0===e){var n=this.lastPen;if(null==n)return"";e=n.endIndex}void 0===i&&(i=!1);for(var r,s,o,a,u,h,l="",c=0,f=this.pens.length;c<f&&((a=(r=this.pens[c]).endIndex)<=t||(r=this.pens[c],s=i?r.wrapText:r.plainText,u=r.prop,(o=r.startIndex)>=t&&a<=e||(s=s.substring(t-o,e-o)),this.tagToTextScope?l+=this.tagToText.call(this.tagToTextScope,s,u,h):l+=this.tagToText(s,u,h),h=u,!(a>=e)));c++);return l}},{key:"lastPen",get:function(){return this.pens[this.pens.length-1]}},{key:"lastLine",get:function(){return this.lines[this.lines.length-1]}},{key:"linesCount",get:function(){return this.lines.length}},{key:"plainText",get:function(){for(var t="",e=this.pens,i=0,n=e.length;i<n;i++)t+=e[i].plainText;return t}},{key:"rawTextLength",get:function(){for(var t=0,e=this.pens,i=0,n=this.pens.length;i<n;i++)t+=e[i].rawTextLength;return t}}])&&m(e.prototype,i),n&&m(e,n),t}(),_={},P=S;function C(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var j=Phaser.Geom.Rectangle,E=new f.a,M=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hitAreas=[]}var e,i,n;return e=t,(i=[{key:"destroy",value:function(){this.clear()}},{key:"clear",value:function(){return E.pushMultiple(this.hitAreas),this}},{key:"add",value:function(t,e,i,n,r){var s=E.pop();return null===s?s=new j(e,i,n,r):s.setTo(e,i,n,r),s.key=t,this.hitAreas.push(s),this}},{key:"contains",value:function(t,e){for(var i,n=this.hitAreas,r=0,s=n.length;r<s;r++)if((i=n[r]).contains(t,e))return i.key;return!1}},{key:"drawBounds",value:function(t,e,i){void 0===e&&(e=16777215),i&&t.save().scaleCanvas(i.scaleX,i.scaleY).rotateCanvas(i.rotation).translateCanvas(i.x,i.y);for(var n,r=this.hitAreas,s=0,o=r.length;s<o;s++)n=r[s],t.lineStyle(1,e).strokeRect(n.x,n.y,n.width,n.height);return i&&t.restore(),this}}])&&C(e.prototype,i),n&&C(e,n),t}(),D=function(t,e,i,n){var r=this.hitAreaManager.contains(i,n);!1!==r&&(this.parent.emit("".concat(t,"-").concat(r),e,i,n),this.parent.emit(t,r,e,i,n))},R=function(){this.parent.on("pointerdown",function(t,e,i,n){D.call(this,"areadown",t,e,i)},this).on("pointerup",function(t,e,i,n){D.call(this,"areaup",t,e,i)},this)},Y=l.a.NO_NEWLINE,X=l.a.RAW_NEWLINE,A=l.a.WRAPPED_NEWLINE,I=l.a.NO_WRAP,F=l.a.WORD_WRAP,N=(l.a.CHAR_WRAP,l.a.SPLITREGEXP),L=[],z=new f.a;z.newline=function(t,e,i){var n=this.pop();return null===n&&(n={}),n.text=t,n.width=e,n.newLineMode=i,n};var W=function(t,e,i,n,r){n<=0&&(i=I);var s=L;if(z.pushMultiple(s),!t||!t.length)return s;for(var o,a,u,h=t.split(N),l=0,c=h.length;l<c;l++)if(o=h[l],u=l===c-1?Y:X,i!==I){var f,d;if(a=0===l?n-r:n,o.length<=100&&(k=e(o))<=a){s.push(z.newline(o,k,u));continue}for(var y,p="",v="",g=0,b=0,m=(f=i===F?o.split(" "):o).length;b<m;b++)d=f[b],i===F?(p+=d,b<m-1&&(p+=" ")):p+=d,(y=e(p))>a&&(0===b?s.push(z.newline("",0,A)):(s.push(z.newline(v,g,A)),p=d,i===F&&b<m-1&&(p+=" "),y=e(p)),a=n),v=p,g=y;s.push(z.newline(v,g,u))}else{var k=e(o);s.push(z.newline(o,k,u))}return s};function G(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var B=Phaser.Utils.Objects.GetValue,V=l.a.NO_WRAP,U=l.a.NO_NEWLINE,H=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e.parent,this.context=B(e,"context",null),this.canvas=this.context.canvas,this.parser=B(e,"parser",null),this.defatultStyle=B(e,"style",null),this.autoRound=!0,this.pensPool=B(e,"pensPool",null),this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new M;var i=this.context;this.getTextWidth=function(t){return i.measureText(t).width}}var e,i,n;return e=t,(i=[{key:"destroy",value:function(){this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defatultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0)}},{key:"updatePenManager",value:function(t,e,i,n,r){if(void 0===r&&(r=this.penManager),r.freePens(),""===t)return r;for(var s,o,a,u,h,l=this.canvas,c=this.context,f=0,d=0,y=this.parser.splitText(t),p=0,v=y.length;p<v;p++)if(s=(u=this.parser.tagTextToProp(y[p],o)).plainText,(o=u.prop).img){var g=this.imageManager.getOuterWidth(o.img);i>0&&e!==V&&i<f+g&&(r.addNewLinePen(),d+=n,f=0),r.addImagePen(f,d,g,Object(b.a)(o)),f+=g}else if(""!==s){var m;this.context.save(),(a=this.parser.propToContextStyle(this.defatultStyle,o)).buildFont(),a.syncFont(l,c),a.syncStyle(l,c);for(var k=0,w=(h=W(s,this.getTextWidth,e,i,f)).length;k<w;k++)m=h[k],r.addTextPen(m.text,f,d,m.width,Object(b.a)(o),m.newLineMode),m.newLineMode!==U?(f=0,d+=n):f+=m.width;this.context.restore()}return r}},{key:"newPenManager",value:function(){return new P({pensPool:this.pensPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}},{key:"getPlainText",value:function(t,e,i){var n;if(null==t)n=this.penManager.plainText;else{var r=this.parser.splitText(t,1);n="";for(var s=0,o=r.length;s<o;s++)n+=r[s]}return null==e&&null==i||(null==e&&(e=0),null==i&&(i=n.length),n=n.substring(e,i)),n}},{key:"getPenManager",value:function(t,e){if(void 0===t)return this.copyPenManager(e,this.penManager);void 0===e&&(e=this.newPenManager());var i=this.defatultStyle;return this.updatePenManager(t,i.wrapMode,i.wrapWidth,i.lineHeight,e),e}},{key:"getText",value:function(t,e,i,n){if(null==t)return this.penManager.getSliceTagText(e,i,n);var r=this.tmpPenManager,s=this.defatultStyle;return this.updatePenManager(t,s.wrapMode,s.wrapWidth,s.lineHeight,r),r.getSliceTagText(e,i,n)}},{key:"copyPenManager",value:function(t,e){return void 0===e&&(e=this.penManager),e.copy(t)}},{key:"getTextWidth",value:function(t){return void 0===t&&(t=this.penManager),t.getMaxLineWidth()}},{key:"getLastPen",value:function(t){return void 0===t&&(t=this.penManager),t.lastPen}},{key:"startXOffset",get:function(){return this.defatultStyle.strokeThickness/2}},{key:"startYOffset",get:function(){var t=this.defatultStyle;return t.strokeThickness/2+t.metrics.ascent}},{key:"lines",get:function(){return this.penManager.lines}},{key:"desplayLinesCount",get:function(){var t=this.penManager.linesCount,e=this.defatultStyle.maxLines;return e>0&&t>e&&(t=e),t}},{key:"linesWidth",get:function(){return this.penManager.getMaxLineWidth()}},{key:"linesHeight",get:function(){var t=this.desplayLinesCount,e=this.defatultStyle.lineHeight*t;return t>0&&(e-=this.defatultStyle.lineSpacing),e}},{key:"imageManager",get:function(){return this.parent.imageManager}},{key:"tmpPenManager",get:function(){return null===this._tmpPenManager&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}}])&&G(e.prototype,i),n&&G(e,n),t}(),K={setInteractive:R};Object.assign(H.prototype,c,K);var J=H;function Z(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var q,Q=Phaser.Utils.Objects.GetValue,$=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureManager=e,this.images={}}var e,i,n;return e=t,(i=[{key:"add",value:function(t,e){if("string"==typeof t)this._add(t,e);else if(Array.isArray(t))for(var i=0,n=(r=t).length;i<n;i++)this._add(r[i]);else{var r=t;for(var t in r)this._add(t,r[t])}return this}},{key:"_add",value:function(t,e){void 0===e&&(e={key:t});var i=e.key,n=e.frame,r=e.width,s=e.height;if(void 0===r||void 0===s){var o=this.textureManager.getFrame(i,n),a=o?o.cutWidth:0,u=o?o.cutHeight:0;void 0===r&&void 0===s?(r=a,s=u):void 0===r?r=a*(s/u):void 0===s&&(s=u*(r/a))}this.images[t]={key:i,frame:n,width:r,height:s,y:Q(e,"y",0),left:Q(e,"left",0),right:Q(e,"right",0)}}},{key:"remove",value:function(t){return this.images.hasOwnProperty(t)&&delete this.images[t],this}},{key:"get",value:function(t){return this.images.hasOwnProperty(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}},{key:"getOuterWidth",value:function(t){var e=this.get(t);return e?e.width+e.left+e.right:0}},{key:"getFrame",value:function(t){var e=this.get(t);return e?this.textureManager.getFrame(e.key,e.frame):void 0}},{key:"hasTexture",value:function(t){return!!this.getFrame(t)}}])&&Z(e.prototype,i),n&&Z(e,n),t}();function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var st=Phaser.DOM.AddToDOM,ot=Phaser.Display.Canvas.CanvasPool,at=Phaser.GameObjects.GameObject,ut=Phaser.Utils.Objects.GetValue,ht=Phaser.DOM.RemoveFromDOM,lt=l.a.SPLITREGEXP,ct={},ft=function(t){function e(t,i,n,r,s,o,a){var u,l,c;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i=0),void 0===n&&(n=0),l=this,(u=!(c=it(e).call(this,t,o))||"object"!==tt(c)&&"function"!=typeof c?nt(l):c).renderer=t.sys.game.renderer,u.setPosition(i,n),u.setOrigin(0,0),u.initPipeline(),u.canvas=ot.create(nt(u)),u.context=u.canvas.getContext("2d"),s&&s.hasOwnProperty("align")){var d=s.align;delete s.align,s.halign=d}return u.style=new h.a(nt(u),s),u.autoRound=!0,u._text=void 0,u.padding={left:0,right:0,top:0,bottom:0},u.width=1,u.height=1,u.dirty=!1,0===u.style.resolution&&(u.style.resolution=t.sys.game.config.resolution),u._crop=u.resetCropObject(),u.texture=t.sys.textures.addCanvas(null,u.canvas,!0),u.frame=u.texture.get(),u.frame.source.resolution=u.style.resolution,u.renderer&&u.renderer.gl&&(u.renderer.deleteTexture(u.frame.source.glTexture),u.frame.source.glTexture=null),ct.hasOwnProperty(o)||(ct[o]=new f.a),u.canvasText=new J({parent:nt(u),context:u.context,parser:a,style:u.style,pensPool:ct[o]}),s&&s.padding&&u.setPadding(s.padding),u.setText(r),t.sys.game.events.on("contextrestored",function(){this.dirty=!0},nt(u)),u}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}(e,at),i=e,(n=[{key:"initRTL",value:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",st(this.canvas,this.scene.sys.canvas),this.originX=1)}},{key:"setText",value:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this._text&&(this._text=t.toString(),this.updateText()),this}},{key:"setStyle",value:function(t){return this.style.setStyle(t)}},{key:"setFont",value:function(t){return this.style.setFont(t)}},{key:"setFontFamily",value:function(t){return this.style.setFontFamily(t)}},{key:"setFontSize",value:function(t){return this.style.setFontSize(t)}},{key:"setFontStyle",value:function(t){return this.style.setFontStyle(t)}},{key:"setFixedSize",value:function(t,e){return this.style.setFixedSize(t,e)}},{key:"setBackgroundColor",value:function(t){return this.style.setBackgroundColor(t)}},{key:"setFill",value:function(t){return this.style.setFill(t)}},{key:"setColor",value:function(t){return this.style.setColor(t)}},{key:"setStroke",value:function(t,e){return this.style.setStroke(t,e)}},{key:"setShadow",value:function(t,e,i,n,r,s){return this.style.setShadow(t,e,i,n,r,s)}},{key:"setShadowOffset",value:function(t,e){return this.style.setShadowOffset(t,e)}},{key:"setShadowColor",value:function(t){return this.style.setShadowColor(t)}},{key:"setShadowBlur",value:function(t){return this.style.setShadowBlur(t)}},{key:"setShadowStroke",value:function(t){return this.style.setShadowStroke(t)}},{key:"setShadowFill",value:function(t){return this.style.setShadowFill(t)}},{key:"setWrapMode",value:function(t){return this.style.setWrapMode(t)}},{key:"setWrapWidth",value:function(t){return this.style.setWrapWidth(t)}},{key:"setAlign",value:function(t){return this.style.setHAlign(t)}},{key:"setLineSpacing",value:function(t){return this.style.setLineSpacing(t)}},{key:"setPadding",value:function(t,e,i,n){if("object"===tt(t)){var r=t,s=ut(r,"x",null);null!==s?(t=s,i=s):(t=ut(r,"left",0),i=ut(r,"right",t));var o=ut(r,"y",null);null!==o?(e=o,n=o):(e=ut(r,"top",0),n=ut(r,"bottom",e))}else void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=t),void 0===n&&(n=e);return this.padding.left=t,this.padding.top=e,this.padding.right=i,this.padding.bottom=n,this.updateText(!1)}},{key:"setResolution",value:function(t){return this.style.setResolution(t)}},{key:"setMaxLines",value:function(t){return this.style.setMaxLines(t)}},{key:"updateText",value:function(t){void 0===t&&(t=!0);var e=this.canvasText,i=this.style;t&&e.updatePenManager(this._text,i.wrapMode,i.wrapWidth,i.lineHeight);var n,r,s=this.padding;0===i.fixedWidth?(this.width=e.linesWidth+s.left+s.right,n=e.linesWidth):(this.width=i.fixedWidth,(n=this.width-s.left-s.right)<e.linesWidth&&(n=e.linesWidth)),0===i.fixedHeight?(this.height=e.linesHeight+s.top+s.bottom,r=e.linesHeight):(this.height=i.fixedHeight,(r=this.height-s.top-s.bottom)<e.linesHeight&&(r=e.linesHeight));var o=this.width,a=this.height;this.updateDisplayOrigin();var u=i.resolution;o*=u,a*=u,o=Math.max(Math.ceil(o),1),a=Math.max(Math.ceil(a),1);var h=this.canvas,l=this.context;h.width!==o||h.height!==a?(h.width=o,h.height=a,this.frame.setSize(o,a)):l.clearRect(0,0,o,a),l.save(),l.scale(u,u),e.draw(s.left,s.top,n,r),l.restore(),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(h,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var c=this.input;return c&&!c.customHitArea&&(c.hitArea.width=this.width,c.hitArea.height=this.height),this}},{key:"getTextMetrics",value:function(){return this.style.getTextMetrics()}},{key:"toJSON",value:function(){var t=dt.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t}},{key:"preDestroy",value:function(){this.style.rtl&&ht(this.canvas),ot.remove(this.canvas),this.canvasText.destroy()}},{key:"setInteractive",value:function(t,e,i){return at.prototype.setInteractive.call(this,t,e,i),this.canvasText.setInteractive(),this}},{key:"getWrappedText",value:function(t,e,i){return(t=this.canvasText.getText(t,e,i,!0)).split(lt)}},{key:"getPlainText",value:function(t,e,i){return this.canvasText.getPlainText(t,e,i)}},{key:"getText",value:function(t,e,i){return this.canvasText.getText(t,e,i,!1)}},{key:"getSubString",value:function(t,e,i){return this.getText(t,e,i)}},{key:"copyPenManager",value:function(t){return this.canvasText.copyPenManager(t)}},{key:"getPenManager",value:function(t,e){return this.canvasText.getPenManager(t,e)}},{key:"setSize",value:function(t,e){return this.setFixedSize(t,e)}},{key:"resize",value:function(t,e){return this.setFixedSize(t,e)}},{key:"addImage",value:function(t,e){return this.imageManager.add(t,e),this}},{key:"drawAreaBounds",value:function(t,e){return this.canvasText.hitAreaManager.drawBounds(t,e,this),this}},{key:"text",set:function(t){this.setText(t)},get:function(){return this._text}},{key:"lineSpacing",set:function(t){this.setLineSpacing(t)},get:function(){return this.style.lineSpacing}},{key:"imageManager",get:function(){return t=this.scene.textures,void 0===q&&(q=new $(t)),q;var t}}])&&et(i.prototype,n),r&&et(i,r),e}(),dt=Phaser.GameObjects.Components;Phaser.Class.mixin(ft,[dt.Alpha,dt.BlendMode,dt.ComputedSize,dt.Crop,dt.Depth,dt.Flip,dt.GetBounds,dt.Mask,dt.Origin,dt.Pipeline,dt.ScrollFactor,dt.Tint,dt.Transform,dt.Visible,u]);e.a=ft},function(t,e,i){"use strict";e.a=function(t){return t.hasOwnProperty("geometryMask")?t.geometryMask:t.bitmapMask}},function(t,e,i){"use strict";var n=i(2),r=i(4);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetValue,a=Phaser.Utils.Objects.GetAdvancedValue,u=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(r.a)(e),this.alphaStart=void 0,this.alphaEnd=void 0,this.tween=void 0,this.resetFromJSON(i),this.boot()}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setMode(o(t,"mode",0)),this.setAlphaRange(a(t,"start",this.gameObject.alpha),a(t,"end",0)),this.setDelay(a(t,"delay",0)),this.setDuration(a(t,"duration",1e3)),this}},{key:"toJSON",value:function(){return{mode:this.mode,start:this.alphaStart,end:this.alphaEnd,delay:this.delay,duration:this.duration}}},{key:"boot",value:function(){this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return this.stop(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=h[t]),this.mode=t,this}},{key:"setAlphaRange",value:function(t,e){return this.alphaStart=t,this.alphaEnd=e,this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"start",value:function(){return this.tween?this:0===this.duration?(this.gameObject.setAlpha(this.alphaEnd),this.complete(),this):(this.gameObject.setAlpha(this.alphaStart),this.tween=this.scene.tweens.add({targets:this.gameObject,alpha:this.alphaEnd,delay:this.delay,duration:this.duration,ease:"Linear",yoyo:2==this.mode,repeat:2==this.mode?-1:0,onComplete:this.complete,onCompleteScope:this}),this.setEventEmitter(this.tween),this)}},{key:"restart",value:function(){return this.stop().start(),this}},{key:"stop",value:function(){return this.tween?(this.setEventEmitter(!1),this.tween.remove(),this.tween=void 0,this):this}},{key:"complete",value:function(){return this.stop(),1===this.mode&&this.gameObject.destroy(),this}}])&&s(e.prototype,i),n&&s(e,n),t}();Object.assign(u.prototype,n.a);var h={stop:0,destroy:1,yoyo:2},l=u;e.a=l},function(t,e,i){"use strict";var n=i(2),r=i(4);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetValue,a=Phaser.Utils.Objects.GetAdvancedValue,u=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(r.a)(e),this.scaleStart={},this.scaleEnd={},this.tween=void 0,this.resetFromJSON(i),this.boot()}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setMode(o(t,"mode",0)),this.setScaleRange(a(t,"start",void 0),a(t,"end",0)),this.setDelay(a(t,"delay",0)),this.setDuration(a(t,"duration",1e3)),this.setEase(o(t,"ease",void 0)),this}},{key:"toJSON",value:function(){return{mode:this.mode,start:this.scaleStart,end:this.scaleEnd,delay:this.delay,duration:this.duration}}},{key:"boot",value:function(){this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return this.stop(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=h[t]),this.mode=t,this}},{key:"setScaleRange",value:function(t,e){return"number"==typeof t?(this.scaleStart.x=t,this.scaleStart.y=t):(this.scaleStart.x=o(t,"x",this.gameObject.scaleX),this.scaleStart.y=o(t,"y",this.gameObject.scaleY)),"number"==typeof e?(this.scaleEnd.x=e,this.scaleEnd.y=e):(this.scaleEnd.x=o(e,"x",this.scaleStart.x),this.scaleEnd.y=o(e,"y",this.scaleStart.y)),this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"setEase",value:function(t){return void 0===t&&(t="Linear"),this.ease=t,this}},{key:"start",value:function(){return this.tween?this:0===this.duration?(this.gameObject.setScale(this.scaleEnd.x,this.scaleEnd.y),this.complete(),this):(this.gameObject.setScale(this.scaleStart.x,this.scaleStart.y),this.tween=this.scene.tweens.add({targets:this.gameObject,scaleX:this.scaleEnd.x,scaleY:this.scaleEnd.y,duration:this.duration,ease:this.ease,yoyo:2==this.mode,repeat:2==this.mode?-1:0,onComplete:this.complete,onCompleteScope:this}),this.setEventEmitter(this.tween),this)}},{key:"restart",value:function(){return this.stop().start(),this}},{key:"stop",value:function(){return this.tween?(this.setEventEmitter(!1),this.tween.remove(),this.tween=void 0,this):this}},{key:"complete",value:function(){return this.stop(),1===this.mode&&this.gameObject.destroy(),this}}])&&s(e.prototype,i),n&&s(e,n),t}();Object.assign(u.prototype,n.a);var h={stop:0,destroy:1,yoyo:2},l=u;e.a=l},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t,e,i){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=Phaser.GameObjects.Graphics,l=function(t){function e(t,i,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i=0),"string"==typeof i&&(shaep=c[i]),void 0===n&&(n=0),(r=s(this,a(e).call(this,t.scene))).parent=t,r.shape=i,r.padding=n,r.setPosition().resize(),r}var i,n,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,h),i=e,(n=[{key:"destroy",value:function(){return this.parent=void 0,o(a(e.prototype),"destroy",this).call(this),this}},{key:"setPosition",value:function(t,i){var n=this.parent;return void 0===t&&(t=n.x),void 0===i&&(i=n.y),o(a(e.prototype),"setPosition",this).call(this,t,i),this}},{key:"resize",value:function(t,e,i){var n=this.parent;if(void 0===t&&(t=n.width),void 0===e&&(e=n.height),void 0===i&&(i=this.padding),this.widthSave===t&&this.heightSave===e&&this.paddingSave===i)return this;switch(this.clear().fillStyle(16777215),this.shape){case 1:var r=Math.min(t,e)/2;this.fillCircle(0,0,r+i);break;default:this.fillRect(-t*n.originX-i,-e*n.originY-i,t+2*i,e+2*i)}return this.widthSave=t,this.heightSave=e,this.paddingSave=i,this}}])&&r(i.prototype,n),l&&r(i,l),e}(),c={rectangle:0,circle:1};e.a=l},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length);var n=e+Math.floor(Math.random()*i);return void 0===t[n]?null:t[n]}},,,,,function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=Phaser.Input.Keyboard.Key,s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cursorKeys={up:new r,down:new r,left:new r,right:new r},this.noKeyDown=!0}var e,i,s;return e=t,(i=[{key:"createCursorKeys",value:function(){return this.cursorKeys}},{key:"setKeyState",value:function(t,e){var i=this.cursorKeys[t];return i.enabled?(e&&(this.noKeyDown=!1),i.isDown!==e&&(o.timeDown=Date.now(),e?i.onDown(o):i.onUp(o)),this):this}},{key:"clearAllKeysState",value:function(){for(var t in this.noKeyDown=!0,this.cursorKeys)this.setKeyState(t,!1);return this}},{key:"getKeyState",value:function(t){return this.cursorKeys[t]}},{key:"upKeyDown",get:function(){return this.cursorKeys.up.isDown}},{key:"downKeyDown",get:function(){return this.cursorKeys.down.isDown}},{key:"leftKeyDown",get:function(){return this.cursorKeys.left.isDown}},{key:"rightKeyDown",get:function(){return this.cursorKeys.right.isDown}},{key:"anyKeyDown",get:function(){return!this.noKeyDown}}])&&n(e.prototype,i),s&&n(e,s),t}(),o={altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1,location:0};e.a=s},function(t,e,i){"use strict";var n=i(24),r=i(25),s=i(16),o=Phaser.Utils.Objects.GetValue,a=function(t,e,i){var s,a=o(i,"argsConvert",void 0),h=o(i,"argsConvertScope",void 0),l=t[0];if(u=Object(n.a)(u,t,1),a){!0===a&&(a=r.a,h=void 0);for(var c=0,f=u.length;c<f;c++)u[c]=h?a.call(h,u[c],t):a(u[c],t)}return"string"==typeof l?null==(s=e[l])&&(s=o(e,l,null)):s=l,s.apply(e,u)},u=[],h=function t(e,i,n){var r,u=o(n,"reverse",!1);if(Object(s.a)(e[0]))if(u)for(h=(l=e.length)-1;h>=0;h--)r=t(e[h],i,n);else for(var h=0,l=e.length;h<l;h++)r=t(e[h],i,n);else r=a(e,i,n);return r};e.a=h},function(t,e,i){"use strict";e.a=function(t,e,i){for(var n,r=t.points,s=0,o=r.length;s<o;s++)(n=r[s]).x+=e,n.y+=i;return t}},function(t,e,i){var n=new(i(80))({initialize:function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e},setTo:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}});t.exports=n},function(t,e){var i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,n,r,s){if(0!==e.width&&0!==e.height){var o=e.frame,a=o.width,u=o.height,h=i.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,o.glTexture,a,u,e.x,e.y,a/e.style.resolution,u/e.style.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,u,h(e._tintTL,r.alpha*e._alphaTL),h(e._tintTR,r.alpha*e._alphaTR),h(e._tintBL,r.alpha*e._alphaBL),h(e._tintBR,r.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,r,s)}}},function(t,e){t.exports=function(t,e,i,n,r){0!==e.width&&0!==e.height&&t.batchSprite(e,e.frame,n,r)}},function(t,e,i){"use strict";var n=i(0),r=i.n(n),s=i(6);e.a={enableData:function(){return void 0===this.data&&(this.data={}),this},getData:function(t,e){return this.enableData(),void 0===t?this.data:r()(this.data,t,e)},setData:function(t,e){return this.enableData(),this.data[t]=e,this},incData:function(t,e,i){return void 0===i&&(i=0),this.enableData(),this.setData(t,this.getData(t,i)+e),this},mulData:function(t,e,i){return void 0===i&&(i=0),this.enableData(),this.setData(t,this.getData(t,i)*e),this},clearData:function(){return this.data&&Object(s.a)(this.data),this}}},function(t,e,i){"use strict";var n=i(11),r=i(4);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=Phaser.Math.Distance.Between,d=Phaser.Math.Linear,y=Phaser.Math.Angle.Between,p=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=a(this,h(e).call(this,t,i))).gameObject=t,n.scene=Object(r.a)(t),n.resetFromJSON(i),n.boot(),n}var i,s,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,n["a"]),i=e,(s=[{key:"resetFromJSON",value:function(t){return this.isRunning=c(t,"isRunning",!1),this.setEnable(c(t,"enable",!0)),this.timeScale=c(t,"timeScale",1),this.setSpeed(c(t,"speed",400)),this.setRotateToTarget(c(t,"rotateToTarget",!1)),this.targetX=c(t,"targetX",0),this.targetY=c(t,"targetY",0),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,enable:this.enable,timeScale:this.timeScale,speed:this.speed,rotateToTarget:this.rotateToTarget,targetX:this.targetX,targetY:this.targetY,tickingMode:this.tickingMode}}},{key:"boot",value:function(){u(h(e.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){u(h(e.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){u(h(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){u(h(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"setEnable",value:function(t){return void 0==t&&(t=!0),this.enable=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"setRotateToTarget",value:function(t){return this.rotateToTarget=t,this}},{key:"moveTo",value:function(t,i){if("number"!=typeof t){var n=t;t=c(n,"x",void 0),i=c(n,"y",void 0)}return null==t||null==i?this:(this.targetX=t,this.targetY=i,u(h(e.prototype),"start",this).call(this),this)}},{key:"update",value:function(t,e){if(!this.isRunning||!this.enable)return this;var i=this.gameObject,n=i.x,r=i.y,s=this.targetX,o=this.targetY;if(n===s&&r===o)return this.complete(),this;if(0===this.speed||0===e||0===this.timeScale)return this;var a,u,h=e*this.timeScale/1e3,l=this.speed*h,c=f(n,r,s,o);if(l<c){var p=l/c;a=d(n,s,p),u=d(r,o,p)}else a=s,u=o;return i.setPosition(a,u),this.rotateToTarget&&(i.rotation=y(n,r,a,u)),this}}])&&o(i.prototype,s),p&&o(i,p),e}();e.a=p},,function(t,e){t.exports=function(t,e,i){return Math.max(e,Math.min(i,t))}},function(t,e,i){"use strict";var n=Math.sqrt(3);e.a=function(t){return 0===t.type?2*t.size:n*t.size}},function(t,e,i){"use strict";var n=Math.sqrt(3);e.a=function(t){return 0===t.type?n*t.size:2*t.size}},,function(t,e,i){"use strict";var n=i(30),r=i(14);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=Phaser.Math.Distance.Between,d=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=a(n=function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?a(t):e}(this,h(e).call(this,t,i))),u={states:{IDLE:{enter:function(){o.stop(),o.tapsCount=0,o.x=0,o.y=0,o.worldX=0,o.worldY=0},exit:function(){var t=o.lastPointer;o.x=t.x,o.y=t.y,o.worldX=t.worldX,o.worldY=t.worldY}},BEGIN:{enter:function(){o.start(),o.tapsCount=0,o.emit("tappingstart",o,o.gameObject,o.lastPointer)}},RECOGNIZED:{enter:function(){o.start(),o.emit("tap",o,o.gameObject,o.lastPointer),o.emit("".concat(o.tapsCount,"tap"),o,o.gameObject,o.lastPointer)}}},init:function(){this.state=y},eventEmitter:!1};return n.setRecongizedStateObject(new r.a(u)),n}var i,d,g;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,n["a"]),i=e,(d=[{key:"resetFromJSON",value:function(t){u(h(e.prototype),"resetFromJSON",this).call(this,t),this.setMaxHoldTime(c(t,"time",250)),this.setTapInterval(c(t,"tapInterval",200)),this.setDragThreshold(c(t,"threshold",9)),this.setTapOffset(c(t,"tapOffset",10));var i=c(t,"taps",void 0);return void 0!==i?this.setTaps(i):(this.setMaxTaps(c(t,"maxTaps",void 0)),this.setMinTaps(c(t,"minTaps",void 0))),this}},{key:"onDragStart",value:function(){switch(this.state){case y:this.state=p;break;case p:var t=this.lastPointer;f(t.upX,t.upY,t.x,t.y)>this.tapOffset&&(this.state=v,this.state=p);break;case v:this.state=p}}},{key:"onDragEnd",value:function(){this.state===p&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),void 0!==this.maxTaps&&this.tapsCount===this.maxTaps&&(this.state=v))}},{key:"onDrag",value:function(){this.state!==y&&this.pointer.getDistance()>this.dragThreshold&&(this.state=y)}},{key:"preUpdate",value:function(t,e){if(this.state===p){var i=this.lastPointer;if(i.isDown)t-i.downTime>this.holdTime&&(this.state=y);else t-i.upTime>this.tapInterval&&(void 0===this.minTaps||this.tapsCount>=this.minTaps?this.state=v:this.state=y)}}},{key:"postUpdate",value:function(t,e){this.state===v&&(this.state=y)}},{key:"setMaxHoldTime",value:function(t){return this.holdTime=t,this}},{key:"setTapInterval",value:function(t){return this.tapInterval=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setTapOffset",value:function(t){return this.tapOffset=t,this}},{key:"setMaxTaps",value:function(t){return this.maxTaps=t,this}},{key:"setMinTaps",value:function(t){return this.minTaps=t,this}},{key:"setTaps",value:function(t,e){return void 0===e&&(e=t),this.setMinTaps(t).setMaxTaps(e),this}},{key:"isTapped",get:function(){return this.state===v}}])&&o(i.prototype,d),g&&o(i,g),e}(),y="IDLE",p="BEGIN",v="RECOGNIZED";e.a=d},function(t,e,i){"use strict";var n=i(30),r=i(14);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=a(n=function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?a(t):e}(this,h(e).call(this,t,i))),u={states:{IDLE:{enter:function(){o.x=0,o.y=0,o.worldX=0,o.worldY=0},exit:function(){var t=o.lastPointer;o.x=t.x,o.y=t.y,o.worldX=t.worldX,o.worldY=t.worldY}},BEGIN:{enter:function(){o.start()},exit:function(){o.stop()}},RECOGNIZED:{enter:function(){o.emit("pressstart",o,o.gameObject,o.lastPointer)},exit:function(){o.emit("pressend",o,o.gameObject,o.lastPointer)}}},init:function(){this.state=d},eventEmitter:!1};return n.setRecongizedStateObject(new r.a(u)),n}var i,f,v;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,n["a"]),i=e,(f=[{key:"resetFromJSON",value:function(t){return u(h(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(c(t,"threshold",9)),this.setMinHoldTime(c(t,"time",251)),this}},{key:"onDragStart",value:function(){this.state=0===this.holdTime?p:y}},{key:"onDragEnd",value:function(){this.state=d}},{key:"onDrag",value:function(){this.state!==d&&this.pointer.getDistance()>this.dragThreshold&&(this.state=d)}},{key:"preUpdate",value:function(t,e){this.state===y&&(t-this.pointer.downTime>=this.holdTime&&(this.state=p))}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setMinHoldTime",value:function(t){return this.holdTime=t,this}},{key:"isPressed",get:function(){return this.state===p}}])&&o(i.prototype,f),v&&o(i,v),e}(),d="IDLE",y="BEGIN",p="RECOGNIZED";e.a=f},function(t,e,i){"use strict";var n=i(94),r=i(84),s=i(85),o=[[1,0],[0,1],[-1,0],[0,-1],[1,1],[-1,1],[-1,-1],[1,-1]],a=o,u={},h=function(t,e,i,n,r){var s,h;switch(void 0===r?r={}:!0===r&&(r=u),this.mode){case 0:s=o[i][0],h=o[i][1];break;case 1:s=a[i][0],h=a[i][1]}return 1===n?(r.x=t+s,r.y=e+h):(r.x=t+n*s,r.y=e+n*h),r},l=function(t,e,i,n){return h.call(this,t,e,i,1,n)},c=function(t){var e,i,n,r={};for(var s in t)i=(e=t[s])[0],n=e[1],r.hasOwnProperty(i)||(r[i]={}),r[i][n]=parseInt(s);return r}(o),f=c,d=function(t,e){var i;switch(this.mode){case 0:i=c;break;case 1:i=f}var n=e.x-t.x,r=e.y-t.y;if(i.hasOwnProperty(n)){var s=i[n];if(s.hasOwnProperty(r))return s[r]}return null},y={0:2,1:3,2:0,3:1,4:6,5:7,6:4,7:5},p=function(t,e,i){return y[i]},v={},g=function(t,e,i,n){void 0===n?n={}:!0===n&&(n=v);var r=t.x+e,s=t.y+i;return n.x=r,n.y=s,n},b={},m=function(t,e,i){return void 0===i?i={}:!0===i&&(i=b),i.x=1&e?-t.x:t.x,i.y=2&e?-t.y:t.y,i},k=i(34),w=i.n(k),x={},O=function(t,e,i){var n,r;switch(void 0===i?i={}:!0===i&&(i=x),e=w()(e,0,3)){case 1:n=-t.y,r=t.x;break;case 2:n=-t.x,r=-t.y;break;case 3:n=t.y,r=-t.x;break;default:n=t.x,r=t.y}return i.x=n,i.y=r,i},T=function(t,e,i){var n=e.x-t.x,r=e.y-t.y;return i?Math.abs(n)+Math.abs(r):Math.sqrt(n*n+r*r)},S=i(36),_=i.n(S),P=i(20),C=i.n(P),j=function(t,e,i){var n;switch(void 0===i&&(i=!0),this.mode){case 0:case 1:if(t.y===e.y)n=e.x>=t.x?0:2;else if(t.x===e.x)n=e.y>=t.y?1:3;else if(4===this.directions)(o=C()(_()(t.x,t.y,e.x,e.y)))<0&&(o+=360),n=o/90,i&&(n=Math.round(n));else{var r=e.x-t.x,s=e.y-t.y;if(r===s)n=r>0?4:6;else if(r===-s)n=r>0?7:5;else{var o;(o=C()(Math.atan2(s,r)))<0&&(o+=360);var a=o/45;i&&(a=Math.round(a)),n=a>=0&&a<1?a:a>=1&&a<2?a+3:a>=2&&a<3?a-1:a>=3&&a<4?a+2:a>=4&&a<5?a-2:a>=5&&a<6?a+1:a>=6&&a<7?a-3:a}}}return n===this.directions&&(n=0),n},E=i(86),M=i(27),D=function(t,e,i,n,r,s){void 0===s&&(s=Object(M.a)(4));var o=i/2,a=n/2;return 0===r?(s[0].x=t+o,s[0].y=e-a,s[1].x=t+o,s[1].y=e+a,s[2].x=t-o,s[2].y=e+a,s[3].x=t-o,s[3].y=e-a):(s[0].x=t+o,s[0].y=e,s[1].x=t,s[1].y=e+a,s[2].x=t-o,s[2].y=e,s[3].x=t,s[3].y=e-a),s},R={},Y=Object(M.a)(4),X=function(t,e,i){void 0===i?i=Object(M.a)(4):!0===i&&(i=Y),void 0===t?(R.x=0,R.y=0):this.getWorldXY(t,e,R);var n=0===this.mode?0:1;return D(R.x,R.y,this.width,this.height,n,i),i},A=function(t,e,i){var n,r;for(void 0===i&&(i=[]),n=e,r=-e;r<=e;r++)i.push(g(t,n,r));for(r=e,n=e-1;n>=-e;n--)i.push(g(t,n,r));for(n=-e,r=e-1;r>=-e;r--)i.push(g(t,n,r));for(r=-e,n=1-e;n<=e-1;n++)i.push(g(t,n,r));return i};function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function N(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var W=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=N(this,L(e).call(this,t))).sides=4,i}var i,r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(e,n["a"]),i=e,(r=[{key:"allDirections",get:function(){return 4===this.directions?G:B}},{key:"halfDirections",get:function(){return 4===this.directions?V:U}}])&&F(i.prototype,r),s&&F(i,s),e}(),G=[0,1,2,3],B=[0,1,2,3,4,5,6,7],V=[0,1],U=[0,1,4,5],H={saveOrigin:r.a,restoreOrigin:s.a,getTileXYAtDirection:h,getNeighborTileXY:l,getNeighborTileDirection:d,getOppositeDirection:p,offset:g,mirror:m,rotate:O,getDistance:T,directionBetween:j,directionNormalize:E.a,getGridPoints:X,ringToTileXYArray:A};Object.assign(W.prototype,H);e.a=W},function(t,e,i){"use strict";var n=i(93),r=i(84),s=i(85),o=[[[[1,0],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1]],[[1,0],[1,1],[0,1],[-1,0],[0,-1],[1,-1]]],[[[1,0],[1,1],[0,1],[-1,0],[0,-1],[1,-1]],[[1,0],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1]]],[[[1,0],[0,1],[-1,0],[-1,-1],[0,-1],[1,-1]],[[1,1],[0,1],[-1,1],[-1,0],[0,-1],[1,0]]],[[[1,1],[0,1],[-1,1],[-1,0],[0,-1],[1,0]],[[1,0],[0,1],[-1,0],[-1,-1],[0,-1],[1,-1]]]],a=i(7),u=a.a.ODD_R,h=a.a.EVEN_R,l=a.a.ODD_Q,c=a.a.EVEN_Q,f=function(t,e,i){var n;switch(t){case u:case h:n=1&i;break;case l:case c:n=1&e}return n},d=i(8),y={},p=function(t,e,i,n,r){if(void 0===r?r={}:!0===r&&(r=y),1===n){var s=f(this.mode,t,e);r.x=t+o[this.mode][s][i][0],r.y=e+o[this.mode][s][i][1]}else if(0===n)r.x=t,r.y=e;else{var a,u,h,l=Object(d.a)(this.mode,t,e,!0);switch(i){case 1:a=l.x,u=l.y-n,h=l.z+n;break;case 2:a=l.x-n,u=l.y,h=l.z+n;break;case 3:a=l.x-n,u=l.y+n,h=l.z;break;case 4:a=l.x,u=l.y+n,h=l.z-n;break;case 5:a=l.x+n,u=l.y,h=l.z-n;break;default:a=l.x+n,u=l.y-n,h=l.z}Object(d.b)(this.mode,a,u,h,r)}return r},v=function(t,e,i,n){return p.call(this,t,e,i,1,n)},g=function(t){var e,i,n,r={};for(var s in t)i=(e=t[s])[0],n=e[1],r.hasOwnProperty(i)||(r[i]={}),r[i][n]=parseInt(s);return r},b=[[g(o[0][0]),g(o[0][1])],[g(o[1][0]),g(o[1][1])],[g(o[2][0]),g(o[2][1])],[g(o[3][0]),g(o[3][1])]],m=function(t,e){var i=f(this.mode,t.x,t.y),n=b[this.mode][i],r=e.x-t.x,s=e.y-t.y;if(n.hasOwnProperty(r)){var o=n[r];if(o.hasOwnProperty(s))return o[s]}return null},k=function(t,e,i){return(i+3)%6},w=a.a.ODD_R,x=a.a.EVEN_R,O=a.a.ODD_Q,T=a.a.EVEN_Q,S={},_=function(t,e,i,n){void 0===n?n={}:!0===n&&(n=S);var r=t.x+e,s=t.y+i;switch(this.mode){case w:0!=(1&i)&&0==(1&s)&&(r+=1);break;case x:0!=(1&i)&&0==(1&s)&&(r-=1);break;case O:0!=(1&e)&&0==(1&r)&&(s+=1);break;case T:0!=(1&e)&&0==(1&r)&&(s-=1)}return n.x=r,n.y=s,n},P=a.a.ODD_R,C=a.a.EVEN_R,j={},E=function(t,e,i){void 0===i?i={}:!0===i&&(i=j);var n,r,s,o=Object(d.a)(this.mode,t.x,t.y,!0),a=this.mode===P||this.mode===C;return 1&e&&(a?(n=o.y,r=o.x,s=o.z):(n=-o.x,r=-o.z,s=-o.y),o.x=n,o.y=r,o.z=s),2&e&&(a?(n=-o.y,r=-o.x,s=-o.z):(n=o.x,r=o.z,s=o.y)),Object(d.b)(this.mode,n,r,s,i),i},M=i(34),D=i.n(M),R={},Y=function(t,e,i){void 0===i?i={}:!0===i&&(i=R),e=D()(e,0,5);var n,r,s,o=Object(d.a)(this.mode,t.x,t.y,!0);switch(e){case 1:n=-o.z,r=-o.x,s=-o.y;break;case 2:n=o.y,r=o.z,s=o.x;break;case 3:n=-o.x,r=-o.y,s=-o.z;break;case 4:n=o.z,r=o.x,s=o.y;break;case 5:n=-o.y,r=-o.z,s=-o.x;break;default:n=o.x,r=o.y,s=o.z}return Object(d.b)(this.mode,n,r,s,i),i},X={},A={},I=function(t,e,i){Object(d.a)(this.mode,t.x,t.y,X),Object(d.a)(this.mode,e.x,e.y,A);var n=A.x-X.x,r=A.y-X.y,s=A.z-X.z;return(Math.abs(n)+Math.abs(r)+Math.abs(s))/2},F={},N={},L=function(t,e,i){var n;void 0===i&&(i=!0),Object(d.a)(this.mode,t.x,t.y,F),Object(d.a)(this.mode,e.x,e.y,N);var r=N.x-F.x,s=N.y-F.y,o=N.z-F.z;return n=0===o?r>0?0:3:0===r?o>0?1:4:0===s?o>0?2:5:r>0&&s<0&&o>0?0+o/-s:r<0&&s<0&&o>0?1+-s/o:r<0&&s>0&&o>0?2+s/-r:r<0&&s>0&&o<0?3+-o/s:r>0&&s>0&&o<0?4+r/-o:5+-s/r,i&&(n=Math.round(n)),n},z=i(86),W=i(91),G=i(27),B=Object(G.a)(6),V={},U={},H=function(t,e,i){var n;return void 0===i?i=Object(G.a)(6):!0===i&&(i=B),void 0===t?(V.x=0,V.y=0):this.getWorldXY(t,e,V),void 0!==this.size?n=this.size:((n=U).width=this.width,n.height=this.height),Object(W.a)(V.x,V.y,n,this.staggeraxis,i),i},K=function(t,e,i){void 0===i&&(i=[]);var n,r,s,o=Object(d.a)(this.mode,t.x,t.y,!0),a=o.x,u=o.y,h=o.z;for(s=e,n=0;n>=-e;n--)r=-n-s,i.push(Object(d.b)(this.mode,a+n,u+r,h+s));for(n=-e,r=1;r<=e;r++)s=-n-r,i.push(Object(d.b)(this.mode,a+n,u+r,h+s));for(r=e,s=-1;s>=-e;s--)n=-r-s,i.push(Object(d.b)(this.mode,a+n,u+r,h+s));for(s=-e,n=1;n<=e;n++)r=-n-s,i.push(Object(d.b)(this.mode,a+n,u+r,h+s));for(n=e,r=-1;r>=-e;r--)s=-n-r,i.push(Object(d.b)(this.mode,a+n,u+r,h+s));for(r=-e,s=1;s<=e-1;s++)n=-r-s,i.push(Object(d.b)(this.mode,a+n,u+r,h+s));return i};function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function q(t,e){return!e||"object"!==J(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tt=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=q(this,Q(e).call(this,t))).sides=6,i}var i,r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(e,n["a"]),i=e,(r=[{key:"allDirections",get:function(){return et}},{key:"halfDirections",get:function(){return it}}])&&Z(i.prototype,r),s&&Z(i,s),e}(),et=[0,1,2,3,4,5],it=[0,1,2],nt={saveOrigin:r.a,restoreOrigin:s.a,getTileXYAtDirection:p,getNeighborTileXY:v,getNeighborTileDirection:m,getOppositeDirection:k,offset:_,mirror:E,rotate:Y,getDistance:I,directionBetween:L,directionNormalize:z.a,getGridPoints:H,ringToTileXYArray:K};Object.assign(tt.prototype,nt);e.a=tt},,,,function(t,e,i){"use strict";e.a=function(t){for(var e in t)return!1;return!0}},function(t,e,i){"use strict";var n=i(11),r=i(4),s=i(44);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t,e,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=Phaser.Utils.Objects.GetValue,d=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=u(this,l(e).call(this,t,i))).parent=t,n.scene=Object(r.a)(t),n.resetFromJSON(i),n.boot(),n}var i,o,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,n["a"]),i=e,(o=[{key:"resetFromJSON",value:function(t){return this.isRunning=f(t,"isRunning",!1),this.timeScale=f(t,"timeScale",1),this.now=f(t,"now",0),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}},{key:"boot",value:function(){h(l(e.prototype),"boot",this).call(this);var t=Object(s.a)(this.parent);t&&t.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){h(l(e.prototype),"shutdown",this).call(this),this.parent=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){h(l(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){h(l(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"start",value:function(t){return void 0===t&&(t=0),this.now=t,h(l(e.prototype),"start",this).call(this),this}},{key:"seek",value:function(t){return this.now=t,this}},{key:"update",value:function(t,e){return this.isRunning&&0!==this.timeScale?(this.now+=e*this.timeScale,this):this}}])&&a(i.prototype,o),d&&a(i,d),e}();e.a=d},function(t,e,i){"use strict";var n=i(2),r=i(6);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetValue,a=Phaser.Utils.Array.SpliceOne,u=Phaser.Math.Distance.Between,h=Phaser.Math.Angle.Between,l=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.input.manager.pointersTotal-1;n<2&&e.input.addPointer(2-n),this.scene=e,this.setEventEmitter(o(i,"eventEmitter",void 0)),this.pointers=[],this.movedState={},this.resetFromJSON(i),this.boot()}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setEnable(o(t,"enable",!0)),this.bounds=o(t,"bounds",void 0),this.tracerState=f,this.pointers.length=0,Object(r.a)(this.movedState),this}},{key:"boot",value:function(){this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.pointers.length=0,Object(r.a)(this.movedState),this.scene&&(this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.dragCancel(),this.enable=t,this)}},{key:"onPointerDown",value:function(t){if(this.enable&&(2!==this.pointers.length&&(!this.bounds||this.bounds.contains(t.x,t.y))&&-1===this.pointers.indexOf(t)))switch(this.movedState[t.id]=!1,this.pointers.push(t),this.tracerState){case f:this.tracerState=d,this.onDrag1Start();break;case d:this.tracerState=y,this.onDrag2Start()}}},{key:"onPointerUp",value:function(t){if(this.enable&&(!this.bounds||this.bounds.contains(t.x,t.y))){var e=this.pointers.indexOf(t);if(-1!==e)switch(delete this.movedState[t.id],a(this.pointers,e),this.tracerState){case d:this.tracerState=f,this.onDrag1End();break;case y:this.tracerState=d,this.onDrag2End(),this.onDrag1Start()}}}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),i=-1!==this.pointers.indexOf(t);if(!i&&e);else if(i&&!e)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case d:this.onDrag1();break;case y:this.onDrag2()}}}},{key:"dragCancel",value:function(){return this.tracerState===y&&this.onDrag2End(),this.pointers.length=0,Object(r.a)(this.movedState),this.tracerState=f,this}},{key:"onDrag1Start",value:function(){this.emit("drag1start",this)}},{key:"onDrag1End",value:function(){this.emit("drag1end",this)}},{key:"onDrag1",value:function(){this.emit("drag1",this)}},{key:"onDrag2Start",value:function(){this.emit("drag2start",this)}},{key:"onDrag2End",value:function(){this.emit("drag2end",this)}},{key:"onDrag2",value:function(){this.emit("drag2",this)}},{key:"setRecongizedStateObject",value:function(t){return this.recongizedState=t,this}},{key:"cancel",value:function(){return this.state=p,this}},{key:"distanceBetween",get:function(){if(this.tracerState!==y)return 0;var t=this.pointers[0],e=this.pointers[1];return u(t.x,t.y,e.x,e.y)}},{key:"angleBetween",get:function(){if(this.tracerState!==y)return 0;var t=this.pointers[0],e=this.pointers[1];return h(t.x,t.y,e.x,e.y)}},{key:"drag1Vector",get:function(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var e=t.position,i=t.prevPosition;c.x=e.x-i.x,c.y=e.y-i.y}else c.x=0,c.y=0;return c}},{key:"centerX",get:function(){if(this.tracerState!==y)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.x+e.x)/2}},{key:"centerY",get:function(){if(this.tracerState!==y)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.y+e.y)/2}},{key:"prevCenterX",get:function(){if(this.tracerState!==y)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+e.x)/2}},{key:"prevCenterY",get:function(){if(this.tracerState!==y)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+e.y)/2}},{key:"movementCenterX",get:function(){return this.centerX-this.prevCenterX}},{key:"movementCenterY",get:function(){return this.centerY-this.prevCenterY}},{key:"state",get:function(){return this.recongizedState.state},set:function(t){this.recongizedState.state=t}}])&&s(e.prototype,i),n&&s(e,n),t}();Object.assign(l.prototype,n.a);var c={},f=0,d=1,y=2,p="IDLE";e.a=l},function(t,e,i){"use strict";var n,r,s,o,a=i(127),u=i(17),h=i(32),l=i(23),c=h.a.uidKey,f=function(t){return Object(l.a)(t)?t:Object(u.a)(t)[c]},d=function(t){if(this.infinityMode)return this;if(void 0===this.width||this.width<=t)return this.width=t,this;var e,i,n;for(e=t;e<this.width;e++)for(i=0;i<this.height;i++)for(n in this.boardData.getUID(e,i))this.RemoveChess(!1,e,i,n);return this.width=t,this},y=function(t){if(this.infinityMode)return this;if(void 0===this.height||this.height<=t)return this.height=t,this;var e,i,n;for(i=t;i<this.height;i++)for(e=0;e<this.width;e++)for(n in this.boardData.getUID(e,i))this.RemoveChess(!1,e,i,n);return this.height=t,this},p=function(t,e){return this.tileXYToWorldXY(t,e,!0).x},v=function(t,e){return this.tileXYToWorldXY(t,e,!0).y},g=function(t,e,i){return this.grid.getWorldXY(t,e,i)},b=function(t,e){var i;void 0===e&&(e=[]);for(var n=0,r=t.length;n<r;n++)i=t[n],e.push(this.tileXYToWorldXY(i.x,i.y));return e},m=function(t,e){return this.worldXYToTileXY(t,e,!0).x},k=function(t,e){return this.worldXYToTileXY(t,e,!0).y},w=function(t,e,i){return this.grid.getTileXY(t,e,i)},x=function(t,e,i){var n=this.worldXYToTileXY(t,e,!0);return this.tileXYToChessArray(n.x,n.y,i)},O=function(t,e,i){var n=this.worldXYToTileXY(t,e,!0);if(void 0!==i)return this.tileXYZToChess(n.x,n.y,i);var r=this.boardData.getUID(tileX,tileY);if(null==r)return null;for(var i in r)return this.uidToChess(r[i])},T={},S=function(t,e,i){return void 0===i?i={}:!0===i&&(i=T),this.worldXYToTileXY(t,e,i),this.tileXYToWorldXY(i.x,i.y,i),i},_=i(36),P=i.n(_),C=function(t,e){t=this.chessToTileXYZ(t),e=this.chessToTileXYZ(e);var i=this.tileXYToWorldXY(t.x,t.y,!0),n=i.x,r=i.y,s=(i=this.tileXYToWorldXY(e.x,e.y,!0)).x,o=i.y;return P()(n,r,s,o)},j=i(101),E=i.n(j),M=i(163),D=i.n(M),R=(Math.PI,2*Math.PI),Y=function(t,e,i,n){var r=this.chessToTileXYZ(t),s=this.chessToTileXYZ(e),o=this.angleBetween(r,s);o=E()(o);var a=Math.abs(o-i);a=Math.min(a,R-a);var u=n/2;return D()(a,u)||a<u},X={x:0,y:0},A=function(t,e){void 0===t&&(t=X);var i=this.wrapMode,n=this.infinityMode;this.wrapMode=!1,this.infinityMode=!0;var r=this.getNeighborTileXY(t,e,!0);return this.wrapMode=i,this.infinityMode=n,this.angleBetween(t,r)},I=i(20),F=i.n(I),N=i(164),L=i.n(N),z=function(t,e){e=F()(e);for(var i,n,r=this.grid.allDirections,s=1/0,o=void 0,a=0,u=r.length;a<u;a++)i=F()(this.angleToward(t,r[a])),(n=Math.abs(L()(e,i)))<s&&(s=n,o=a);return o},W=function(t,e,i){if(this.infinityMode&&void 0===i)return!0;var n=this.wroldXYToTileXY(t,e,!0);return this.contains(n.x,n.y,i)},G=function(t,e,i){if(void 0===t)for(var n=this.getAllChess(),r=0,s=n.length;r<s;r++)this.gridAlign(n[r]);else{if(Object(l.a)(t)&&(t=this.uidToChess(t)),void 0===e){var o=this.chessToTileXYZ(t);e=o.x,i=o.y}this.tileXYToWorldXY(e,i,t)}return this},B=i(129),V=i.n(B),U=i(132),H=i.n(U),K=i(26),J=function(t,e,i,n,r){if("number"!=typeof t){var s=t;r=e,t=s.x1,e=s.y1,i=s.x2,n=s.y2}void 0===r&&(r=[]);for(var o,a,u,h,l,c=V()(t,e,i,n),f=Math.min(this.grid.cellWidth,this.grid.cellHeight),d=Math.ceil(c/(f/4)),y=0;y<=d;y++)o=y/d,a=H()(t,i,o),u=H()(e,n,o),l=this.worldXYToTileXY(a,u),this.contains(l.x,l.y)&&(h&&Object(K.a)(h,l)||(r.push(l),h=l));return r},Z=i(165),q=i.n(Z),Q=function(t,e){return this.shapeToTileXYArray(t,q.a,e)},$=i(166),tt=i.n($),et=function(t,e){return this.shapeToTileXYArray(t,tt.a,e)},it=i(167),nt=i.n(it),rt=i(168),st=i.n(rt),ot=function(t,e){return n=st()(t,n),this.shapeToTileXYArray(t,nt.a,n,e)},at=i(123),ut=i.n(at),ht=function(t,e){return this.shapeToTileXYArray(t,ut.a,e)},lt=i(169),ct=i.n(lt),ft=function(t,e){return this.shapeToTileXYArray(t,ct.a,e)},dt=i(16),yt=i(122),pt=i.n(yt),vt=i(65),gt=i.n(vt),bt=function(t,e){var i=t.left,n=t.top,r=t.right,s=t.bottom;return e.setTo(i,n,r-i,s-n),e},mt=function(t,e,i,n){Object(dt.a)(i)&&(n=i,i=void 0),void 0===i&&(void 0===r&&(r=new pt.a),i=bt(t,r)),void 0===n&&(n=[]),s=this.worldXYToTileXY(i.left,i.top,s),o=this.worldXYToTileXY(i.right,i.bottom,o);var a,u=s.x-1,h=s.y-1,l=o.x+1,c=o.y+1;this.infinityMode||(u=gt()(u,0,this.width-1),h=gt()(h,0,this.height-1),l=gt()(l,0,this.width-1),c=gt()(c,0,this.height-1));for(var f=u;f<=l;f++)for(var d=h;d<=c;d++)e(t,(a=this.tileXYToWorldXY(f,d,!0)).x,a.y)&&n.push({x:f,y:d});return n},kt=function(t){return null==t?null:this.boardData.exists(t)?h.a.get(t).parent:null},wt=function(t,e,i,n,r){if(!this.contains(e,i))return this;void 0===r&&(r=!0);var s=this.chessToTileXYZ(t);if(void 0===n&&(n=s?s.z:0),s&&s.x===e&&s.y===i&&s.z===n)return this;var o=this.tileXYZToChess(e,i,n);return o&&this.emit("kickout",t,o,s),this.removeChess(t),o&&this.removeChess(o,e,i,n),this.boardData.addUID(this.getChessUID(t),e,i,n),this.isBoard&&this.getChessData(t).setBoard(this),r&&this.gridAlign(t,e,i),this},xt=function(t,e,i,n,r,s){if(void 0===r&&(r=!1),void 0===s&&(s=!1),t){var o=this.chessToTileXYZ(t);if(!o)return this;e=o.x,i=o.y,n=o.z}else if(!(t=this.tileXYZToChess(e,i,n)))return this;return s||this.boardData.removeUID(e,i,n),this.isBoard&&this.getChessData(t).setBoard(null),r&&t.destroy&&t.destroy(),this},Ot=function(t,e){for(var i=this.getAllChess(),n=0,r=i.length;n<r;n++)this.removeChess(i[n],void 0,void 0,void 0,t,e);return this},Tt=function(t,e,i){void 0===i&&(i=!0);var n=this.chessToTileXYZ(t),r=this.chessToTileXYZ(e);if(null==n||null==r)return this;this.removeChess(t),this.removeChess(e),this.addChess(t,r.x,r.y,r.z,i),this.addChess(e,n.x,n.y,n.z,i)},St=function(t){void 0===t&&(t=[]);var e=this.boardData.UIDToXYZ;for(var i in e)t.push(this.uidToChess(i));return t},_t=function(t,e,i){var n;return(n=!!this.infinityMode||t>=0&&t<this.width&&e>=0&&e<this.height)&&void 0!==i&&(n=this.boardData.contains(t,e,i)),n},Pt={x:0,y:0},Ct=function(t,e,i){switch(void 0===i&&(i=0),i){case 0:for(var n=0;n<this.height;n++)for(var r=0;r<this.width;r++)Pt.x=r,Pt.y=n,e?t.call(e,Pt,this):t(Pt,this);break;case 1:for(n=0;n<this.height;n++)for(r=this.width-1;r>=0;r--)Pt.x=r,Pt.y=n,e?t.call(e,Pt,this):t(Pt,this);break;case 2:for(r=0;r<this.width;r++)for(n=0;n<this.height;n++)Pt.x=r,Pt.y=n,e?t.call(e,Pt,this):t(Pt,this);break;case 3:for(r=0;r<this.width;r++)for(n=this.height-1;n>=0;n--)Pt.x=r,Pt.y=n,e?t.call(e,Pt,this):t(Pt,this)}return this},jt=i(34),Et=i.n(jt),Mt={},Dt=function(t,e,i){return void 0===i?i={}:!0===i&&(i=Mt),this.wrapMode?t=Et()(t,0,this.width):!this.infinityMode&&(t<0||t>=this.width)&&(t=null),this.wrapMode?e=Et()(e,0,this.height):!this.infinityMode&&(e<0||e>=this.height)&&(e=null),i.x=t,i.y=e,i},Rt=function(t,e,i){var n=this.boardData.getUID(t,e,i);return this.uidToChess(n)},Yt=function(t,e,i){void 0===i&&(i=[]);var n=this.boardData.getUID(t,e);if(null==n)return i;for(var r in n)i.push(this.uidToChess(n[r]));return i},Xt=function(t,e){void 0===e&&(e=[]);var i=this.boardData.UIDToXYZ;for(var n in i)i[n].z===t&&e.push(this.uidToChess(n));return e},At=function(t,e,i){Array.isArray(e)&&(i=e,e=void 0),void 0===i&&(i=[]);for(var n,r=null!=e,s=0,o=t.length;s<o;s++)n=t[s],r?i.push(this.tileXYZToChess(n.x,n.y,e)):this.tileXYToChessArray(n.x,n.y,i);return i},It=function(t){return!Object(l.a)(t)&&t&&!!t.rexChess},Ft=i(13),Nt=i.n(Ft),Lt=function(t){return t&&(Nt()(t)||t.isTileXYZ)},zt=function(t){if(!t)return null;if(Object(l.a)(t)||It(t)){var e=f(t);return this.boardData.getXYZ(e)}return Lt(t)?t:null},Wt=function(t,e,i){return this.grid.getOppositeDirection(t,e,i)},Gt=function(t,e,i){return this.grid.getDistance(t,e,i)},Bt=function(t,e,i){void 0===i&&(i=!0);var n=this.chessToTileXYZ(t),r=this.chessToTileXYZ(e);return this.grid.directionBetween(n,r,i)},Vt=function(t,e,i,n){var r=this.chessToTileXYZ(t),s=this.chessToTileXYZ(e),o=this.grid.directions;this.grid.setDirectionMode(this.sides);var a=this.grid.directionBetween(r,s,!1);this.grid.setDirectionMode(o);var u=Math.abs(a-i);return(u=Math.min(u,this.grid.directions-u))<=n/2},Ut={},Ht=function(t,e,i,n){return void 0===n?n={}:!0===n&&(n=Ut),0===e&&0===i?(n.x=t.x,n.y=t.y):this.grid.offset(t,e,i,n),n},Kt={},Jt=function(t,e,i,n){return void 0===n?n={}:!0===n&&(n=Kt),void 0!==i?this.offset(t,-i.x,-i.y,n):(n.x=t.x,n.y=t.y),this.grid.mirror(n,e,n),void 0!==i&&this.offset(n,i.x,i.y,n),n},Zt={},qt=function(t,e,i,n){return void 0===n?n={}:!0===n&&(n=Zt),void 0!==i?this.offset(t,-i.x,-i.y,n):(n.x=t.x,n.y=t.y),this.grid.rotate(n,e,n),void 0!==i&&this.offset(n,i.x,i.y,n),n},Qt=function(t){var e,i=1/0,n=1/0;for(var r in t)e=t[r],i=Math.min(i,e.x),n=Math.min(n,e.y);if(0!==i||0!==n)for(var r in t)e=t[r],this.offset(e,-i,-n,e);var s=-1/0,o=-1/0;for(var r in t)e=t[r],s=Math.max(s,e.x),o=Math.max(o,e.y);return this.setBoardWidth(s),this.setBoardHeight(o),t},$t=function(t,e){void 0===e&&(e=[]),void 0===t&&(t=0);for(var i=0;i<this.height;i++)for(var n=0;n<this.width;n++)null===this.tileXYZToChess(n,i,t)&&e.push({x:n,y:i});return e},te=i(43),ee=i.n(te),ie=i(51),ne=i.n(ie),re=[],se={},oe=function(t,e){var i,n;void 0===t&&(t=0),void 0===e?e={}:!0===e&&(e=se);for(var r=!0,s=20;r&&s>0;)i=ee()(0,this.width-1),n=ee()(0,this.height-1),r=null!==this.tileXYZToChess(i,n,t),s--;if(r){if(0===(re=this.getEmptyTileXYArray(t,re)).length)return null;var o=ne()(re);return e.x=o.x,e.y=o.y,re.length=0,e}return e.x=i,e.y=n,e},ae=i(0),ue=i.n(ae),he=function(t,e,i,n){var r=this.chessToTileXYZ(t);"string"==typeof e&&(e=-1===e.indexOf(",")?parseInt(e):e.split(","));var s,o="number"==typeof e,a="number"==typeof i;if(o&&a)n=this.grid.getTileXYAtDirection(r.x,r.y,e,i,n),this.getWrapTileXY(n.x,n.y,n),null!=n.x&&null!=n.y||(n=null);else if(void 0===n&&(n=[]),null==e&&(e=this.grid.allDirections),o)if(Nt()(i)){var u=ue()(i,"end",1),h=ue()(i,"start",u>0?1:-1),l=ue()(i,"step",u>=h?1:-1);if(h===u)null!==(s=this.getTileXYAtDirection(r,e,u))&&n.push(s);else if(h<u)for(var c=h;c<=u;c+=l)null!==(s=this.getTileXYAtDirection(r,e,c))&&n.push(s);else for(c=h;c>=u;c+=l)null!==(s=this.getTileXYAtDirection(r,e,c))&&n.push(s)}else{c=0;for(var f=i.length;c<f;c++)null!==(s=this.getTileXYAtDirection(r,e,i[c]))&&n.push(s)}else for(c=0,f=e.length;c<f;c++)a?null!==(s=this.getTileXYAtDirection(r,e[c],i))&&n.push(s):this.getTileXYAtDirection(r,e[c],i,n);return n},le=function(t,e,i){return this.getTileXYAtDirection(t,e,1,i)},ce=function(t,e,i){var n=this.angleSnapToDirection(t,e);return this.getTileXYAtDirection(t,n,1,i)};function fe(t){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var de=[],ye=function(t,e,i,n){var r=this.chessToTileXYZ(t);if(null===r)return null;null==i&&(i=r.z);var s,o=fe(e);if("number"===o||"string"===o&&-1===e.indexOf(",")){var a=e,u=this.getNeighborTileXY(r,a,!0);return null===u?null:this.tileXYZToChess(u.x,u.y,i)}void 0===n&&(n=[]),this.getNeighborTileXY(r,e,de);for(var h=0,l=de.length;h<l;h++)null!=(s=this.tileXYZToChess(de[h].x,de[h].y,i))&&n.push(s);return de.length=0,n},pe=[],ve=function(t,e){if(null===t||null===e)return null;if(Object(K.a)(t,e))return null;var i=this.grid.getNeighborTileDirection(t,e);if(this.wrapMode&&null===i){for(var n=0,r=(pe=this.getNeighborTileXY(t,null,pe)).length;n<r;n++)if(Object(K.a)(e,pe[n])){i=n;break}pe.length=0}return i},ge=function(t,e){var i=this.chessToTileXYZ(t),n=this.chessToTileXYZ(e);return this.getNeighborTileDirection(i,n)},be=function(t,e){return null!==this.getNeighborChessDirection(t,e)},me=[],ke=function(t,e,i){var n;void 0===i&&(i=[]),this.grid.ringToTileXYArray(t,e,me);for(var r=0,s=me.length;r<s;r++)n=me[r],this.contains(n.x,n.y)&&i.push(n);return me.length=0,i},we=function(t,e,i,n){var r;Object(dt.a)(i)&&(n=i,i=void 0),void 0===i&&(i=!0),void 0===n&&(n=[]);for(var s=0;s<=e;s++)r=i?s:e-s,this.ringToTileXYArray(t,r,n);return n},xe=[],Oe=function(t,e,i){var n;if(void 0===i){for(var r=0,s=(n=this.tileXYToChessArray(t,e,xe)).length;r<s;r++)if(!0===this.getChessData(n[r]).blocker)return xe.length=0,!0;return xe.length=0,!1}return null!==(n=this.tileXYZToChess(t,e,i))&&!0===this.getChessData(n).blocker},Te=function(t,e){return!1===t||!0===t?t:!0===t[e]},Se=[],_e=function(t,e,i,n){var r;if(void 0===i){for(var s=0,o=(r=this.tileXYToChessArray(t,e,Se)).length;s<o;s++)if(Te(this.getChessData(r[s]).blocker))return Se.length=0,!0;return Se.length=0,!1}return null!==(r=this.tileXYZToChess(t,e,i))&&Te(this.getChessData(r).blocker)},Pe=function(t,e,i){return this.grid.getGridPoints(t,e,i)},Ce={getChessData:u.a,getChessUID:f,setBoardWidth:d,setBoardHeight:y,tileXYToWorldX:p,tileXYToWorldY:v,tileXYToWorldXY:g,tileXYArrayToWorldXYArray:b,worldXYToTileX:m,worldXYToTileY:k,worldXYToTileXY:w,worldXYToChessArray:x,worldXYToChess:O,worldXYSnapToGrid:S,angleBetween:C,isAngleInCone:Y,angleToward:A,angleSnapToDirection:z,isOverlappingPoint:W,gridAlign:G,lineToTileXYArray:J,circleToTileXYArray:Q,ellipseToTileXYArray:et,polygonToTileXYArray:ot,rectangleToTileXYArray:ht,triangleToTileXYArray:ft,shapeToTileXYArray:mt,uidToChess:kt,addChess:wt,removeChess:xt,removeAllChess:Ot,swapChess:Tt,moveChess:wt,getAllChess:St,contains:_t,forEachTileXY:Ct,getWrapTileXY:Dt,tileXYZToChess:Rt,tileXYToChessArray:Yt,tileZToChessArray:Xt,tileXYArrayToChessArray:At,chessToTileXYZ:zt,offset:Ht,mirror:Jt,rotate:qt,getOppositeDirection:Wt,getDistance:Gt,directionBetween:Bt,isDirectionInCone:Vt,fit:Qt,getEmptyTileXYArray:$t,getRandomEmptyTileXY:oe,getTileXYAtDirection:he,getNeighborTileXY:le,getNeighborTileXYAtAngle:ce,getNeighborChess:ye,getNeighborTileDirection:ve,getNeighborChessDirection:ge,areNeighbors:be,ringToTileXYArray:ke,filledRingToTileXYArray:we,hasBlocker:Oe,hasEdgeBlocker:_e,getGridPoints:Pe},je=i(6),Ee=i(76);function Me(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var De=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.XYZToUID={},this.UIDToXYZ={},this.clear()}var e,i,n;return e=t,(i=[{key:"shutdown",value:function(){return this.XYZToUID=void 0,this.UIDToXYZ=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"clear",value:function(){return Object(je.a)(this.UIDToXYZ),Object(je.a)(this.XYZToUID),this.chessCount=0,this.clearBounds(),this}},{key:"clearBounds",value:function(){return this._xMax=void 0,this._xMin=void 0,this._yMax=void 0,this._yMin=void 0,this}},{key:"addUID",value:function(t,e,i,n){this.XYZToUID.hasOwnProperty(e)||(this.XYZToUID[e]={});var r=this.XYZToUID[e];return r.hasOwnProperty(i)||(r[i]={}),r[i][n]=t,this.UIDToXYZ[t]={x:e,y:i,z:n},this.chessCount++,this.clearBounds(),this}},{key:"getUID",value:function(t,e,i){var n=this.XYZToUID[t];return n&&(n=n[e])&&void 0!==i&&(n=n[i]),n}},{key:"removeUID",value:function(t,e,i){if(!this.XYZToUID.hasOwnProperty(t))return this;var n=this.XYZToUID[t];if(!n.hasOwnProperty(e))return this;var r=n[e];if(!r.hasOwnProperty(i))return this;var s=r[i];return delete r[i],delete this.UIDToXYZ[s],Object(Ee.a)(r)&&delete n[e],Object(Ee.a)(n)&&delete this.XYZToUID[t],this.chessCount--,this.clearBounds(),this}},{key:"exists",value:function(t){return this.UIDToXYZ.hasOwnProperty(t)}},{key:"contains",value:function(t,e,i){return null!=this.getUID(t,e,i)}},{key:"getXYZ",value:function(t){return this.exists(t)?this.UIDToXYZ[t]:null}},{key:"xMax",get:function(){if(void 0===this._xMax){this._xMax=-1/0;var t,e=this.UIDToXYZ;for(var i in e)t=e[i].x,this._xMax<t&&(this._xMax=t)}return this._xMax}},{key:"xMin",get:function(){if(void 0===this._xMin){this._xMin=1/0;var t,e=this.UIDToXYZ;for(var i in e)t=e[i].x,this._xMin>t&&(this._xMin=t)}return this._xMin}},{key:"yMax",get:function(){if(void 0===this._yMax){this._yMax=-1/0;var t,e=this.UIDToXYZ;for(var i in e)t=e[i].y,this._yMax<t&&(this._yMax=t)}return this._yMax}},{key:"yMin",get:function(){if(void 0===this._yMin){this._yMin=1/0;var t,e=this.UIDToXYZ;for(var i in e)t=e[i].y,this._yMin>t&&(this._yMin=t)}return this._yMin}}])&&Me(e.prototype,i),n&&Me(e,n),t}(),Re=i(71),Ye=i(72),Xe={quadGrid:Re.a,hexagonGrid:Ye.a};function Ae(t){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ie(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Fe(t,e){return!e||"object"!==Ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ne(t,e,i){return(Ne="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Le(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function Le(t){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ze(t,e){return(ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var We=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Fe(this,Le(e).call(this))).scene=t,n.boardData=new De,n.resetFromJSON(i),n.boot(),n}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ze(t,e)}(e,a["a"]),i=e,(n=[{key:"resetFromJSON",value:function(t){return this.isBoard=ue()(t,"isBoard",!0),this.setGrid(ue()(t,"grid",void 0)),this.setWrapMode(ue()(t,"wrap",!1)),this.setInfinityBoard(ue()(t,"inifinity",!1)),this.setBoardWidth(ue()(t,"width",0)),this.setBoardHeight(ue()(t,"height",0)),this}},{key:"boot",value:function(){this.scene&&this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){return this.removeAllChess(!0,!0),Ne(Le(e.prototype),"shutdown",this).call(this),this.boardData.shutdown(),this.scene=void 0,this.boardData=void 0,this}},{key:"destroy",value:function(){return this.emit("destroy"),this.shutdown(),this}},{key:"setGrid",value:function(t){if(Nt()(t)){var e=t,i=ue()(e,"gridType","quadGrid");t=new Xe[i](e)}return this.grid=t,this}},{key:"setWrapMode",value:function(t){return void 0===t&&(t=!0),this.wrapMode=t,this}},{key:"setInfinityBoard",value:function(t){return void 0===t&&(t=!0),this.infinityMode=t,this}},{key:"setBoardSize",value:function(t,e){return this.setBoardWidth(t),this.setBoardHeight(e),this}},{key:"exists",value:function(t){return this.boardData.exists(this.getChessUID(t))}},{key:"clear",value:function(t){return void 0===t&&(t=!0),this.removeAllChess(t,!0),this.boardData.clear(),this}},{key:"chessCount",get:function(){return this.boardData.chessCount}}])&&Ie(i.prototype,n),r&&Ie(i,r),e}();Object.assign(We.prototype,Ce);e.a=We},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e,n){var r=n?t[e]:Object.getOwnPropertyDescriptor(t,e);return!n&&r.value&&"object"===i(r.value)&&(r=r.value),!(!r||!function(t){return!!t.get&&"function"==typeof t.get||!!t.set&&"function"==typeof t.set}(r))&&(void 0===r.enumerable&&(r.enumerable=!0),void 0===r.configurable&&(r.configurable=!0),r)}function r(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!!n&&(n.value&&"object"===i(n.value)&&(n=n.value),!1===n.configurable)}function s(t,e,i,s){for(var o in e)if(e.hasOwnProperty(o)){var u=n(e,o,i);if(!1!==u){if(r((s||t).prototype,o)){if(a.ignoreFinals)continue;throw new Error("cannot override final property '"+o+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(t.prototype,o,u)}else t.prototype[o]=e[o]}}function o(t,e){if(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)s(t,e[i].prototype||e[i])}}function a(t){var e,i;if(t||(t={}),t.initialize){if("function"!=typeof t.initialize)throw new Error("initialize must be a function");e=t.initialize,delete t.initialize}else if(t.Extends){var n=t.Extends;e=function(){n.apply(this,arguments)}}else e=function(){};t.Extends?(e.prototype=Object.create(t.Extends.prototype),e.prototype.constructor=e,i=t.Extends,delete t.Extends):e.prototype.constructor=e;var r=null;return t.Mixins&&(r=t.Mixins,delete t.Mixins),o(e,r),s(e,t,!0,i),e}a.extend=s,a.mixin=o,a.ignoreFinals=!1,t.exports=a},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=Phaser.Loader.FILE_POPULATED,h=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i.hasOwnProperty("type")||(i.type="await"),i.hasOwnProperty("url")||(i.url=""),i.hasOwnProperty("key")||(i.key=(new Date).getTime().toString()),s(this,o(e).call(this,t,i))}var i,n,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,Phaser.Loader.File),i=e,(n=[{key:"load",value:function(){if(this.state===u)this.loader.nextFile(this,!0);else{var t=this.config,e=t.callback,i=t.scope,n=this.onLoad.bind(this),r=this.onError.bind(this);e?i?e.call(i,n,r):e(n,r):this.onLoad()}}},{key:"onLoad",value:function(){this.loader.nextFile(this,!0)}},{key:"onError",value:function(){this.loader.nextFile(this,!1)}}])&&r(i.prototype,n),h&&r(i,h),e}();e.a=h},function(t,e,i){"use strict";e.a={"up&down":0,"left&right":1,"4dir":2,"8dir":3}},function(t,e,i){"use strict";var n={};e.a=function(t,e,i){switch(void 0===i?i={}:!0===i&&(i=n),i.left=!1,i.right=!1,i.up=!1,i.down=!1,t=(t+360)%360,e){case 0:t<180?i.down=!0:i.up=!0;break;case 1:t>90&&t<=270?i.left=!0:i.right=!0;break;case 2:t>45&&t<=135?i.down=!0:t>135&&t<=225?i.left=!0:t>225&&t<=315?i.up=!0:i.right=!0;break;case 3:t>22.5&&t<=67.5?(i.down=!0,i.right=!0):t>67.5&&t<=112.5?i.down=!0:t>112.5&&t<=157.5?(i.down=!0,i.left=!0):t>157.5&&t<=202.5?i.left=!0:t>202.5&&t<=247.5?(i.left=!0,i.up=!0):t>247.5&&t<=292.5?i.up=!0:t>292.5&&t<=337.5?(i.up=!0,i.right=!0):i.right=!0}return i}},function(t,e,i){"use strict";e.a=function(){return this._savedOriginX=this.x,this._savedOriginY=this.y,this}},function(t,e,i){"use strict";e.a=function(){return this.x=this._savedOriginX,this.y=this._savedOriginY,this}},function(t,e,i){"use strict";var n=i(34),r=i.n(n);e.a=function(t){return r()(t,0,this.directions)}},function(t,e,i){"use strict";var n=i(4),r=i(2);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetValue,a=Phaser.Math.Distance.Between,u=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.setEventEmitter(o(i,"eventEmitter",void 0)),e.setInteractive(o(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}var e,i,r;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(o(t,"enable",!0)),this.holdThreshold=o(t,"holdThreshold",50),this}},{key:"boot",value:function(){this.gameObject.on("pointerdown",this.onPointIn,this),this.gameObject.on("pointerover",this.onPointIn,this),this.gameObject.on("pointerup",this.onPointOut,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onPointerMove,this),this.gameObject.once("destroy",this.destroy,this),this.scene.events.on("preupdate",this.preupdate,this)}},{key:"shutdown",value:function(){this.scene&&this.scene.events.off("preupdate",this.preupdate,this),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0,this.destroyEventEmitter()}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||(this.isInTouched=!1,this.pointer=void 0),this.enable=t,this.gameObject.input.enabled=t,this)}},{key:"onPointIn",value:function(t,e,i){t.isDown&&void 0===this.pointer&&(this.pointer=t,this.localX=e,this.localY=i)}},{key:"onPointOut",value:function(t){this.pointer===t&&(this.pointer=void 0)}},{key:"onPointerMove",value:function(t,e,i){t.isDown&&this.pointer===t&&(this.localX=e,this.localY=i)}},{key:"preupdate",value:function(t,e){var i=this.pointer;this.justMoved=!1,i&&!this.isInTouched?(this.x=i.x,this.y=i.y,this.preX=i.x,this.preY=i.y,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",i,this.localX,this.localY)):i&&this.isInTouched?this.x===i.x&&this.y===i.y?void 0===this.holdStartTime?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=i.x,this.y=i.y,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",i,this.localX,this.localY)):!i&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",i))}},{key:"isDown",get:function(){return this.pointer&&this.pointer.isDown}},{key:"isUp",get:function(){return!this.isDown}},{key:"dx",get:function(){return this.x-this.preX}},{key:"dy",get:function(){return this.y-this.preY}},{key:"dt",get:function(){return this.scene.sys.game.loop.delta}},{key:"speed",get:function(){return this.x===this.preX&&this.y===this.preY?0:a(this.preX,this.preY,this.x,this.y)/(.001*this.dt)}},{key:"speedX",get:function(){return this.dx/(.001*this.dt)}},{key:"speedY",get:function(){return this.dy/(.001*this.dt)}}])&&s(e.prototype,i),r&&s(e,r),t}();Object.assign(u.prototype,r.a);var h=u;e.a=h},function(t,e,i){"use strict";var n=i(47),r=Phaser.Geom.Intersects.RectangleToRectangle,s=Phaser.Geom.Rectangle.Overlaps,o=function(t,e){var i=0,n=e.top,r=e.bottom,s=e.left,o=e.right;return i+=t.contains(s,n)?1:0,i+=t.contains(s,r)?1:0,i+=t.contains(o,n)?1:0,i+=t.contains(o,r)?1:0},a=function(t,e){t.setVisible(!0),t.clearMask&&t.clearMask()},u=function(t,e){t.setVisible(!0),t.setMask&&t.setMask(e)},h=function(t,e){t.setVisible(!1),t.clearMask&&t.clearMask()};e.a=function(t,e,i){if(e){void 0===i&&(i=t.getAllChildren());for(var l,c,f=t.getBounds(),d=Object(n.a)(e),y=0,p=i.length;y<p;y++)if(!(l=i[y]).hasOwnProperty("isRexContainerLite")&&l!==d){if(l.getBounds)switch(c=l.getBounds(c),o(f,c)){case 4:a(l,e);break;case 0:r(f,c)||s(f,c)?u(l,e):h(l,e);break;default:u(l,e)}else u(l,e);t.resetChildVisibleState(l).updateChildVisible(l)}}}},function(t,e,i){"use strict";var n;e.a=function(t,e){void 0===e&&(void 0===n&&(n=new Phaser.Geom.Rectangle),e=n);var i=t.game.config;return e.setTo(0,0,i.width,i.height),e}},function(t,e,i){"use strict";e.a={cascadeMode:!1,setParent:function(t){return this.gameObject=t,this.scene=t.scene,this},setCascadeMode:function(t){return this.cascadeMode=t,this},bodySetVelocity:function(t,e){var i=this.gameObject.body,n=i.velocity.x,r=i.velocity.y;this.cascaseMode&&(t+=n,e+=r),t===n&&e===r||i.setVelocity(t,e)},bodySetAcceleration:function(t,e){var i=this.gameObject.body,n=i.acceleration.x,r=i.acceleration.y;this.cascaseMode&&(t+=n,e+=r),t===n&&e===r||i.setAcceleration(t,e)},bodySetGravity:function(t,e){var i=this.gameObject.body,n=i.gravity.x,r=i.gravity.y;this.cascaseMode&&(t+=n,e+=r),t===n&&e===r||i.setAcceleration(t,e)},bodySetAngularVelocity:function(t){var e=this.gameObject.body,i=e.angularVelocity;this.cascaseMode&&(t+=i),t!==i&&e.setAngularVelocity(t)},bodySetAngularAcceleration:function(t){var e=this.gameObject.body,i=e.angularAcceleration;this.cascaseMode&&(t+=i),t!==i&&e.setAngularAcceleration(t)}}},function(t,e,i){"use strict";var n=i(27),r=i(15),s=i.n(r);e.a=function(t,e,i,r,o){if(void 0===o&&(o=Object(n.a)(6)),void 0===i);else if("number"==typeof i)for(var a,u,h=0===r?0:-30,l=0;l<6;l++)a=60*l+h,u=s()(a),o[l].x=t+i*Math.cos(u),o[l].y=e+i*Math.sin(u);else{var c=i,f=c.width,d=c.height,y=f/2,p=f/4,v=d/2,g=d/4;0===r?(o[0].x=t+y,o[0].y=e,o[1].x=t+p,o[1].y=e+v,o[2].x=t-p,o[2].y=e+v,o[3].x=t-y,o[3].y=e,o[4].x=t-p,o[4].y=e-v,o[5].x=t+p,o[5].y=e-v):(o[0].x=t+y,o[0].y=e-g,o[1].x=t+y,o[1].y=e+g,o[2].x=t,o[2].y=e+v,o[3].x=t-y,o[3].y=e+g,o[4].x=t-y,o[4].y=e-g,o[5].x=t,o[5].y=e-v)}return o}},,function(t,e,i){"use strict";var n=i(66),r=i(67),s=i(7),o=s.a.ODD_R,a=s.a.EVEN_R,u=s.a.ODD_Q,h=s.a.EVEN_Q,l={},c=function(t,e,i){void 0===i?i={}:!0===i&&(i=l);var n=t*this.width,r=e*this.height;switch(this.mode){case o:1&e&&(n+=this._halfWidth),r*=.75;break;case a:1&e&&(n-=this._halfWidth),r*=.75;break;case u:n*=.75,1&t&&(r+=this._halfHeight);break;case h:n*=.75,1&t&&(r-=this._halfHeight)}return n+=this.x,r+=this.y,i.x=n,i.y=r,i},f=function(t,e){return this.getWorldXY(t,e,!0).x},d=function(t,e){return this.getWorldXY(t,e,!0).y},y=i(8),p=s.a.ODD_R,v=s.a.EVEN_R,g=s.a.ODD_Q,b=s.a.EVEN_Q,m={},k={},w=function(t,e,i){var n,r;switch(void 0===i?i={}:!0===i&&(i=k),t-=this.x,e-=this.y,this.mode){case p:case v:r=e*(4/3)/this.height,n=t/this.width-2/3*(e/this.height);break;case g:case b:r=e/this.height-2/3*(t/this.width),n=t*(4/3)/this.width}var s=Object(y.c)(n,r,m);return Object(y.d)(s),Object(y.b)(this.mode,s.x,s.y,s.z,i),i},x=function(t,e){return this.getTileXY(t,e,!0).x},O=function(t,e){return this.getTileXY(t,e,!0).y},T=i(0),S=i.n(T);function _(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var P=s.a.ODD_R,C=s.a.EVEN_R,j=s.a.ODD_Q,E=s.a.EVEN_Q,M=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,i,s;return e=t,(i=[{key:"resetFromJSON",value:function(t){if(this.setType(S()(t,"staggeraxis",1),S()(t,"staggerindex",1)),this.setDirectionMode(),this.setOriginPosition(S()(t,"x",0),S()(t,"y",0)),this.size=S()(t,"size",void 0),void 0!==this.size){var e={size:this.size,type:this.staggeraxis},i=Object(n.a)(e),s=Object(r.a)(e);this.setCellSize(i,s)}else this.setCellSize(S()(t,"cellWidth",0),S()(t,"cellHeight",0))}},{key:"setType",value:function(t,e){return"string"==typeof t&&(t=R[t]),"string"==typeof e&&(e=Y[e]),this.staggeraxis=t,this.staggerindex=e,this.mode=0===t?0===e?E:j:0===e?C:P,this}},{key:"setDirectionMode",value:function(){return this.directions=6,this}},{key:"setOriginPosition",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setCellSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._halfWidth=t/2}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._halfHeight=t/2}},{key:"cellWidth",get:function(){return this.width},set:function(t){this.width=t}},{key:"cellHeight",get:function(){return this.height}},{key:"cellHieght",set:function(t){this.height=t}}])&&_(e.prototype,i),s&&_(e,s),t}(),D={getWorldXY:c,getWorldX:f,getWorldY:d,getTileXY:w,getTileX:x,getTileY:O};Object.assign(M.prototype,D);var R={y:0,x:1},Y={even:0,odd:1};e.a=M},function(t,e,i){"use strict";var n={},r=function(t,e,i){var r,s;switch(void 0===i?i={}:!0===i&&(i=n),this.mode){case 0:r=t*this.width,s=e*this.height;break;case 1:r=(t-e)*this._halfWidth,s=(t+e)*this._halfHeight}return r+=this.x,s+=this.y,i.x=r,i.y=s,i},s=function(t,e){return this.getWorldXY(t,e,!0).x},o=function(t,e){return this.getWorldXY(t,e,!0).y},a={},u=function(t,e,i){void 0===i?i={}:!0===i&&(i=a),t-=this.x,e-=this.y;var n=t/this.width,r=e/this.height;switch(this.mode){case 0:i.x=Math.round(n),i.y=Math.round(r);break;case 1:i.x=Math.round(+n+r),i.y=Math.round(-n+r)}return i},h=function(t,e){return this.getTileXY(t,e,!0).x},l=function(t,e){return this.getTileXY(t,e,!0).y},c=i(0),f=i.n(c);function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){this.setType(f()(t,"type",0)),this.setDirectionMode(f()(t,"dir",4)),this.setOriginPosition(f()(t,"x",0),f()(t,"y",0)),this.setCellSize(f()(t,"cellWidth",0),f()(t,"cellHeight",0))}},{key:"setType",value:function(t){return"string"==typeof t&&(t=v[t]),this.mode=t,this}},{key:"setDirectionMode",value:function(t){return"string"==typeof t&&(t=g[t]),this.directions=t,this}},{key:"setOriginPosition",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setCellSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._halfWidth=t/2}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._halfHeight=t/2}},{key:"cellWidth",get:function(){return this.width},set:function(t){this.width=t}},{key:"cellHeight",get:function(){return this.height}},{key:"cellHieght",set:function(t){this.height=t}}])&&d(e.prototype,i),n&&d(e,n),t}(),p={getWorldXY:r,getWorldX:s,getWorldY:o,getTileXY:u,getTileX:h,getTileY:l};Object.assign(y.prototype,p);var v={orthogonal:0,isometric:1,staggered:2},g={"4dir":4,"8dir":8};e.a=y},function(t,e,i){"use strict";var n=i(78),r=i(14);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=a(n=function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?a(t):e}(this,h(e).call(this,t,i))),u={states:{IDLE:{enter:function(){o.prevDistance=void 0,o.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){o.emit("pinchstart",o)},exit:function(){o.emit("pinchend",o)}}},init:function(){this.state=d},eventEmitter:!1};return n.setRecongizedStateObject(new r.a(u)),n}var i,f,v;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,n["a"]),i=e,(f=[{key:"resetFromJSON",value:function(t){return u(h(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(c(t,"threshold",0)),this}},{key:"onDrag2Start",value:function(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=0===this.dragThreshold?p:y}},{key:"onDrag2End",value:function(){this.state=d}},{key:"onDrag2",value:function(){switch(this.state){case y:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=p}break;case p:t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isPinch",get:function(){return this.state===p}}])&&o(i.prototype,f),v&&o(i,v),e}(),d="IDLE",y="BEGIN",p="RECOGNIZED";e.a=f},,,,,,function(t,e){t.exports=function(t){return(t%=2*Math.PI)>=0?t:t+2*Math.PI}},function(t,e,i){"use strict";e.a=function(t){return"rexMiniBoard"===t.type}},,function(t,e,i){"use strict";var n=i(17),r=i(102);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=Phaser.GameObjects.Polygon,l=function(t){function e(t,i,u,h,l,f,d){var y;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===d&&(d=!0);var p,v=Object(r.a)(t);v&&(t=(p=t).board);var g,b,m=t.scene;d?(g=0,b=0):(g=i,b=u);var k,w,x=t.getGridPoints(void 0,void 0,!0);return c(x),k=this,y=!(w=o(e).call(this,m,g,b,x,l,f))||"object"!==s(w)&&"function"!=typeof w?a(k):w,d?v?p.addChess(a(y),i,u,h):t.addChess(a(y),i,u,h,!0):Object(n.a)(a(y)),y}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,h),e}(),c=function(t){for(var e,i=1/0,n=1/0,r=0,s=t.length;r<s;r++)e=t[r],i=Math.min(i,e.x),n=Math.min(n,e.y);if(0===i&&0===n)return t;for(r=0,s=t.length;r<s;r++)(e=t[r]).x-=i,e.y-=n;return t};e.a=l},function(t,e,i){"use strict";var n=i(17),r=i(12),s=function(t,e,i){return void 0===i&&(i=","),"".concat(t).concat(i).concat(e)},o=i(31),a=i.n(o),u=i(36),h=i.n(u);function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.preNodes=[],this.manager=void 0}var e,i,n;return e=t,(i=[{key:"reset",value:function(t){this.manager=t,this.sn=void 0,this.key=void 0,this.x=void 0,this.y=void 0,this.isTileXYZ=!0,this._px=void 0,this._py=void 0,this.cost=void 0,this.f=0,this.g=0,this.h=0,this.closerH=0,this.visited=!1,this.closed=!1,this.preNodes.length=0}},{key:"destroy",value:function(){this.preNodes.length=0,this.manager=void 0}},{key:"heuristic",value:function(t,e,i){if(null===e)return 0;var n,r=this.board.getDistance(t,this,!0)*this.pathFinder.weight;if(1===e&&void 0!==i){var s=t.angleTo(i)-this.angleTo(i);n=r+Math.abs(s)}else n=2===e?r+Math.random():r;return n}},{key:"getNeighborNodes",value:function(){var t=this.board.getNeighborTileXY(this);this.pathFinder.shuffleNeighbors&&a()(t);for(var e,i=[],n=0,r=t.length;n<r;n++)e=this.manager.getNode(t[n],!0),i.push(e);return i}},{key:"getCost",value:function(t){return this.pathFinder.cacheCost?void 0===this.cost&&(this.cost=this.pathFinder.getCost(this,t)):this.cost=this.pathFinder.getCost(this,t),this.cost}},{key:"angleTo",value:function(t){return h()(this.worldX,this.wroldY,t.worldX,t.wroldY)}},{key:"pathFinder",get:function(){return this.manager.pathFinder}},{key:"board",get:function(){return this.manager.pathFinder.board}},{key:"worldX",get:function(){return void 0===this._px&&(this._px=this.board.tileXYToWroldX(this.x,this.y)),this._px}},{key:"wroldY",get:function(){return void 0===this._py&&(this._py=this.board.tileXYToWroldY(this.x,this.y)),this._py}},{key:"pathCost",get:function(){return this.g}}])&&l(e.prototype,i),n&&l(e,n),t}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var y=new r.a,p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sn=0,this.pool=y,this.nodes={},this.pathFinder=e,this.closestNode=null}var e,i,n;return e=t,(i=[{key:"destroy",value:function(){return this.freeAllNodes(),this.pathFinder=null,this.pool=void 0,this}},{key:"getNode",value:function(t,e,i){var n;switch(f(t)){case"number":n=s(t,e);break;case"string":n=t,i=e;break;default:var r=t;i=e,t=r.x,e=r.y,n=s(t,e)}if(void 0===i&&(i=!1),this.sn++,!this.nodes.hasOwnProperty(n)){if(!i)return null;var o=this.pool.pop();null===o&&(o=new c),o.reset(this),o.sn=this.sn,o.key=n,o.x=t,o.y=e,this.nodes[n]=o}return this.nodes[n]}},{key:"freeAllNodes",value:function(){this.closestNode=null;var t,e=this.nodes,i=this.pool;for(var n in e)(t=e[n]).destroy(),i.push(t),delete e[n];return this.sn=0,this}},{key:"getAllNodes",value:function(){return this.nodes}}])&&d(e.prototype,i),n&&d(e,n),t}();function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var g={AREA_MODE:16,PATH_MODE:0,random:0,diagonal:1,straight:2,line:3,"A*":10,"A*-random":11,"A*-line":12,BLOCKER:null,INFINITY:void 0},b=g.PATH_MODE,m=g["A*"],k=g["A*-line"],w=g["A*-random"],x=g.BLOCKER,O=g.INFINITY,T=new(function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.content=[],this.scoreFunction=e}var e,i,n;return e=t,(i=[{key:"clear",value:function(){this.content.length=0}},{key:"push",value:function(t){this.content.push(t),this.sinkDown(this.content.length-1)}},{key:"pop",value:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t}},{key:"remove",value:function(t){var e=this.content.indexOf(t),i=this.content.pop();e!==this.content.length-1&&(this.content[e]=i,this.scoreFunction(i)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))}},{key:"size",value:function(){return this.content.length}},{key:"rescoreElement",value:function(t){this.sinkDown(this.content.indexOf(t))}},{key:"sinkDown",value:function(t){for(var e=this.content[t];t>0;){var i=(t+1>>1)-1,n=this.content[i];if(!(this.scoreFunction(e)<this.scoreFunction(n)))break;this.content[i]=e,this.content[t]=n,t=i}}},{key:"bubbleUp",value:function(t){for(var e=this.content.length,i=this.content[t],n=this.scoreFunction(i);;){var r,s=t+1<<1,o=s-1,a=null;if(o<e){var u=this.content[o];(r=this.scoreFunction(u))<n&&(a=o)}if(s<e){var h=this.content[s];this.scoreFunction(h)<(null===a?n:r)&&(a=s)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=i,t=a}}}])&&v(e.prototype,i),n&&v(e,n),t}())(function(t){return t.f}),S=function(t,e,i,n){void 0===this.nodeManager&&(this.nodeManager=new p(this));var r=this.nodeManager;r.freeAllNodes();var s=n===b,o=this.pathMode===m||this.pathMode===k||this.pathMode===w,a=s&&o,u=s&&!o,h=a?this.pathMode==m?0:this.pathMode==k?1:this.pathMode==w?2:null:null,l=null!==e?r.getNode(e.x,e.y,!0):null,c=r.getNode(t.x,t.y,!0);c.h=c.heuristic(l,h);var f=c,d=function(t,e){t.closerH=a?t.h:t.closerH||t.heuristic(l,h,e)};for(s&&d(f),T.push(c);T.size()>0;){var y=T.pop();if(s&&y===l){f=l;break}y.closed=!0;for(var v,g,S=y.getNeighborNodes(),_=0,P=S.length;_<P;++_)if(g=(v=S[_]).getCost(y),!v.closed&&g!==x){var C=y.g+g,j=v.visited;i!=O&&C>i||(!j||C<v.g?(v.visited=!0,v.preNodes.length=0,v.preNodes.push(y),v.h=v.h||v.heuristic(l,h,c),v.g=C,v.f=v.g+v.h,s&&(d(v,c),(v.closerH<f.closerH||v.closerH===f.closerH&&v.g<f.g)&&(f=v)),j?T.rescoreElement(v):T.push(v)):u&&C==v.g&&v.preNodes.push(y))}}return r.closestNode=s?f:null,T.clear(),this},_=g.BLOCKER,P=function(t,e){return this.occupiedTest&&this.board.contains(t.x,t.y,this.chessData.tileXYZ.z)?_:this.blockerTest&&this.board.hasBlocker(t.x,t.y)?_:(this.edgeBlockerTest,"number"==typeof this.costCallback?this.costCallback:(void 0===(i=this.costCallbackScope?this.costCallback.call(this.costCallbackScope,t,e,this):this.costCallback(t,e,this))&&(i=_),i));var i},C=g.AREA_MODE,j=g.INFINITY,E=function(t,e){if(void 0===e&&(e=[]),null===this.board)return e;if(t!==j&&t<=0)return e;var i=this.chessData.tileXYZ,n=i.x,r=i.y;this.aStarSearch(i,null,t,C);var s,o=this.nodeManager.getAllNodes(),a=[];for(var u in o)(s=o[u]).x===n&&s.y===r||s.closed&&a.push(s);a.sort(function(t,e){var i=t.sn,n=e.sn;return i>n?1:i<n?-1:0});for(var h=0,l=a.length;h<l;h++)s=a[h],e.push({x:s.x,y:s.y,cost:s.g});return e},M=i(43),D=i.n(M),R=g.random,Y=g.diagonal,X=g.straight,A=g.line,I=g["A*"],F=g["A*-line"],N=g["A*-random"],L=function(t,e,i){for(var n,r,s,o,a,u=t.board,h=e,l=[];h.preNodes.length>0;)switch(l.push(h),a=h.preNodes.length,i){case I:case F:case N:h=o=h.preNodes[0];break;case R:h=o=1===a?h.preNodes[0]:h.preNodes[D()(0,a-1)];break;case Y:for(var c=0;c<a;c++)if(o=h.preNodes[c],(r=u.getNeighborTileDirection(h,o))!==n){n=r;break}h=o;break;case X:for(c=0;c<a&&(o=h.preNodes[c],(r=u.getNeighborTileDirection(h,o))!==n);c++);n=r,h=o;break;case A:if(void 0===s&&(s=e.angleTo(t)),1===a)h=o=h.preNodes[0],s=e.angleTo(h);else{o=h.preNodes[0];var f,d=Math.abs(e.angleTo(o)-s);for(c=1;c<a;c++)f=h.preNodes[c],Math.abs(e.angleTo(f)-s)<d&&(o=f);h=o}}return l.reverse()},z=g.PATH_MODE,W=g.INFINITY,G={aStarSearch:S,getCost:P,findArea:E,getPath:function(t,e){if(void 0===e&&(e=[]),void 0===this.board)return e;var i=this.nodeManager;if(void 0===i)return e;var n=i.getNode(this.chessData.tileXYZ,!1),r=i.getNode(t,!1);if(null===n||null===r)return e;for(var s,o=L(n,r,this.pathMode),a=0,u=o.length;a<u;a++)s=o[a],e.push({x:s.x,y:s.y,cost:s.g});return e},findPath:function(t,e,i,n){if(void 0===i&&(i=!0),void 0===n&&(n=[]),null===this.board)return n;if(e!==W&&e<=0)return n;var r=this.chessData.tileXYZ;this.aStarSearch(r,t,e,z);var s=this.nodeManager,o=i?s.closestNode:s.getNode(t);return null===o?n:this.getPath(o,n)},tileXYToCost:function(t,e,i){if(void 0===this.nodeManager)return null;var n=this.nodeManager.getNode(t,e);return null===n?null:(void 0===i&&(i=!0),i?n.g:n.cost)}},B=i(0),V=i.n(B);function U(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var H=g.BLOCKER,K=g.INFINITY,J=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.chessData=Object(n.a)(e),this.nodeManager=void 0,this.resetFromJSON(i)}var e,i,r;return e=t,(i=[{key:"resetFromJSON",value:function(t){var e=V()(t,"costCallback",void 0),i=V()(t,"costCallbackScope",void 0);return void 0===e&&(e=V()(t,"cost",1)),this.setOccupiedTest(V()(t,"occupiedTest",!1)),this.setBlockerTest(V()(t,"blockerTest",!1)),this.setEdgeBlockerTest(V()(t,"edgeBlockerTest",!1)),this.setCostFunction(e,i),this.setPathMode(V()(t,"pathMode",0)),this.setCacheCostMode(V()(t,"cacheCost",!0)),this.setWeight(V()(t,"weight",10)),this.setShuffleNeighborsMode(V()(t,"shuffleNeighbors",!1)),this}},{key:"boot",value:function(){this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return void 0!==this.nodeManager&&this.nodeManager.destroy(),this.gameObject=void 0,this.chessData=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setCostFunction",value:function(t,e){return this.costCallback=t,this.costCallbackScope=e,this}},{key:"setPathMode",value:function(t){return"string"==typeof t&&(t=g[t]),this.pathMode=t,this}},{key:"setCacheCostMode",value:function(t){return void 0===t&&(t=!0),this.cacheCost=t,this}},{key:"setOccupiedTest",value:function(t){return void 0===t&&(t=!0),this.occupiedTest=t,this}},{key:"setBlockerTest",value:function(t){return void 0===t&&(t=!0),this.blockerTest=t,this}},{key:"setEdgeBlockerTest",value:function(t){return void 0===t&&(t=!0),this.edgeBlockerTest=t,this}},{key:"setWeight",value:function(t){return this.weight=t,this}},{key:"setShuffleNeighborsMode",value:function(t){return void 0===t&&(t=!0),this.shuffleNeighbors=t,this}},{key:"BLOCKER",get:function(){return H}},{key:"INFINITY",get:function(){return K}},{key:"board",get:function(){return this.chessData.board}}])&&U(e.prototype,i),r&&U(e,r),t}();Object.assign(J.prototype,G);e.a=J},function(t,e,i){"use strict";var n=i(79),r=Phaser.GameObjects.GameObject.RENDER_MASK,s=function(t){if(t.renderFlags!==r)return!1;var e=!0,i=t.parentContainer;if(i)do{if(i.renderFlags!==r){e=!1;break}i=i.parentContainer}while(i);return e},o=[],a=function(t,e,i,n,r,a){for(var u,h="string"!=typeof t?t:void 0,l="string"!=typeof e?e:void 0,c=i.tileXYToChessArray(n,r,o),f=0,d=c.length;f<d;f++)u=c[f],s(u)&&(u.emit&&(l?l(u):u.emit(e,a)),h?h(u):i.emit(t,a,u));o.length=0},u=function(t){if(this.enable&&t.isDown){var e=this.board;null===this.pointer&&(this.pointer=t);var i=e.worldXYToTileXY(t.worldX,t.worldY,!0),n=i.x,r=i.y;this.tilePosition.x=n,this.tilePosition.y=r,e.contains(n,r)&&(e.emit("tiledown",t,this.tilePosition),a("gameobjectdown","board.pointerdown",e,n,r,t))}},h=function(t){if(this.enable){var e=this.board,i=e.worldXYToTileXY(t.worldX,t.worldY,!0),n=i.x,r=i.y;this.tilePosition.x=n,this.tilePosition.y=r,e.contains(n,r)&&(e.emit("tileup",t,this.tilePosition),a("gameobjectup","board.pointerup",e,n,r,t),this.pointer===t&&(this.pointer=null))}},l=i(26),c=function(t){if(this.enable){var e=this.board,i=e.worldXYToTileXY(t.worldX,t.worldY,!0);if(!Object(l.a)(this.tilePosition,i)){var n=i.x,r=i.y;this.tilePosition.x=n,this.tilePosition.y=r,e.contains(n,r)?(null===this.pointer&&(this.pointer=t),e.emit("tilemove",t,this.tilePosition),a("gameobjectmove","board.pointermove",e,n,r,t)):this.pointer===t&&(this.pointer=null)}}},f=i(69),d={},y=function(t){if(this.enable){var e=this.board;e.worldXYToTileXY(t.worldX,t.worldY,d);var i=d.x,n=d.y;if(e.contains(i,n)){var r="".concat(t.tapsCount,"tap");e.emit("tiletap",t,d),e.emit("tile"+r,t,d),a(function(i){e.emit("gameobjecttap",t,i),e.emit("gameobject"+r,t,i)},function(e){e.emit("board.tap",t),e.emit("board."+r,t)},e,i,n)}}},p=i(70),v={},g=function(t){if(this.enable){var e=this.board;e.worldXYToTileXY(t.worldX,t.worldY,v);var i=v.x,n=v.y;e.contains(i,n)&&(e.emit("tilepressstart",t,v),a("gameobjectpressstart","board.pressstart",e,i,n,t))}},b={},m=function(t){if(this.enable){var e=this.board;e.worldXYToTileXY(t.worldX,t.worldY,b);var i=b.x,n=b.y;e.contains(i,n)&&(e.emit("tilepressend",t,b),a("gameobjectpressend","board.pressend",e,i,n,t))}};function k(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var w=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=e,this.enable=!0,this.pointer=null,this.tilePosition={x:void 0,y:void 0};var i=e.scene;i.input.on("pointerdown",u,this),i.input.on("pointerup",h,this),i.input.on("pointermove",c,this),this._tap=new f.a(i),this._tap.on("tap",y,this),this._press=new p.a(i),this._press.on("pressstart",g,this).on("pressend",m,this),e.once("destroy",this.destroy,this)}var e,i,n;return e=t,(i=[{key:"destroy",value:function(){var t=this.board.scene;t&&(t.input.off("pointerdown",u,this),t.input.off("pointerup",h,this),t.input.off("pointermove",c,this)),this._tap.destroy(),this._press.destroy()}},{key:"setEnable",value:function(t){return this.enable=t,t||(this.pointer=null),this._tap.setEnable(t),this._press.setEnable(t),this}}])&&k(e.prototype,i),n&&k(e,n),t}(),x={setInteractive:function(t){return void 0===t&&(t=!0),this.input||(this.input=new w(this)),this.input.setEnable(t),this}};Object.assign(n.a.prototype,x);e.a=n.a},function(t,e,i){"use strict";var n=i(11),r=function(t){var e=this.chessData.board,i=this.chessData.tileXYZ,n=i.x,r=i.y,s=t.toString();do{s+="."}while(e.contains(n,r,s));return s},s={x:0,y:0,direction:null},o=[],a=function(t,e,i){var n=this.chessData.board;if(null==n)return!1;var a=this.chessData.tileXYZ,u=a.x,h=a.y,l=a.z;if(t===u&&e===h)return!0;if(!n.contains(t,e))return!1;if(void 0===i&&(i=this.chessData.getTileDirection(t,e)),this.sneakMode)if(void 0===this.tileZSave){if(n.contains(t,e,l)){this.tileZSave=l;var c=r.call(this,this.tileZSave);n.moveChess(this.gameObject,t,e,c,!1),l=c}}else n.contains(t,e,this.tileZSave)?(c=r.call(this,this.tileZSave),n.moveChess(this.gameObject,t,e,c,!1),l=c):(n.moveChess(this.gameObject,t,e,this.tileZSave,!1),l=this.tileZSave,this.tileZSave=void 0);if(this.occupiedTest&&!this.sneakMode){var f=n.tileXYZToChess(t,e,l);if(f&&(this.emit("occupy",f,this.parent,this),n.contains(t,e,l)))return!1}if(this.blockerTest&&n.hasBlocker(t,e))return!1;if(this.edgeBlockerTest){var d=this.TileXYToChessArray(u,h,o);if(d.length>1)for(var y=0,p=d.length;y<p;y++)if(d[y]!==this.gameObject&&n.hasEdgeBlocker(u,h,this.chessToTileXYZ(d[y]).z,i))return o.length=0,!1;o.length=0}if(this.moveableTestCallback){if(s.x=t,s.y=e,s.direction=i,this.moveableTestScope)var v=this.moveableTestCallback.call(this.moveableTestScope,a,s,n);else v=this.moveableTestCallback(a,s,n);if(!v)return!1}return!0},u=i(0),h=i.n(u),l={},c={},f=function(t,e,i){var n=this.chessData.board;if(null===n)return this.lastMoveResult=!1,this;if(null!=t&&"number"!=typeof t){var r=t;t=h()(r,"x",void 0),e=h()(r,"y",void 0),i=h()(r,"direction",void 0)}var s=this.chessData.tileXYZ;if(void 0!==i&&null==t||null==e){var o=n.getNeighborTileXY(s,i,!0);null!==o?(t=o.x,e=o.y):(t=null,e=null)}if(null==t||null==e)return this.lastMoveResult=!1,this;if(void 0===i&&(l.x=t,l.y=e,i=n.getNeighborTileDirection(s,l)),!this.canMoveTo(t,e,i))return this.lastMoveResult=!1,this;if(this.destinationTileX=t,this.destinationTileY=e,this.destinationDirection=i,n.wrapMode&&null!==i)if(n.grid.getNeighborTileXY(s.x,s.y,i,c),c.x===t&&c.y===e){var a=n.tileXYToWorldXY(t,e,!0);this.moveAlongLine(void 0,void 0,a.x,a.y)}else{var u=(a=n.tileXYToWorldXY(c.x,c.y,!0)).x,f=a.y,d=(a=n.tileXYToWorldXY(s.x,s.y,!0)).x,y=a.y,p=(d+u)/2,v=(y+f)/2;this.moveAlongLine(void 0,void 0,p,v);var g=n.getOppositeDirection(t,e,i);n.grid.getNeighborTileXY(t,e,g,c),u=(a=n.tileXYToWorldXY(c.x,c.y,!0)).x,f=a.y,d=(u+(p=(a=n.tileXYToWorldXY(t,e,!0)).x))/2,y=(f+(v=a.y))/2,this.addMoveLine(d,y,p,v)}else a=n.tileXYToWorldXY(t,e,!0),this.moveAlongLine(void 0,void 0,a.x,a.y);return n.moveChess(this.gameObject,t,e,void 0,!1),this.isRunning=!0,this.lastMoveResult=!0,this},d=function(t){return this.moveTo(void 0,void 0,t),this},y=i(10),p=i(31),v=i.n(p),g=[],b={x:0,y:0},m=[],k={canMoveTo:a,moveTo:f,moveToward:d,moveToRandomNeighbor:function(){var t=this.chessData.board;if(null===t)return this.lastMoveResult=!1,this;var e=t.grid.allDirections;g.length!==e.length&&Object(y.a)(e,g),v()(g);for(var i=0,n=g.length;i<n;i++)if(this.moveToward(g[i]),this.lastMoveResult)return this;return this},moveAway:function(t,e,i){var n=this.chessData.board;if(null===n)return this.lastMoveResult=!1,this;if("number"!=typeof t){var r=t;t=r.x,e=r.y}b.x=t,b.y=e,void 0===i&&(i=!0);var s,o,a=this.chessData.tileXYZ,u=n.grid.allDirections;if(m.length!==u.length+1){m.length=0;for(var h=0,l=u.length;h<l;h++)m.push({direction:h});m.push({direction:null})}for(h=0,l=m.length;h<l;h++){if(null===(o=(s=m[h]).direction))s.x=a.x,s.y=a.y;else if(null===n.getNeighborTileXY(a,o,s)){s.x=null,s.y=null,s.distance=null;continue}s.distance=n.getDistance(s,b,!0)}var c=this.destinationDirection;m.sort(function(t,e){return null===t.distance?1:null===e.distance?-1:t.distance>e.distance?i?-1:1:t.distance<e.distance?i?1:-1:t.direction===c?1:e.direction===c?-1:null===t.direction?1:null===e.direction?-1:0});for(h=0,l=m.length;h<l;h++){if(null===(s=m[h]).distance)return this;if(this.moveTo(s),this.lastMoveResult)return this}return this},moveCloser:function(t,e){return this.moveAway(t,e,!1),this}},w=i(63),x=i(17);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function S(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t,e,i){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=S(this,P(e).call(this,t,i))).gameObject=t,n.chessData=Object(x.a)(t),n.scene=t.scene,n.moveToTask=new w.a(t,E),n.resetFromJSON(i),n.boot(),n}var i,r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,n["a"]),i=e,(r=[{key:"resetFromJSON",value:function(t){return this.isRunning=h()(t,"isRunning",!1),this.setEnable(h()(t,"enable",!0)),this.timeScale=h()(t,"timeScale",1),this.setSpeed(h()(t,"speed",400)),this.setRotateToTarget(h()(t,"rotateToTarget",!1)),this.setOccupiedTest(h()(t,"occupiedTest",!1)),this.setBlockerTest(h()(t,"blockerTest",!1)),this.setEdgeBlockerTest(h()(t,"edgeBlockerTest",!1)),this.setMoveableTestCallback(h()(t,"moveableTest",void 0),h()(t,"moveableTestScope",void 0)),this.setSneakEnable(h()(t,"sneak",!1)),this.destinationTileX=h()(t,"destinationTileX",null),this.destinationTileY=h()(t,"destinationTileY",null),this.destinationDirection=h()(t,"destinationDirection",null),this.lastMoveResult=h()(t,"lastMoveResult",void 0),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,enable:this.enable,timeScale:this.timeScale,speed:this.speed,occupiedTest:this.occupiedTest,blockerTest:this.blockerTest,edgeBlockerTest:this.edgeBlockerTest,moveableTest:this.moveableTestCallback,moveableTestScope:this.moveableTestScope,rotateToTarget:this.rotateToTarget,destinationTileX:this.destinationTileX,destinationTileY:this.destinationTileY,destinationDirection:this.destinationDirection,lastMoveResult:this.lastMoveResult,tickingMode:this.tickingMode}}},{key:"boot",value:function(){_(P(e.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.moveToTask.shutdown(),_(P(e.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){_(P(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){_(P(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"setEnable",value:function(t){return void 0==t&&(t=!0),this.enable=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"setRotateToTarget",value:function(t){return this.rotateToTarget=t,this}},{key:"setOccupiedTest",value:function(t){return void 0===t&&(t=!0),this.occupiedTest=t,this}},{key:"setBlockerTest",value:function(t){return void 0===t&&(t=!0),this.blockerTest=t,this}},{key:"setEdgeBlockerTest",value:function(t){return void 0===t&&(t=!0),this.edgeBlockerTest=t,this}},{key:"setMoveableTestCallback",value:function(t,e){return this.moveableTestCallback=t,this.moveableTestScope=e,this}},{key:"setSneakEnable",value:function(t){return void 0===t&&(t=!0),this.sneakMode=t,this.tileZSave=void 0,this}},{key:"pause",value:function(){return this.isRunning=!1,this}},{key:"resume",value:function(){return this.isRunning=!0,this}},{key:"stop",value:function(){return this.isRunning=!1,this}},{key:"moveAlongLine",value:function(t,e,i,n){return void 0!==t&&(this.gameObject.x=t),void 0!==e&&(this.gameObject.y=e),this.moveToTask.moveTo(i,n),this}},{key:"addMoveLine",value:function(t,e,i,n){return this.moveToTask.hasOwnProperty("nextlines")||(this.moveToTask.nextlines=[]),this.moveToTask.nextlines.push([t,e,i,n]),this}},{key:"moveNextLine",value:function(){var t=this.moveToTask.nextlines;return!!t&&(0!==t.length&&(this.moveAlongLine.apply(this,t[0]),t.length=0,!0))}},{key:"update",value:function(t,e){if(!this.isRunning||!this.enable)return this;var i=this.moveToTask;return i.update(t,e),i.isRunning?this:(this.moveNextLine()||this.complete(),this)}},{key:"enable",set:function(t){this.moveToTask.setEnable(t)},get:function(){return this.moveToTask.enable}},{key:"timeScale",get:function(){return this.moveToTask.timeScale},set:function(t){this.moveToTask.timeScale=t}},{key:"speed",set:function(t){this.moveToTask.setSpeed(t)},get:function(){return this.moveToTask.speed}},{key:"rotateToTarget",set:function(t){this.moveToTask.setRotateToTarget(t)},get:function(){return this.moveToTask.rotateToTarget}}])&&T(i.prototype,r),s&&T(i,s),e}(),E={tickingMode:0};Object.assign(j.prototype,k);e.a=j},function(t,e,i){"use strict";var n=function(t,e,i,n){for(var r,s,o=this.board,a=o.grid.halfDirections,u=this.dirMask,h=o.width,l=o.height,c=0,f=a.length;c<f;c++)if(!1!==u[r=a[c]])for(var d=0;d<l;d++)for(var y=0;y<h;y++)if(!1!==(s=this.matchAtDir(t,y,d,r))&&(e&&(i?e.call(i,s,o):e(s,o)),n))return s;return this},r={tileXY:[],direction:void 0,pattern:void 0},s={match:n,matchAtDir:function(t,e,i,n){var s,o="number"==typeof t;o?(s=t,t=null):s=t.length;var a,u,h=this.wildcard,l=this.board,c=r.tileXY;c.length=0;for(var f=0;f<s;f++){if(void 0===u)u={x:e,y:i};else if(null===(u=l.getNeighborTileXY(u,n,u)))return!1;if(null==(a=this.getSymbol(u.x,u.y)))return!1;if(a!==h)if(o){if(null===t)t=a;else if(t!==a)return!1}else if(t[f]!==a)return!1;c.push({x:u.x,y:u.y})}return r.direction=n,r.pattern=t,r}},o=i(45),a=i(0),u=i.n(a),h=i(13),l=i.n(h);function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.symbols=[],this.dirMask={},this.resetFromJSON(e),this.boot()}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){this.setBoard(u()(t,"board",void 0)),this.setWildcard(u()(t,"wildcard",void 0));var e=u()(t,"dirMask",void 0);return void 0!==e&&this.setDirMask(e),this}},{key:"boot",value:function(){}},{key:"shutdown",value:function(){return this.board=void 0,this.symbols=void 0,this.dirMask=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setBoard",value:function(t){return this.board=t,t&&this.clearSymbols(),this}},{key:"setDirMask",value:function(t,e){if(l()(t)){var i=t;for(t in i)this.dirMask[t]=i[t]}else this.dirMask[t]=e;return this}},{key:"setDirectionMode",value:function(t){return this.board.grid.setDirectionMode(t),this}},{key:"clearSymbols",value:function(){return this.refreshSymbols(null),this}},{key:"setSymbol",value:function(t,e,i,n){var r,s=this.board;return s.contains(t,e)?(Object(o.a)(i)?(d.x=t,d.y=e,r=n?i.call(n,d,s):i(d,s)):r=i,this.symbols[this.tileXYToKey(t,e)]=r,this):this}},{key:"getSymbol",value:function(t,e){return this.symbols[this.tileXYToKey(t,e)]}},{key:"dumpSymobls",value:function(t,e){for(var i,n,r=this.board,s=0,o=this.symbols.length;s<o;s++)n=this.symbols[s],i=this.keyToTileXY(s),e?t.call(e,i,n,r):t(i,n,r);return this}},{key:"refreshSymbols",value:function(t,e){var i,n=this.board,r=n.width,s=n.height;if(this.symbols.length=r*s,Object(o.a)(t))for(var a,u=0,h=this.symbols.length;u<h;u++)a=this.keyToTileXY(u),i=e?t.call(e,a,n):t(a,n),this.symbols[u]=i;else{i=t;for(u=0,h=this.symbols.length;u<h;u++)this.symbols[u]=i}return this}},{key:"setWildcard",value:function(t){return this.wildcard=t,this}},{key:"tileXYToKey",value:function(t,e){return t+e*this.board.width}},{key:"keyToTileXY",value:function(t,e){void 0===e&&(e={});var i=this.board.width;return e.x=t%i,e.y=Math.floor(t/i),e}},{key:"anyMatch",value:function(t){return this.match(t,null,null,!0)}}])&&c(e.prototype,i),n&&c(e,n),t}(),d={x:0,y:0};Object.assign(f.prototype,s);e.a=f},function(t,e){t.exports=function(t){return t.y+t.displayHeight-t.displayHeight*t.originY}},function(t,e){t.exports=function(t){return t.x-t.displayWidth*t.originX+.5*t.displayWidth}},function(t,e){t.exports=function(t,e){return t.y=e-t.displayHeight+t.displayHeight*t.originY,t}},function(t,e){t.exports=function(t,e){var i=t.displayWidth*t.originX;return t.x=e+i-.5*t.displayWidth,t}},function(t,e){t.exports=function(t){return t.x-t.displayWidth*t.originX}},function(t,e){t.exports=function(t,e){return t.x=e+t.displayWidth*t.originX,t}},function(t,e){t.exports=function(t){return t.x+t.displayWidth-t.displayWidth*t.originX}},function(t,e){t.exports=function(t,e){return t.x=e-t.displayWidth+t.displayWidth*t.originX,t}},function(t,e){t.exports=function(t,e){var i=t.displayHeight*t.originY;return t.y=e+i-.5*t.displayHeight,t}},function(t,e){t.exports=function(t){return t.y-t.displayHeight*t.originY+.5*t.displayHeight}},function(t,e){t.exports=function(t){return t.y-t.displayHeight*t.originY}},function(t,e){t.exports=function(t,e){return t.y=e+t.displayHeight*t.originY,t}},function(t,e,i){"use strict";var n=i(48),r={};e.a=function(t,e,i,s){return i instanceof n.a&&(s=i,i=void 0),void 0===i&&(i=!0),r.mode=i?1:0,r.end=0,r.duration=e,void 0===s?s=new n.a(t,r):s.resetFromJSON(r),s.restart(),s}},function(t,e,i){var n=i(80),r=i(123),s=i(141),o=i(197),a=i(198),u=i(204),h=new n({initialize:function(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=i,this.height=n},contains:function(t,e){return r(this,t,e)},getPoint:function(t,e){return s(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return u(this,t)},setTo:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setSize:function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(t){return void 0===t&&(t=new a),t.setTo(this.x,this.y,this.right,this.y),t},getLineB:function(t){return void 0===t&&(t=new a),t.setTo(this.right,this.y,this.right,this.bottom),t},getLineC:function(t){return void 0===t&&(t=new a),t.setTo(this.right,this.bottom,this.x,this.bottom),t},getLineD:function(t){return void 0===t&&(t=new a),t.setTo(this.x,this.bottom,this.x,this.y),t},left:{get:function(){return this.x},set:function(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}},right:{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}},top:{get:function(){return this.y},set:function(t){t>=this.bottom?this.height=0:this.height=this.bottom-t,this.y=t}},bottom:{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});t.exports=h},function(t,e){t.exports=function(t,e,i){return!(t.width<=0||t.height<=0)&&t.x<=e&&t.x+t.width>=e&&t.y<=i&&t.y+t.height>=i}},function(t,e,i){"use strict";function n(t,e,i){i=i||2;var n,a,u,h,l,d,p,v=e&&e.length,g=v?e[0]*i:t.length,b=r(t,0,g,i,!0),m=[];if(!b||b.next===b.prev)return m;if(v&&(b=function(t,e,i,n){var o,a,u,h,l,d=[];for(o=0,a=e.length;o<a;o++)u=e[o]*n,h=o<a-1?e[o+1]*n:t.length,(l=r(t,u,h,n,!1))===l.next&&(l.steiner=!0),d.push(y(l));for(d.sort(c),o=0;o<d.length;o++)f(d[o],i),i=s(i,i.next);return i}(t,e,b,i)),t.length>80*i){n=u=t[0],a=h=t[1];for(var k=i;k<g;k+=i)l=t[k],d=t[k+1],l<n&&(n=l),d<a&&(a=d),l>u&&(u=l),d>h&&(h=d);p=0!==(p=Math.max(u-n,h-a))?1/p:0}return o(b,m,i,n,a,p),m}function r(t,e,i,n,r){var s,o;if(r===S(t,e,i,n)>0)for(s=e;s<i;s+=n)o=x(s,t[s],t[s+1],o);else for(s=i-n;s>=e;s-=n)o=x(s,t[s],t[s+1],o);return o&&b(o,o.next)&&(O(o),o=o.next),o}function s(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!b(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{if(O(n),(n=e=n.prev)===n.next)break;i=!0}}while(i||n!==e);return e}function o(t,e,i,n,r,c,f){if(t){!f&&c&&function(t,e,i,n){var r=t;do{null===r.z&&(r.z=d(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,i,n,r,s,o,a,u,h=1;do{for(i=t,t=null,s=null,o=0;i;){for(o++,n=i,a=0,e=0;e<h&&(a++,n=n.nextZ);e++);for(u=h;a>0||u>0&&n;)0!==a&&(0===u||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,u--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;i=n}s.nextZ=null,h*=2}while(o>1)}(r)}(t,n,r,c);for(var y,p,v=t;t.prev!==t.next;)if(y=t.prev,p=t.next,c?u(t,n,r,c):a(t))e.push(y.i/i),e.push(t.i/i),e.push(p.i/i),O(t),t=p.next,v=p.next;else if((t=p)===v){f?1===f?o(t=h(t,e,i),e,i,n,r,c,2):2===f&&l(t,e,i,n,r,c):o(s(t),e,i,n,r,c,1);break}}}function a(t){var e=t.prev,i=t,n=t.next;if(g(e,i,n)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(p(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&g(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function u(t,e,i,n){var r=t.prev,s=t,o=t.next;if(g(r,s,o)>=0)return!1;for(var a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,u=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,h=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,l=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,c=d(a,u,e,i,n),f=d(h,l,e,i,n),y=t.prevZ,v=t.nextZ;y&&y.z>=c&&v&&v.z<=f;){if(y!==t.prev&&y!==t.next&&p(r.x,r.y,s.x,s.y,o.x,o.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;if(y=y.prevZ,v!==t.prev&&v!==t.next&&p(r.x,r.y,s.x,s.y,o.x,o.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;y&&y.z>=c;){if(y!==t.prev&&y!==t.next&&p(r.x,r.y,s.x,s.y,o.x,o.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;v&&v.z<=f;){if(v!==t.prev&&v!==t.next&&p(r.x,r.y,s.x,s.y,o.x,o.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function h(t,e,i){var n=t;do{var r=n.prev,s=n.next.next;!b(r,s)&&m(r,n,n.next,s)&&k(r,s)&&k(s,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(s.i/i),O(n),O(n.next),n=t=s),n=n.next}while(n!==t);return n}function l(t,e,i,n,r,a){var u=t;do{for(var h=u.next.next;h!==u.prev;){if(u.i!==h.i&&v(u,h)){var l=w(u,h);return u=s(u,u.next),l=s(l,l.next),o(u,e,i,n,r,a),void o(l,e,i,n,r,a)}h=h.next}u=u.next}while(u!==t)}function c(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var i,n=e,r=t.x,s=t.y,o=-1/0;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var a=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>o){if(o=a,a===r){if(s===n.y)return n;if(s===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(r===o)return i.prev;var u,h=i,l=i.x,c=i.y,f=1/0;n=i.next;for(;n!==h;)r>=n.x&&n.x>=l&&r!==n.x&&p(s<c?r:o,s,l,c,s<c?o:r,s,n.x,n.y)&&((u=Math.abs(s-n.y)/(r-n.x))<f||u===f&&n.x>i.x)&&k(n,t)&&(i=n,f=u),n=n.next;return i}(t,e)){var i=w(e,t);s(i,i.next)}}function d(t,e,i,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function y(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function p(t,e,i,n,r,s,o,a){return(r-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(n-a)-(i-o)*(e-a)>=0&&(i-o)*(s-a)-(r-o)*(n-a)>=0}function v(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&m(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&k(t,e)&&k(e,t)&&function(t,e){var i=t,n=!1,r=(t.x+e.x)/2,s=(t.y+e.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&r<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,e)}function g(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function m(t,e,i,n){return!!(b(t,e)&&b(i,n)||b(t,n)&&b(i,e))||g(t,e,i)>0!=g(t,e,n)>0&&g(i,n,t)>0!=g(i,n,e)>0}function k(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function w(t,e){var i=new T(t.i,t.x,t.y),n=new T(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,s.next=n,n.prev=s,n}function x(t,e,i,n){var r=new T(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function O(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function T(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,i,n){for(var r=0,s=e,o=i-n;s<i;s+=n)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}t.exports=n,n.deviation=function(t,e,i,n){var r=e&&e.length,s=r?e[0]*i:t.length,o=Math.abs(S(t,0,s,i));if(r)for(var a=0,u=e.length;a<u;a++){var h=e[a]*i,l=a<u-1?e[a+1]*i:t.length;o-=Math.abs(S(t,h,l,i))}var c=0;for(a=0;a<n.length;a+=3){var f=n[a]*i,d=n[a+1]*i,y=n[a+2]*i;c+=Math.abs((t[f]-t[y])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[y+1]-t[f+1]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},n.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var s=0;s<t[r].length;s++)for(var o=0;o<e;o++)i.vertices.push(t[r][s][o]);r>0&&(n+=t[r-1].length,i.holes.push(n))}return i}},function(t,e,i){var n=i(170),r=i(171);t.exports=function(t,e,i,s,o){var a=this.pipeline,u=a._tempMatrix1,h=a._tempMatrix2,l=a._tempMatrix3;t.setPipeline(a),h.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),u.copyFrom(s.matrix),o?(u.multiplyWithOffset(o,-s.scrollX*e.scrollFactorX,-s.scrollY*e.scrollFactorY),h.e=e.x,h.f=e.y):(h.e-=s.scrollX*e.scrollFactorX,h.f-=s.scrollY*e.scrollFactorY),u.multiply(h,l);var c=e._displayOriginX,f=e._displayOriginY,d=s.alpha*e.alpha;e.isFilled&&n(a,l,e,d,c,f),e.isStroked&&r(a,e,d,c,f)}},function(t,e,i){var n=i(172),r=i(173),s=Phaser.Renderer.Canvas.SetTransform;t.exports=function(t,e,i,o,a){var u=t.currentContext;if(s(t,u,e,o,a)){var h=e._displayOriginX,l=e._displayOriginY,c=e.pathData,f=c.length-1,d=c[0]-h,y=c[1]-l;u.beginPath(),u.moveTo(d,y),e.closePath||(f-=2);for(var p=2;p<f;p+=2){var v=c[p]-h,g=c[p+1]-l;u.lineTo(v,g)}u.closePath(),e.isFilled&&(n(u,e),u.fill()),e.isStroked&&(r(u,e),u.stroke()),u.restore()}}},function(t,e,i){"use strict";var n=i(128),r=i.n(n);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,u(e).apply(this,arguments))}var i,n,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,r.a),i=e,(n=[{key:"shutdown",value:function(){this.removeAllListeners()}},{key:"destroy",value:function(){this.removeAllListeners()}}])&&o(i.prototype,n),s&&o(i,s),e}();e.a=l},function(t,e,i){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function s(){}function o(t,e,i,n,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var o=new function(t,e,i){this.fn=t,this.context=e,this.once=i||!1}(i,n||t,s),a=r?r+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],o]:t._events[a].push(o):(t._events[a]=o,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new s:delete t._events[e]}function u(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(r=!1)),u.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},u.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,o=new Array(s);n<s;n++)o[n]=i[n].fn;return o},u.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},u.prototype.emit=function(t,e,i,n,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var u,h,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,i),!0;case 4:return l.fn.call(l.context,e,i,n),!0;case 5:return l.fn.call(l.context,e,i,n,s),!0;case 6:return l.fn.call(l.context,e,i,n,s,o),!0}for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];l.fn.apply(l.context,u)}else{var f,d=l.length;for(h=0;h<d;h++)switch(l[h].once&&this.removeListener(t,l[h].fn,void 0,!0),c){case 1:l[h].fn.call(l[h].context);break;case 2:l[h].fn.call(l[h].context,e);break;case 3:l[h].fn.call(l[h].context,e,i);break;case 4:l[h].fn.call(l[h].context,e,i,n);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];l[h].fn.apply(l[h].context,u)}}return!0},u.prototype.on=function(t,e,i){return o(this,t,e,i,!1)},u.prototype.once=function(t,e,i){return o(this,t,e,i,!0)},u.prototype.removeListener=function(t,e,i,n){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==e||n&&!o.once||i&&o.context!==i||a(this,s);else{for(var u=0,h=[],l=o.length;u<l;u++)(o[u].fn!==e||n&&!o[u].once||i&&o[u].context!==i)&&h.push(o[u]);h.length?this._events[s]=1===h.length?h[0]:h:a(this,s)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&a(this,e)):(this._events=new s,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u},function(t,e){t.exports=function(t,e,i,n){var r=t-i,s=e-n;return Math.sqrt(r*r+s*s)}},,function(t,e,i){"use strict";var n=i(0),r=i.n(n);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nextId=r()(e,"start",1),this.uidKey=r()(e,"uidKey","$uid"),this.autoRemove=r()(e,"remove",!0),this.refs={},this.count=0}var e,i,n;return e=t,(i=[{key:"add",value:function(t,e){var i=this.refs,n=this.uidKey;if(n&&null!=(e=t[n]))return this;if(null==e)do{e=this.nextId,this.nextId++}while(i.hasOwnProperty(e));return i.hasOwnProperty(e)?e=null:(i[e]=t,this.count++,n&&(t[n]=e),this.autoRemove&&t.on&&t.once("destroy",function(){this.remove(e)},this)),n?this:e}},{key:"addMultiple",value:function(t){for(var e=0,i=t.length;e<i;e++)this.add(t[e]);return this}},{key:"get",value:function(t){return this.refs[t]}},{key:"has",value:function(t){return this.refs.hasOwnProperty(t)}},{key:"remove",value:function(t){var e=this.refs;if(e.hasOwnProperty(t)){if(this.uidKey)e[t][this.uidKey]=void 0;delete e[t],this.count--}return this}},{key:"forEach",value:function(t,e){var i,n=this.refs;for(var r in n)i=n[r],e?t.call(e,i,r):t(i,r)}},{key:"clear",value:function(){this.forEach(function(t){this.remove(t)},this)}}])&&s(e.prototype,i),n&&s(e,n),t}();e.a=o},function(t,e){t.exports=function(t,e,i){return(e-t)*i+t}},function(t,e,i){"use strict";var n=i(56),r=i(20),s=i.n(r),o=i(82),a=i(83);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=Phaser.Utils.Objects.GetValue,y=Phaser.Math.Distance.Between,p=Phaser.Math.Angle.Between,v=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=l(this,c(e).call(this))).resetFromJSON(t),i}var i,r,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,n["a"]),i=e,(r=[{key:"resetFromJSON",value:function(t){void 0==this.start&&(this.start={}),void 0==this.end&&(this.end={}),this.setEnable(d(t,"enable",!0)),this.setMode(d(t,"dir","8dir")),this.setDistanceThreshold(d(t,"forceMin",16));var e=d(t,"start.x",null),i=d(t,"start.y",null),n=d(t,"end.x",null),r=d(t,"end.y",null);return this.setVector(e,i,n,r),this}},{key:"toJSON",value:function(){return{enable:this.enable,dir:this.dirMode,forceMin:this.forceMin,start:{x:this.start.x,y:this.start.y},end:{x:this.end.x,y:this.end.y}}}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=o.a[t]),this.dirMode=t,this}},{key:"setEnable",value:function(t){if((t=void 0==t||!!t)!==this.enable)return!1===t&&this.clearVector(),this.enable=t,this}},{key:"setDistanceThreshold",value:function(t){return t<0&&(t=0),this.forceMin=t,this}},{key:"clearVector",value:function(){return this.start.x=0,this.start.y=0,this.end.x=0,this.end.y=0,this.clearAllKeysState(),this}},{key:"setVector",value:function(t,e,i,n){if(this.clearVector(),!this.enable)return this;if(null===t)return this;if(void 0===i&&(i=t,t=0,n=e,e=0),this.start.x=t,this.start.y=e,this.end.x=i,this.end.y=n,this.forceMin>0&&this.force<this.forceMin)return this;var r=Object(a.a)(this.angle,this.dirMode,!0);for(var s in r)r[s]&&this.setKeyState(s,!0);return this}},{key:"forceX",get:function(){return this.end.x-this.start.x}},{key:"forceY",get:function(){return this.end.y-this.start.y}},{key:"force",get:function(){return y(this.start.x,this.start.y,this.end.x,this.end.y)}},{key:"rotation",get:function(){return p(this.start.x,this.start.y,this.end.x,this.end.y)}},{key:"angle",get:function(){return s()(this.rotation)}},{key:"octant",get:function(){var t=0;return this.rightKeyDown?t=this.downKeyDown?45:0:this.downKeyDown?t=this.leftKeyDown?135:90:this.leftKeyDown?t=this.upKeyDown?225:180:this.upKeyDown&&(t=this.rightKeyDown?315:270),t}}])&&h(i.prototype,r),u&&h(i,u),e}(),g=i(2);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function k(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t,e,i){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var T=Phaser.Utils.Objects.GetValue,S=Phaser.Geom.Circle,_=Phaser.Geom.Circle.Contains,P=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=k(this,x(e).call(this,i));var r=T(i,"eventEmitter",void 0),s=T(i,"EventEmitterClass",void 0);return n.setEventEmitter(r,s),n.scene=t.scene,n.gameObject=t,n.radius=T(i,"radius",100),t.setInteractive(new S(t.displayOriginX,t.displayOriginY,n.radius),_),n.boot(),n}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,v),i=e,(n=[{key:"resetFromJSON",value:function(t){return w(x(e.prototype),"resetFromJSON",this).call(this,t),this.pointer=void 0,this}},{key:"toJSON",value:function(){var t=w(x(e.prototype),"toJSON",this).call(this);return t.radius=this.radius,t}},{key:"boot",value:function(){this.gameObject.on("pointerdown",this.onKeyDownStart,this),this.gameObject.on("pointerover",this.onKeyDownStart,this),this.scene.input.on("pointermove",this.onKeyDown,this),this.scene.input.on("pointerup",this.onKeyUp,this),this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.scene&&(this.scene.input.off("pointermove",this.onKeyDown,this),this.scene.input.off("pointerup",this.onKeyUp,this)),this.destroyEventEmitter(),this.pointer=void 0,this.scene=void 0,this.gameObject=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"onKeyDownStart",value:function(t){t.isDown&&void 0===this.pointer&&(this.pointer=t,this.onKeyDown(t))}},{key:"onKeyDown",value:function(t){if(this.pointer===t){var e=this.gameObject,i=t;this.setVector(e.x,e.y,i.x,i.y),this.emit("update")}}},{key:"onKeyUp",value:function(t){this.pointer===t&&(this.pointer=void 0,this.clearVector(),this.emit("update"))}}])&&m(i.prototype,n),r&&m(i,r),e}();Object.assign(P.prototype,g.a);var C=P;e.a=C},function(t,e,i){"use strict";var n=i(2),r=i(4);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetValue,a=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(r.a)(e),this.setEventEmitter(o(i,"eventEmitter",void 0)),e.setInteractive(o(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(o(t,"enable",!0)),this.setMode(o(t,"mode",1)),this.setClickInterval(o(t,"clickInterval",100)),this.setDragThreshold(o(t,"threshold",void 0)),this}},{key:"boot",value:function(){this.gameObject.on("pointerdown",this.onPress,this),this.gameObject.on("pointerup",this.onRelease,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onMove,this),this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.cancel(),this.enable=t,this.gameObject.input.enabled=t,this)}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=u[t]),this.mode=t,this}},{key:"setClickInterval",value:function(t){return this.clickInterval=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"onPress",value:function(t,e,i,n){void 0===this.pointer&&(this.pointer=t,0===this.mode&&this.click(t.downTime,t,n))}},{key:"onRelease",value:function(t,e,i,n){this.pointer===t&&(1===this.mode&&this.click(t.upTime,t,n),this.pointer=void 0)}},{key:"onPointOut",value:function(t,e){this.pointer===t&&this.cancel()}},{key:"onMove",value:function(t,e,i,n){this.pointer===t&&void 0!==this.dragThreshold&&t.getDistance()>=this.dragThreshold&&this.cancel()}},{key:"click",value:function(t,e,i){if(void 0===t)return this.emit("click",this,this.gameObject,e,i),this;this.pointer=void 0;var n=this.lastClickTime;return void 0!==n&&t-n<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.gameObject,e,i),this)}},{key:"cancel",value:function(){return this.pointer=void 0,this}}])&&s(e.prototype,i),n&&s(e,n),t}();Object.assign(a.prototype,n.a);var u={press:0,pointerdown:0,release:1,pointerup:1};e.a=a},function(t,e,i){"use strict";var n=Phaser.GameObjects.Text;e.a=function(t){return t instanceof n}},function(t,e,i){"use strict";var n=function(t,e){var i;return-1==(i=e).indexOf("==")&&-1==i.indexOf("!=")&&-1==i.indexOf(">=")&&-1==i.indexOf("<=")&&-1==i.indexOf(">")&&-1==i.indexOf("<")&&(isNaN(e)&&(e="'"+e+"'"),e="==("+e+")"),"(values['"+t+"']"+e+")"};e.a=function(t,e){for(var i=[],r=0,s=t.length;r<s;r++)""!==e[r]&&null!=e[r]&&i.push(n(t[r],e[r]));var o=i.length>0?i.join("&&"):"false";return new Function("values","return "+o)}},,,,,function(t,e,i){var n=i(142),r=i(59);t.exports=function(t,e,i){if(void 0===i&&(i=new r),e<=0||e>=1)return i.x=t.x,i.y=t.y,i;var s=n(t)*e;return e>.5?(s-=t.width+t.height)<=t.width?(i.x=t.right-s,i.y=t.bottom):(i.x=t.x,i.y=t.bottom-(s-t.width)):s<=t.width?(i.x=t.x+s,i.y=t.y):(i.x=t.right,i.y=t.y+(s-t.width)),i}},function(t,e){t.exports=function(t){return 2*(t.width+t.height)}},function(t,e,i){"use strict";var n=i(49),r={};e.a=function(t,e,i,s,o,a){switch(o instanceof n.a&&(a=o,o=void 0),void 0===o&&(o=!0),r.mode=o?1:0,i){case 0:case"x":r.end={x:0};break;case 1:case"y":r.end={y:0};break;default:r.end=0}return r.duration=e,r.ease=void 0===s?"Linear":s,void 0===a?a=new n.a(t,r):a.resetFromJSON(r),a.restart(),a}},function(t,e,i){"use strict";var n=i(49),r={};e.a=function(t,e,i,s,o){switch(r.mode=0,i){case 0:case"x":r.start={x:0};break;case 1:case"y":r.start={y:0};break;default:r.start=0}return r.end=1,r.duration=e,r.ease=void 0===s?"Cubic":s,void 0===o?o=new n.a(t,r):o.resetFromJSON(r),o.restart(),o}},function(t,e,i){"use strict";var n=i(4),r=i(2),s=i(14);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=u(this,h(e).call(this,i))).parent=t,n.init(),n}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,s["a"]),i=e,(n=[{key:"init",value:function(){this.start("IDLE")}},{key:"next_IDLE",value:function(){var t,e=this.parent;return e.dragState.isDown&&(t=0===e.dragThreshold?"DRAG":"DRAGBEGIN"),t}},{key:"update_IDLE",value:function(t,e){this.next()}},{key:"next_DRAGBEGIN",value:function(){var t=this.parent,e=t.dragState;return e.isDown?e.pointer.getDistance()>=t.dragThreshold?"DRAG":"DRAGBEGIN":"IDLE"}},{key:"update_DRAGBEGIN",value:function(t,e){this.next()}},{key:"next_DRAG",value:function(){var t,e=this.parent;return e.dragState.isUp&&(t=e.outOfBounds?"BACK":e.slidingEnable?"SLIDE":"IDLE"),t}},{key:"update_DRAG",value:function(t,e){var i=this.parent;i.dragState.justMoved&&i.dragging(),this.next()}},{key:"next_SLIDE",value:function(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isSliding||(t="IDLE"),t}},{key:"enter_SLIDE",value:function(){this.parent.onSliding()}},{key:"exit_SLIDE",value:function(){this.parent.stop()}},{key:"update_SLIDE",value:function(t,e){this.parent.sliding(t,e),this.next()}},{key:"next_BACK",value:function(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isPullBack||(t="IDLE"),t}},{key:"enter_BACK",value:function(){this.parent.onPullBack()}},{key:"exit_BACK",value:function(){this.parent.stop()}},{key:"update_BACK",value:function(t,e){this.parent.pullBack(t,e),this.next()}}])&&a(i.prototype,n),r&&a(i,r),e}(),f=i(87);function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var y=Phaser.Utils.Objects.GetValue,p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setValue(y(t,"value",0)),this.setSpeed(y(t,"speed",0)),this.setAcceleration(y(t,"acceleration",0)),this}},{key:"reset",value:function(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}},{key:"setValue",value:function(t){return this.value=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"setAcceleration",value:function(t){return this.acceleration=t,this}},{key:"updateSpeed",value:function(t){return 0!==this.acceleration&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}},{key:"getDeltaValue",value:function(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}},{key:"update",value:function(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}},{key:"isMoving",get:function(){return this.speed>0}}])&&d(e.prototype,i),n&&d(e,n),t}();function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value,this.dir,this.movement=new p}var e,i,n;return e=t,(i=[{key:"init",value:function(t,e,i,n,r){return this.value=t,this.end=r,this.dir=void 0!==r?t<r:e,this.movement.setSpeed(i).setAcceleration(-n),this}},{key:"stop",value:function(){this.movement.reset()}},{key:"update",value:function(t){var e=this.movement.getDeltaValue(t);return this.dir||(e=-e),void 0===this.end?this.value+=e:0===e?this.value=this.end:(this.value+=e,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}},{key:"isMoving",get:function(){return this.movement.isMoving}}])&&v(e.prototype,i),n&&v(e,n),t}();function b(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var m=Phaser.Utils.Objects.GetValue,k=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.setEventEmitter(m(i,"eventEmitter",void 0));var r=m(i,"enable",!0),s={enable:r,eventEmitter:!1};this._state=new c(this,s);var o={inputConfig:m(i,"inputConfig",void 0),enable:r,eventEmitter:!1};this.dragState=new f.a(e,o),this._value=void 0,this._slowDown=new g;var a=m(i,"valuechangeCallback",null);if(null!==a){var u=m(i,"valuechangeCallbackScope",void 0);this.on("valuechange",a,u)}if(null!==(a=m(i,"overmaxCallback",null))){u=m(i,"overmaxCallbackScope",void 0);this.on("overmax",a,u)}if(null!==(a=m(i,"overminCallback",null))){u=m(i,"overminCallbackScope",void 0);this.on("overmin",a,u)}this.resetFromJSON(i),this.boot()}var e,i,r;return e=t,(i=[{key:"resetFromJSON",value:function(t){this.setOrientationMode(m(t,"orientation",0)),this.setDragThreshold(m(t,"threshold",10)),this.setSlidingDeceleration(m(t,"slidingDeceleration",5e3)),this.setBackDeceleration(m(t,"backDeceleration",2e3));var e=m(t,"bounds",void 0);return e?this.setBounds(e):this.setBounds(m(t,"max",0),m(t,"min",0)),this.setValue(m(t,"value",this.maxValue||0)),this.setEnable(m(t,"enable",!0)),this}},{key:"boot",value:function(){this.scene.events.on("update",this._state.update,this._state),this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.scene&&this.scene.events.off("update",this._state.update,this._state),this.gameObject=void 0,this.scene=void 0,this._state.destroy(),this.dragState.destroy()}},{key:"destroy",value:function(){this.shutdown()}},{key:"setOrientationMode",value:function(t){return"string"==typeof t&&(t=w[t]),this.orientationMode=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setSlidingDeceleration",value:function(t){return this.slidingDeceleration=t,this}},{key:"setBackDeceleration",value:function(t){return this.backDeceleration=t,this}},{key:"setBounds",value:function(t,e){if(Array.isArray(t)){var i=t;t=i[0],e=i[1]}return t<e?(this.minValue=t,this.maxValue=e):(this.minValue=e,this.maxValue=t),this}},{key:"setValue",value:function(t){this.value=t}},{key:"setEnable",value:function(t){return this._state.setEnable(t),this.dragState.setEnable(t),this}},{key:"overMax",value:function(t){return null!=this.maxValue&&t>this.maxValue}},{key:"overMin",value:function(t){return null!=this.minValue&&t<this.minValue}},{key:"dragging",value:function(){this.value+=this.dragDelta}},{key:"onSliding",value:function(){var t=this.value,e=this.dragSpeed;if(0===e)return this._slowDown.stop(),void this._state.next();var i=this.slidingDeceleration;this._slowDown.init(t,e>0,Math.abs(e),i)}},{key:"sliding",value:function(t,e){e*=.001;var i=this._slowDown.update(e).value;this.overMax(i)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(i)?(this.value=this.minValue,this._slowDown.stop()):this.value=i}},{key:"onPullBack",value:function(){var t=this.value,e=this.outOfMinBound?this.minValue:this.maxValue,i=Math.abs(e-t),n=this.backDeceleration,r=Math.sqrt(2*n*i);this._slowDown.init(t,void 0,r,n,e)}},{key:"pullBack",value:function(t,e){e*=.001,this.value=this._slowDown.update(e).value,this._slowDown.isMoving||this._state.next()}},{key:"stop",value:function(){this._slowDown.stop()}},{key:"value",get:function(){return this._value},set:function(t){if(t!==this._value){var e=this._value,i=this.overMax(t),n=this.overMin(t);i&&this.emit("overmax",t,e),n&&this.emit("overmin",t,e),this.backEnable||(i&&(t=this.maxValue),n&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,e)}}},{key:"state",get:function(){return this._state.state}},{key:"isDragging",get:function(){return this.dragState.isInTouched}},{key:"outOfMaxBound",get:function(){return this.overMax(this.value)}},{key:"outOfMinBound",get:function(){return this.overMin(this.value)}},{key:"outOfBounds",get:function(){return this.outOfMinBound||this.outOfMaxBound}},{key:"backEnable",get:function(){return"number"==typeof this.backDeceleration}},{key:"isPullBack",get:function(){return this._slowDown.isMoving}},{key:"slidingEnable",get:function(){return"number"==typeof this.slidingDeceleration}},{key:"isSliding",get:function(){return this._slowDown.isMoving}},{key:"dragDelta",get:function(){return 0===this.orientationMode?this.dragState.dy:1===this.orientationMode?this.dragState.dx:0}},{key:"dragSpeed",get:function(){return 0===this.orientationMode?this.dragState.speedY:1===this.orientationMode?this.dragState.speedX:0}}])&&b(e.prototype,i),r&&b(e,r),t}();Object.assign(k.prototype,r.a);var w={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},x=k;e.a=x},function(t,e,i){"use strict";var n=i(2),r=i(4);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetFastValue,a=Phaser.Utils.Objects.GetValue,u=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(r.a)(e),this.setEventEmitter(a(i,"eventEmitter",void 0)),this.timer=null,this.resetFromJSON(i),this.boot()}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){this.setTypeMode(a(t,"typeMode",0)),this.setTypeSpeed(a(t,"speed",333)),this.setTextCallback=o(t,"setTextCallback",null),this.setTextCallbackScope=o(t,"setTextCallbackScope",null),this.typingIdx=o(t,"typingIdx",0),this.text=h(o(t,"text","")),this.textLen=o(t,"textLen",0),this.insertIdx=o(t,"insertIdx",null);var e=o(t,"elapsed",null);return null!==e&&this.start(void 0,void 0,this.typingIdx,e),this}},{key:"toJSON",value:function(){var t,e=this.getTimer();return t=e?e.elapsed:null,{typeMode:this.typeMode,speed:this.speed,setTextCallback:this.setTextCallback,setTextCallbackScope:this.setTextCallbackScope,typingIdx:this.typingIdx,text:this.text,textLen:this.textLen,insertIdx:this.insertIdx,elapsed:t}}},{key:"boot",value:function(){return this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this),this}},{key:"shutdown",value:function(){return this.destroyEventEmitter(),this.freeTimer(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setTypeMode",value:function(t){return"string"==typeof t&&(t=l[t]),this.typeMode=t,this}},{key:"setTypeSpeed",value:function(t){return this.speed=t,this}},{key:"start",value:function(t,e,i,n){return void 0!==t&&this.setTypingContent(t),void 0!==e&&(this.speed=e),void 0===i&&(i=0),this.typingIdx=i+1,0===this.speed?this.stop(!0):this.startTimer(n),this}},{key:"appendText",value:function(t){var e=this.text.concat(h(t));return this.isTyping?this.setTypingContent(e):this.start(e,void 0,this.textLen),this}},{key:"stop",value:function(t){return this.getTimer()&&this.freeTimer(),t&&(this.typingIdx=this.textLen,this.setText(this.text),this.emit("type"),this.emit("complete",this,this.gameObject)),this}},{key:"pause",value:function(){var t=this.getTimer();return t&&(t.paused=!0),this}},{key:"resume",value:function(){var t=this.getTimer();return t&&(t.paused=!1),this}},{key:"setTypingContent",value:function(t){return this.text=h(t),this.textLen=this.getTextLength(this.text),this}},{key:"onTyping",value:function(){var t=this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode);this.setText(t),this.emit("type"),this.isLastChar?(this.freeTimer(),this.emit("complete",this,this.gameObject)):(this.timer.delay=this.speed,this.typingIdx++)}},{key:"getTypingString",value:function(t,e,i,n){var r;if(0===n){var s=0,o=e;this.insertIdx=o,r=this.getSubString(t,s,o)}else if(1===n){s=(o=i)-e;this.insertIdx=0,r=this.getSubString(t,s,o)}else if(2===n){var a=i/2;o=(s=Math.floor(a-e/2))+e;this.insertIdx=e%2?e:0,r=this.getSubString(t,s,o)}else if(3===n){var u,h=Math.floor(e/2);if(h>0){s=(o=i)-h;u=this.getSubString(t,s,o)}else u="";var l,c=e-h;if(c>0){o=(s=0)+c;this.insertIdx=o,l=this.getSubString(t,s,o)}else l="",this.insertIdx=0;r=l+u}return r}},{key:"startTimer",value:function(t){var e;return this.timer&&this.freeTimer(),void 0===t?(0,e=0):(this.speed,e=t),this.timer=this.scene.time.addEvent({delay:0,startAt:e,loop:!0,callback:this.onTyping,callbackScope:this}),this}},{key:"getTimer",value:function(){return this.timer}},{key:"freeTimer",value:function(){return this.timer&&(this.timer.remove(),this.timer=null),this}},{key:"setText",value:function(t){this.setTextCallback&&(t=this.setTextCallbackScope?this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIdx):this.setTextCallback(t,this.isLastChar,this.insertIdx)),this.gameObject.setText(t)}},{key:"getTextLength",value:function(t){var e=this.gameObject;return e.getPlainText?e.getPlainText(t).length:t.length}},{key:"getSubString",value:function(t,e,i){var n=this.gameObject;return n.getSubString?n.getSubString(t,e,i):t.slice(e,i)}},{key:"isTyping",get:function(){return null!==this.getTimer()}},{key:"isLastChar",get:function(){return this.typingIdx===this.textLen}}])&&s(e.prototype,i),n&&s(e,n),t}();Object.assign(u.prototype,n.a);var h=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t},l={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3},c=u;e.a=c},function(t,e,i){"use strict";var n=i(4),r=i(135);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetValue,a=Phaser.Math.Clamp,u=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.setTextObjectType(),this.lines=void 0,this.resetFromJSON(i),this.boot()}var e,i,u;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setText(o(t,"text","")),this.setStartIdx(o(t,"start",0)),this.setPageIdx(o(t,"page",-1)),this}},{key:"toJSON",value:function(){return{text:this.text,start:this.startLineIdx,page:this.pageIndex,pageCount:this.pageCount}}},{key:"boot",value:function(){this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return void 0===this.lines||(0===this.textObjectType?this.lines.length=0:this.lines.destroy()),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){this.shutdown()}},{key:"setTextObjectType",value:function(){return this.textObjectType=Object(r.a)(this.gameObject)?0:1,this}},{key:"setText",value:function(t,e){return void 0===e&&(e=!0),this.text=h(t),0===this.textObjectType?this.lines=this.gameObject.getWrappedText(this.text):this.lines=this.gameObject.getPenManager(this.text,this.lines),this.pageCount=Math.ceil(this.totalLinesCount/this.pageLinesCount),e&&this.resetPageIdx(),this}},{key:"appendText",value:function(t){return this.setText(this.text.concat(h(t))),this}},{key:"getPage",value:function(t){return void 0===t&&(t=this.pageIndex),this.setPageIdx(t).getLines()}},{key:"getNextPage",value:function(){return this.getPage(this.pageIndex+1)}},{key:"getPreviousPage",value:function(){return this.getPage(this.pageIndex-1)}},{key:"showPage",value:function(t){return this.displayText(this.getPage()),this}},{key:"showNextPage",value:function(){return this.displayText(this.getNextPage()),this}},{key:"showPreviousPage",value:function(){return this.displayText(this.getPreviousPage()),this}},{key:"show",value:function(){return this.displayText(this.getLines()),this}},{key:"showNextLine",value:function(){return this.displayText(this.setStartIdx(this.startLineIdx+1).getLines()),this}},{key:"showPreviousLine",value:function(){return this.displayText(this.setStartIdx(this.startLineIdx-1).getLines()),this}},{key:"setStartIdx",value:function(t){return t=a(t,0,this.totalLinesCount-1),this.startLineIdx=t,this}},{key:"resetPageIdx",value:function(){this.pageIndex=-1}},{key:"setPageIdx",value:function(t){return t=a(t,0,this.pageCount-1),this.pageIndex=t,this.setStartIdx(this.pageIndex*this.pageLinesCount),this}},{key:"getLines",value:function(t){void 0===t&&(t=this.startLineIdx);var e,i=t+this.pageLinesCount;if(0===this.textObjectType)e=this.lines.slice(t,i).join("\n");else{var n=this.lines.getLineStartIndex(t),r=this.lines.getLineEndIndex(i-1);e=this.lines.getSliceTagText(n,r,!0)}return e}},{key:"displayText",value:function(t){this.gameObject.setText(t)}},{key:"isFirstPage",get:function(){return this.pageIndex<=0}},{key:"isLastPage",get:function(){return this.pageIndex>=this.pageCount-1}},{key:"totalLinesCount",get:function(){return 0===this.textObjectType?this.lines.length:this.lines.linesCount}},{key:"pageLinesCount",get:function(){var t=this.gameObject.style.maxLines;return t>0?t:this.totalLinesCount}}])&&s(e.prototype,i),u&&s(e,u),t}(),h=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t},l=u;e.a=l},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=Phaser.Structs.Set,s=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setCompleteCallback(e,i),this.events=new r}var e,i,s;return e=t,(i=[{key:"shutdown",value:function(){return this.setCompleteCallback(void 0,void 0),this.events.clear(),this.event=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setCompleteCallback",value:function(t,e){return this.completeCallback=t,this.scope=e,this}},{key:"waitCallback",value:function(){var t=this,e=function e(){t.remove(e)};return this.events.set(e),e}},{key:"waitEvent",value:function(t,e){return t.once(e,this.waitCallback()),this}},{key:"remove",value:function(t){return this.events.delete(t),0===this.events.size&&(this.scope?this.completeCallback.call(this.scope):this.completeCallback()),this}}])&&n(e.prototype,i),s&&n(e,s),t}();e.a=s},function(t,e,i){"use strict";var n=i(41);e.a=function(t,e,i,r){var s=new n.a(this.scene,t,e,i,r);return this.scene.add.existing(s),s}},function(t,e,i){"use strict";var n=i(41),r=Phaser.Utils.Objects.GetAdvancedValue,s=Phaser.GameObjects.BuildGameObject;e.a=function(t,e){var i=r(t,"text",""),o=r(t,"style",null),a=r(t,"padding",null);null!==a&&(o.padding=a),void 0!==e&&(t.add=e);var u=new n.a(this.scene,0,0,i,o);return s(this.scene,u,t),u.autoRound=r(t,"autoRound",!0),u.resolution=r(t,"resolution",1),u}},function(t,e,i){"use strict";var n=i(42);e.a=function(t,e,i,r){var s=new n.a(this.scene,t,e,i,r);return this.scene.add.existing(s),s}},function(t,e,i){"use strict";var n=i(42),r=Phaser.Utils.Objects.GetAdvancedValue,s=Phaser.GameObjects.BuildGameObject;e.a=function(t,e){var i=r(t,"text",""),o=r(t,"style",null),a=r(t,"padding",null);null!==a&&(o.padding=a),void 0!==e&&(t.add=e);var u=new n.a(this.scene,0,0,i,o);return s(this.scene,u,t),u.autoRound=r(t,"autoRound",!0),u.resolution=r(t,"resolution",1),u}},function(t,e,i){"use strict";var n=i(21);e.a=function(t,e,i,r){var s=new n.a(this.scene,t,e,i,r);return this.scene.add.existing(s),s}},function(t,e,i){"use strict";var n=i(21),r=Phaser.Utils.Objects.GetAdvancedValue,s=Phaser.GameObjects.BuildGameObject;e.a=function(t,e){var i=r(t,"width",256),o=r(t,"height",i);void 0!==e&&(t.add=e);var a=new n.a(this.scene,0,0,i,o);s(this.scene,a,t);var u=r(t,"fill",null);return a.fill(u),a}},function(t,e,i){"use strict";var n=i(18);e.a=function(t,e,i,r,s){var o=new n.a(this.scene,t,e,i,r,s);return this.scene.add.existing(o),o}},function(t,e,i){"use strict";var n=i(18),r=Phaser.Utils.Objects.GetAdvancedValue,s=Phaser.Utils.Objects.GetValue,o=Phaser.GameObjects.BuildGameObject;e.a=function(t){var e=r(t,"width",1),i=r(t,"height",e),a=s(t,"children",void 0),u=new n.a(this.scene,0,0,e,i);return u.syncChildrenEnable=!1,o(this.scene,u,t),u.syncChildrenEnable=!0,u.add(a),u}},function(t,e,i){"use strict";var n=i(40);e.a=function(t,e,i,r,s){var o=new n.a(this.scene,t,e,i,r,s);return this.scene.add.existing(o),o}},function(t,e,i){"use strict";var n=i(40),r=Phaser.Utils.Objects.GetValue,s=Phaser.GameObjects.BuildGameObject;e.a=function(t){var e=r(t,"width",256),i=r(t,"height",256),o=new n.a(this.scene,0,0,e,i,t);return o.syncChildrenEnable=!1,s(this.scene,o,t),o.syncChildrenEnable=!0,o.syncPosition().syncVisible().syncAlpha(),o}},function(t,e,i){"use strict";var n=i(39);e.a=function(t,e,i,r,s,o,a){var u=new n.a(this.scene,t,e,i,r,s,o,a);return this.scene.add.existing(u),u}},function(t,e,i){"use strict";var n=i(39),r=Phaser.Utils.Objects.GetAdvancedValue,s=Phaser.Utils.Objects.GetValue,o=Phaser.GameObjects.BuildGameObject;e.a=function(t){var e=r(t,"width",void 0),i=r(t,"height",e),a=s(t,"radius",void 0),u=r(t,"fillColor",void 0),h=r(t,"fillAlpha",void 0),l=new n.a(this.scene,0,0,e,i,a,u,h);return o(this.scene,l,t),l}},function(t,e,i){"use strict";var n=function(t,e){for(var i=t.scene,n=i.input.cameras.getCamerasBelowPointer(e),r=i.input.manager,s=[t],o=0,a=n.length;o<a;o++)if(r.hitTest(e,s,n[o]).length>0)return!0;return!1};e.a=function(t,e,i,r){if(e)return!(i&&!i(t,e)||!n(t,e)||r&&!r(t,e));for(var s=t.scene.input.manager,o=s.pointersTotal,a=s.pointers,u=0;u<o;u++)if(e=a[u],(!i||i(t,e))&&n(t,e)&&(!r||r(t,e)))return!0;return!1}},function(t,e,i){"use strict";var n=i(11),r=i(4),s=i(0),o=i.n(s),a=i(24),u=i(57),h=i(44),l=i(16);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t,e,i){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=d(this,p(e).call(this,t,i))).parent=t,n.scene=Object(r.a)(t),n.resetFromJSON(i),n.boot(),n}var i,s,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,n["a"]),i=e,(s=[{key:"resetFromJSON",value:function(t){return this.isRunning=o()(t,"isRunning",!1),this.state=o()(t,"state",0),this.commands=o()(t,"commands",[]),this.scope=o()(t,"scope",void 0),this.setTimeUnit(o()(t,"timeUnit",0)),this.setDtMode(o()(t,"dtMode",0)),this.setTimeScale(o()(t,"timeScale",1)),this.index=o()(t,"index",0),this.nextDt=o()(t,"nextDt",0),this.seek(o()(t,"now",0)),this.timeScale=o()(t,"timeScale",1),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextDt:this.nextDt,now:this.now,timeScale:this.timeScale,tickingMode:this.tickingMode}}},{key:"boot",value:function(){y(p(e.prototype),"boot",this).call(this);var t=Object(h.a)(this.parent);t&&t.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){y(p(e.prototype),"shutdown",this).call(this),this.parent=void 0,this.scene=void 0,this.commands=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){y(p(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){y(p(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"load",value:function(t,e,i){this.stop();var n=o()(i,"timeUnit",void 0);void 0!==n&&this.setTimeUnit(n);var r=o()(i,"dtMode",void 0);return void 0!==r&&this.setDtMode(r),t=t.filter(function(t){var e=t[0];return!isNaN(e)}).map(function(t){return"string"==typeof t[0]&&(t[0]=parseFloat(t[0])),t}),0===this.dtMode&&t.sort(function(t,e){var i=t[0],n=e[0];return i>n?1:i<n?-1:0}),this.commands=t,this.scope=e,this}},{key:"start",value:function(t){return void 0===t&&(t=0),this.stop(),this.index=0,this.isRunning=!0,this.state=1,this.nextDt=this.getNextDt(0),this.seek(t),this.update(),this}},{key:"pause",value:function(){return this.isRunning=!1,this}},{key:"resume",value:function(){return this.isRunning=!0,this}},{key:"stop",value:function(){return this.isRunning=!1,this.state=0,this}},{key:"seek",value:function(t){return this.now=t,this}},{key:"setTimeScale",value:function(t){this.timeScale=t}},{key:"update",value:function(t,e){if(!this.isRunning)return this;if(void 0!==t){if(0===this.timeScale||0===e)return this;this.now+=e*this.timeScale}if(this.nextDt>this.now)return this;for(;;){var i=this.commands[this.index],n=i[1];if(Object(l.a)(n)||(n=Object(a.a)(b,i,1)),Object(u.a)(n,this.scope),this.emit("runcommand",n,this.scope),this.index===this.commands.length-1)return this.complete(),this;if(this.index++,this.nextDt=this.getNextDt(this.nextDt),this.nextDt>this.now)return this}}},{key:"complete",value:function(){y(p(e.prototype),"complete",this).call(this),this.state=2}},{key:"getNextDt",value:function(t){var e=this.commands[this.index][0];return 1===this.timeUnit&&(e*=1e3),1===this.dtMode&&(e+=t),e}},{key:"setDtMode",value:function(t){return"string"==typeof t&&(t=k[t]),this.dtMode=t,this}},{key:"setTimeUnit",value:function(t){return"string"==typeof t&&(t=m[t]),this.timeUnit=t,this}},{key:"isPlaying",get:function(){return this.isRunning}},{key:"completed",get:function(){return 2===this.state}}])&&f(i.prototype,s),c&&f(i,c),e}(),b=[],m={ms:0,s:1,sec:1},k={abs:0,absolute:0,inc:1,increment:1};e.a=g},function(t,e){t.exports=function(t,e,i){return void 0===i&&(i=1e-4),Math.abs(t-e)<i}},function(t,e){t.exports=function(t,e){var i=e-t;return 0===i?0:i-360*Math.floor((i- -180)/360)}},function(t,e){t.exports=function(t,e,i){return t.radius>0&&e>=t.left&&e<=t.right&&i>=t.top&&i<=t.bottom&&(t.x-e)*(t.x-e)+(t.y-i)*(t.y-i)<=t.radius*t.radius}},function(t,e){t.exports=function(t,e,i){if(t.width<=0||t.height<=0)return!1;var n=(e-t.x)/t.width,r=(i-t.y)/t.height;return(n*=n)+(r*=r)<.25}},function(t,e){t.exports=function(t,e,i){for(var n=!1,r=-1,s=t.points.length-1;++r<t.points.length;s=r){var o=t.points[r].x,a=t.points[r].y,u=t.points[s].x,h=t.points[s].y;(a<=i&&i<h||h<=i&&i<a)&&e<(u-o)*(i-a)/(h-a)+o&&(n=!n)}return n}},function(t,e,i){var n=i(122);t.exports=function(t,e){void 0===e&&(e=new n);for(var i,r=1/0,s=1/0,o=-r,a=-s,u=0;u<t.points.length;u++)i=t.points[u],r=Math.min(r,i.x),s=Math.min(s,i.y),o=Math.max(o,i.x),a=Math.max(a,i.y);return e.x=r,e.y=s,e.width=o-r,e.height=a-s,e}},function(t,e){t.exports=function(t,e,i){var n=t.x3-t.x1,r=t.y3-t.y1,s=t.x2-t.x1,o=t.y2-t.y1,a=e-t.x1,u=i-t.y1,h=n*n+r*r,l=n*s+r*o,c=n*a+r*u,f=s*s+o*o,d=s*a+o*u,y=h*f-l*l,p=0===y?0:1/y,v=(f*c-l*d)*p,g=(h*d-l*c)*p;return v>=0&&g>=0&&v+g<1}},function(t,e){var i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,n,r,s,o){for(var a=i.getTintAppendFloatAlphaAndSwap(n.fillColor,n.fillAlpha*r),u=n.pathData,h=n.pathIndexes,l=0;l<h.length;l+=3){var c=2*h[l],f=2*h[l+1],d=2*h[l+2],y=u[c+0]-s,p=u[c+1]-o,v=u[f+0]-s,g=u[f+1]-o,b=u[d+0]-s,m=u[d+1]-o,k=e.getX(y,p),w=e.getY(y,p),x=e.getX(v,g),O=e.getY(v,g),T=e.getX(b,m),S=e.getY(b,m);t.setTexture2D(),t.batchTri(k,w,x,O,T,S,0,0,1,1,a,a,a,t.tintEffect)}}},function(t,e){var i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,n,r,s){var o=t.strokeTint,a=i.getTintAppendFloatAlphaAndSwap(e.strokeColor,e.strokeAlpha*n);o.TL=a,o.TR=a,o.BL=a,o.BR=a;var u=e.pathData,h=u.length-1,l=e.lineWidth,c=l/2,f=u[0]-r,d=u[1]-s;e.closePath||(h-=2);for(var y=2;y<h;y+=2){var p=u[y]-r,v=u[y+1]-s;t.setTexture2D(),t.batchLine(f,d,p,v,c,c,l,y-2,!!e.closePath&&y===h-1),f=p,d=v}}},function(t,e){t.exports=function(t,e,i,n){var r=i||e.fillColor,s=n||e.fillAlpha,o=(16711680&r)>>>16,a=(65280&r)>>>8,u=255&r;t.fillStyle="rgba("+o+","+a+","+u+","+s+")"}},function(t,e){t.exports=function(t,e,i,n){var r=i||e.strokeColor,s=n||e.strokeAlpha,o=(16711680&r)>>>16,a=(65280&r)>>>8,u=255&r;t.strokeStyle="rgba("+o+","+a+","+u+","+s+")",t.lineWidth=e.lineWidth}},function(t,e,i){"use strict";var n=i(93),r=i(19),s=i(35),o=i.n(s),a=Phaser.Utils.Objects.GetFastValue,u=new n.a,h=function(t,e){void 0===e&&(e={});var i=a(e,"width",-1),n=a(e,"height",-1),s=a(e,"cellWidth",1),h=a(e,"cellHeight",s),l=a(e,"staggeraxis",1),c=a(e,"staggerindex",1),f=a(e,"position",Phaser.Display.Align.CENTER),d=a(e,"x",0),y=a(e,"y",0);u.setOriginPosition(d,y).setCellSize(s,h).setType(l,c),r.a.setSize(s,h);for(var p=n-1,v=i-1,g=0,b=0,m=0,k=t.length;m<k;m++)if(u.getWorldXY(b,g,r.a),o()(t[m],r.a,f),-1===i)g++;else if(-1===n)b++;else if(b===v){if(g===p)break;b=0,g++}else b++;return t},l=i(94),c=Phaser.Utils.Objects.GetFastValue,f=new l.a,d=function(t,e){void 0===e&&(e={});var i=c(e,"width",-1),n=c(e,"height",-1),s=c(e,"cellWidth",1),a=c(e,"cellHeight",s),u=c(e,"type",0),h=c(e,"position",Phaser.Display.Align.CENTER),l=c(e,"x",0),d=c(e,"y",0);f.setOriginPosition(l,d).setCellSize(s,a).setType(u),r.a.setSize(s,a);for(var y=n-1,p=i-1,v=0,g=0,b=0,m=t.length;b<m;b++)if(f.getWorldXY(g,v,r.a),o()(t[b],r.a,h),-1===i)v++;else if(-1===n)g++;else if(g===p){if(v===y)break;g=0,v++}else g++;return t};i.d(e,"a",function(){return h}),i.d(e,"b",function(){return d})},,,function(t,e,i){"use strict";var n=i(81),r=i(45),s=Phaser.Utils.Objects.IsPlainObject;e.a=function(t,e){Object(r.a)(t)?e={config:{callback:t,scope:e}}:s(t)?(e=t).hasOwnProperty("config")||(e={config:e}):e={key:t,config:e};return this.addFile(new n.a(this,e)),this}},function(t,e,i){var n,r=function(){function t(t,e){if(!r[t]){r[t]={};for(var i=0;i<t.length;i++)r[t][t.charAt(i)]=i}return r[t][e]}var e=String.fromCharCode,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={},s={compressToBase64:function(t){if(null==t)return"";var e=s._compress(t,6,function(t){return i.charAt(t)});switch(e.length%4){default:case 0:return e;case 1:return e+"===";case 2:return e+"==";case 3:return e+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:s._decompress(e.length,32,function(n){return t(i,e.charAt(n))})},compressToUTF16:function(t){return null==t?"":s._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:s._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(t){for(var e=s.compress(t),i=new Uint8Array(2*e.length),n=0,r=e.length;r>n;n++){var o=e.charCodeAt(n);i[2*n]=o>>>8,i[2*n+1]=o%256}return i},decompressFromUint8Array:function(t){if(null===t||void 0===t)return s.decompress(t);for(var i=new Array(t.length/2),n=0,r=i.length;r>n;n++)i[n]=256*t[2*n]+t[2*n+1];var o=[];return i.forEach(function(t){o.push(e(t))}),s.decompress(o.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":s._compress(t,6,function(t){return n.charAt(t)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),s._decompress(e.length,32,function(i){return t(n,e.charAt(i))}))},compress:function(t){return s._compress(t,16,function(t){return e(t)})},_compress:function(t,e,i){if(null==t)return"";var n,r,s,o={},a={},u="",h="",l="",c=2,f=3,d=2,y=[],p=0,v=0;for(s=0;s<t.length;s+=1)if(u=t.charAt(s),Object.prototype.hasOwnProperty.call(o,u)||(o[u]=f++,a[u]=!0),h=l+u,Object.prototype.hasOwnProperty.call(o,h))l=h;else{if(Object.prototype.hasOwnProperty.call(a,l)){if(l.charCodeAt(0)<256){for(n=0;d>n;n++)p<<=1,v==e-1?(v=0,y.push(i(p)),p=0):v++;for(r=l.charCodeAt(0),n=0;8>n;n++)p=p<<1|1&r,v==e-1?(v=0,y.push(i(p)),p=0):v++,r>>=1}else{for(r=1,n=0;d>n;n++)p=p<<1|r,v==e-1?(v=0,y.push(i(p)),p=0):v++,r=0;for(r=l.charCodeAt(0),n=0;16>n;n++)p=p<<1|1&r,v==e-1?(v=0,y.push(i(p)),p=0):v++,r>>=1}0==--c&&(c=Math.pow(2,d),d++),delete a[l]}else for(r=o[l],n=0;d>n;n++)p=p<<1|1&r,v==e-1?(v=0,y.push(i(p)),p=0):v++,r>>=1;0==--c&&(c=Math.pow(2,d),d++),o[h]=f++,l=String(u)}if(""!==l){if(Object.prototype.hasOwnProperty.call(a,l)){if(l.charCodeAt(0)<256){for(n=0;d>n;n++)p<<=1,v==e-1?(v=0,y.push(i(p)),p=0):v++;for(r=l.charCodeAt(0),n=0;8>n;n++)p=p<<1|1&r,v==e-1?(v=0,y.push(i(p)),p=0):v++,r>>=1}else{for(r=1,n=0;d>n;n++)p=p<<1|r,v==e-1?(v=0,y.push(i(p)),p=0):v++,r=0;for(r=l.charCodeAt(0),n=0;16>n;n++)p=p<<1|1&r,v==e-1?(v=0,y.push(i(p)),p=0):v++,r>>=1}0==--c&&(c=Math.pow(2,d),d++),delete a[l]}else for(r=o[l],n=0;d>n;n++)p=p<<1|1&r,v==e-1?(v=0,y.push(i(p)),p=0):v++,r>>=1;0==--c&&(c=Math.pow(2,d),d++)}for(r=2,n=0;d>n;n++)p=p<<1|1&r,v==e-1?(v=0,y.push(i(p)),p=0):v++,r>>=1;for(;;){if(p<<=1,v==e-1){y.push(i(p));break}v++}return y.join("")},decompress:function(t){return null==t?"":""==t?null:s._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(t,i,n){var r,s,o,a,u,h,l,c=[],f=4,d=4,y=3,p="",v=[],g={val:n(0),position:i,index:1};for(r=0;3>r;r+=1)c[r]=r;for(o=0,u=Math.pow(2,2),h=1;h!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=i,g.val=n(g.index++)),o|=(a>0?1:0)*h,h<<=1;switch(o){case 0:for(o=0,u=Math.pow(2,8),h=1;h!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=i,g.val=n(g.index++)),o|=(a>0?1:0)*h,h<<=1;l=e(o);break;case 1:for(o=0,u=Math.pow(2,16),h=1;h!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=i,g.val=n(g.index++)),o|=(a>0?1:0)*h,h<<=1;l=e(o);break;case 2:return""}for(c[3]=l,s=l,v.push(l);;){if(g.index>t)return"";for(o=0,u=Math.pow(2,y),h=1;h!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=i,g.val=n(g.index++)),o|=(a>0?1:0)*h,h<<=1;switch(l=o){case 0:for(o=0,u=Math.pow(2,8),h=1;h!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=i,g.val=n(g.index++)),o|=(a>0?1:0)*h,h<<=1;c[d++]=e(o),l=d-1,f--;break;case 1:for(o=0,u=Math.pow(2,16),h=1;h!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=i,g.val=n(g.index++)),o|=(a>0?1:0)*h,h<<=1;c[d++]=e(o),l=d-1,f--;break;case 2:return v.join("")}if(0==f&&(f=Math.pow(2,y),y++),c[l])p=c[l];else{if(l!==d)return null;p=s+s.charAt(0)}v.push(p),c[d++]=s+p.charAt(0),s=p,0==--f&&(f=Math.pow(2,y),y++)}}};return s}();void 0===(n=function(){return r}.call(e,i,e,t))||(t.exports=n)},,function(t,e,i){"use strict";var n=i(237),r=i.n(n),s=Phaser.Display.Canvas.CanvasPool,o=function(t,e){var i=s.create(),n=i.getContext("2d"),r="8px ".concat(t);n.font=r;var o=Math.ceil(n.measureText(e).width),a=o,u=2*a;o===i.width&&u===i.height||(i.width=o,i.height=u),n.fillStyle="#000",n.fillRect(0,0,o,u),n.textBaseline="alphabetic",n.fillStyle="#fff",n.font=r,n.fillText(e,0,a);for(var h=n.getImageData(0,0,o,u).data,l=!1,c=0,f=h.length;c<f;c+=4)if(h[c]>0){l=!0;break}return s.remove(i),l};function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=Phaser.Loader.FILE_POPULATED,d=Phaser.Utils.Objects.GetValue,y=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,l(e).apply(this,arguments))}var i,n,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,Phaser.Loader.File),i=e,(n=[{key:"load",value:function(){if(this.state===f)this.loader.nextFile(this,!0);else{var t=this.config;this.testString=d(t,"testString",void 0),void 0!==this.testString&&(this.testInterval=d(t,"testInterval",20),this.fontTests={},delete t.testString,delete t.testInterval),t.active=this.onLoad.bind(this),t.inactive=this.onError.bind(this),t.fontactive=this.onFontActive.bind(this),t.fontinactive=this.onFontInactive.bind(this),r.a.load(t)}}},{key:"onLoad",value:function(){if(void 0===this.testString)this.loader.nextFile(this,!0);else{var t=function(){this.testFonts()?this.loader.nextFile(this,!0):setTimeout(t,this.testInterval)}.bind(this);t()}}},{key:"onError",value:function(){this.loader.nextFile(this,!1)}},{key:"onFontActive",value:function(t,e){var i;void 0!==this.testString&&(void 0!==(i="string"==typeof this.testString?this.testString:this.testString[t])&&(this.fontTests[t]=i));this.loader.emit("webfontactive",this,t,e)}},{key:"onFontInactive",value:function(t,e){this.loader.emit("webfontinactive",this,t,e)}},{key:"testFonts",value:function(){var t=!0;for(var e in this.fontTests)o(e,this.fontTests[e])?delete this.fontTests[e]:t=!1;return t}}])&&u(i.prototype,n),s&&u(i,s),e}(),p=Phaser.Utils.Objects.IsPlainObject;e.a=function(t,e){return p(t)?(e=t).hasOwnProperty("config")?(e.type="webfont",e.url=""):e={key:"webfont",type:"webfont",url:"",config:e}:e={type:"webfont",url:"",key:t,config:e},this.addFile(new y(this,e)),this}},,,function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=Phaser.Utils.Objects.GetValue,s=Phaser.Utils.Objects.GetAdvancedValue,o=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sound=i,this.scene=e,this.volume={},this.tween=void 0,this.resetFromJSON(n),this.boot()}var e,i,o;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setMode(r(t,"mode",0)),this.setVolumeRange(s(t,"volume.start",this.sound.volume),s(t,"volume.end",0)),this.setDelay(s(t,"delay",0)),this.setFadeOutTime(s(t,"duration",1e3)),this}},{key:"toJSON",value:function(){return{mode:this.mode,volume:this.volume,delay:this.delay,duration:this.duration}}},{key:"boot",value:function(){this.scene.events.once("shutdown",this.destroy,this),this.sound.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.stop(),this.scene.events.off("destroy",this.destroy,this),this.sound.off("destroy",this.destroy,this),this.sound=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=a[t]),this.mode=t,this}},{key:"setVolumeRange",value:function(t,e){return this.volume.start=t,this.volume.end=e,this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setFadeOutTime",value:function(t){return this.duration=t,this}},{key:"start",value:function(){if(!this.tween)return 0===this.duration?(this.sound.setVolume(this.volume.end),this.complete(),this):(this.sound.setVolume(this.volume.start),this.tween=this.scene.tweens.add({targets:this.sound,volume:this.volume.end,delay:this.delay,duration:this.duration,ease:"Linear",onComplete:this.complete,onCompleteScope:this}),this)}},{key:"stop",value:function(){if(this.tween)return this.tween.remove(),this.tween=void 0,this}},{key:"complete",value:function(){switch(this.stop(),this.mode){case 1:this.sound.stop();break;case 2:this.sound.destroy()}}}])&&n(e.prototype,i),o&&n(e,o),t}(),a={stop:1,destroy:2},u=o,h={volume:{}},l=function(t,e,i,n,r){var s;return void 0===n&&(n=1),void 0===r&&(r=0),h.mode=0,h.volume.start=r,h.volume.end=n,h.duration=i,"string"==typeof e&&(e=t.sound.add(e)),e.hasOwnProperty("_fade")?(s=e._fade).stop().resetFromJSON(h):(s=new u(t,e,h),e._fade=s),s.start(),e.isPlaying||e.setVolume(r).play(),e},c={volume:{}},f=function(t,e,i,n){var r;return void 0===n&&(n=!0),c.mode=n?2:1,c.volume.start=e.volume,c.volume.end=0,c.duration=i,e.hasOwnProperty("_fade")?(r=e._fade).stop().resetFromJSON(c):(r=new u(t,e,c),e._fade=r),r.start(),e.isPlaying||e.play(),e};e.a={fadeIn:l,fadeOut:f}},function(t,e,i){"use strict";var n=i(77),r=i(10),s=i(44);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=Phaser.Utils.Objects.GetValue,u=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.scene=GetSceneObject(e),this.clock=new n.a(e),this.resetFromJSON(i),this.boot()}var e,i,u;return e=t,(i=[{key:"resetFromJSON",value:function(t){var e=a(t,"clock",void 0);return this.clock.resetFromJSON(e),this.commands=a(t,"commands",[]),this}},{key:"toJSON",value:function(){return{clock:this.clock.toJSON(),commands:this.commands}}},{key:"boot",value:function(){var t=Object(s.a)(this.parent);t&&t.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.clock.shutdown(),this.parent=void 0,this.scene=void 0,this.commands=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"start",value:function(t){return this.clock.start(t),this.clear(),this}},{key:"pause",value:function(){return this.clock.pause(),this}},{key:"resume",value:function(){return this.clock.resume(),this}},{key:"stop",value:function(){return this.clock.stop(),this}},{key:"seek",value:function(t){return this.clock.seek(t),this}},{key:"addCommand",value:function(t,e){if(!this.isRecording)return this;void 0===e&&(e=0);var i=this.clock.now+e;return this.commands.push([i,t]),this}},{key:"getCommands",value:function(t){return void 0===t&&(t=!1),t?this.commands:Object(r.a)(this.commands)}},{key:"clear",value:function(){this.commands.length=0}},{key:"isRecording",get:function(){return this.clock.isRunning}},{key:"timeScale",get:function(){return this.clock.timeScale},set:function(t){this.clock.timeScale=t}},{key:"now",get:function(){return this.clock.now}}])&&o(e.prototype,i),u&&o(e,u),t}(),h=i(162);e.a={Recorder:u,Player:h.a}},function(t,e,i){"use strict";var n=i(178),r=i.n(n);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetFastValue,a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setEncoding(o(t,"encoding",0)),this}},{key:"toJSON",value:function(){return{encoding:this.encoding}}},{key:"setEncoding",value:function(t){return void 0===t?t=0:"string"==typeof t&&(t=u[t.toLowerCase()]||0),this.encoding=t,this}},{key:"compress",value:function(t){var e=h[this.encoding];return r.a[e](t)}},{key:"decompress",value:function(t){var e=l[this.encoding];return r.a[e](t)}}])&&s(e.prototype,i),n&&s(e,n),t}(),u={none:0,base64:1,utf16:2,uri:3},h=["compress","compressToBase64","compressToUTF16","compressToEncodedURIComponent"],l=["decompress","decompressFromBase64","decompressFromUTF16","decompressFromEncodedURIComponent"],c=a;e.a=c},function(t,e){t.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},function(t,e,i){var n=i(109),r=i(110),s=i(111),o=i(112);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,r(e)+i),s(t,n(e)+a),t}},function(t,e,i){var n=i(109),r=i(113),s=i(111),o=i(114);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,r(e)-i),s(t,n(e)+a),t}},function(t,e,i){var n=i(109),r=i(115),s=i(111),o=i(116);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,r(e)+i),s(t,n(e)+a),t}},function(t,e,i){var n=i(191),r=i(110),s=i(118);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),n(t,r(e)+i,s(e)+o),t}},function(t,e,i){var n=i(112),r=i(117);t.exports=function(t,e,i){return n(t,e),r(t,i)}},function(t,e,i){var n=i(118),r=i(113),s=i(117),o=i(114);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,r(e)-i),s(t,n(e)+a),t}},function(t,e,i){var n=i(118),r=i(115),s=i(117),o=i(116);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,r(e)+i),s(t,n(e)+a),t}},function(t,e,i){var n=i(110),r=i(119),s=i(112),o=i(120);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,n(e)+i),o(t,r(e)-a),t}},function(t,e,i){var n=i(113),r=i(119),s=i(114),o=i(120);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,n(e)-i),o(t,r(e)-a),t}},function(t,e,i){var n=i(115),r=i(119),s=i(116),o=i(120);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,n(e)+i),o(t,r(e)-a),t}},function(t,e,i){var n=i(141),r=i(142);t.exports=function(t,e,i,s){void 0===s&&(s=[]),e||(e=r(t)/i);for(var o=0;o<e;o++){var a=o/e;s.push(n(t,a))}return s}},function(t,e,i){var n=i(80),r=i(199),s=i(200),o=i(202),a=i(203),u=new n({initialize:function(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x1=t,this.y1=e,this.x2=i,this.y2=n},getPoint:function(t,e){return r(this,t,e)},getPoints:function(t,e,i){return s(this,t,e,i)},getRandomPoint:function(t){return o(this,t)},setTo:function(t,e,i,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x1=t,this.y1=e,this.x2=i,this.y2=n,this},getPointA:function(t){return void 0===t&&(t=new a),t.set(this.x1,this.y1),t},getPointB:function(t){return void 0===t&&(t=new a),t.set(this.x2,this.y2),t},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(t){this.x1<=this.x2?this.x1=t:this.x2=t}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(t){this.x1>this.x2?this.x1=t:this.x2=t}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(t){this.y1<=this.y2?this.y1=t:this.y2=t}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(t){this.y1>this.y2?this.y1=t:this.y2=t}}});t.exports=u},function(t,e,i){var n=i(59);t.exports=function(t,e,i){return void 0===i&&(i=new n),i.x=t.x1+(t.x2-t.x1)*e,i.y=t.y1+(t.y2-t.y1)*e,i}},function(t,e,i){var n=i(201),r=i(59);t.exports=function(t,e,i,s){void 0===s&&(s=[]),e||(e=n(t)/i);for(var o=t.x1,a=t.y1,u=t.x2,h=t.y2,l=0;l<e;l++){var c=l/e,f=o+(u-o)*c,d=a+(h-a)*c;s.push(new r(f,d))}return s}},function(t,e){t.exports=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))}},function(t,e,i){var n=i(59);t.exports=function(t,e){void 0===e&&(e=new n);var i=Math.random();return e.x=t.x1+i*(t.x2-t.x1),e.y=t.y1+i*(t.y2-t.y1),e}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=new(i(80))({initialize:function(t,e){this.x=0,this.y=0,"object"===n(t)?(this.x=t.x||0,this.y=t.y||0):(void 0===e&&(e=t),this.x=t||0,this.y=e||0)},clone:function(){return new r(this.x,this.y)},copy:function(t){return this.x=t.x||0,this.y=t.y||0,this},setFromObject:function(t){return this.x=t.x||0,this.y=t.y||0,this},set:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setTo:function(t,e){return this.set(t,e)},setToPolar:function(t,e){return null==e&&(e=1),this.x=Math.cos(t)*e,this.y=Math.sin(t)*e,this},equals:function(t){return this.x===t.x&&this.y===t.y},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},length:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},lengthSq:function(){var t=this.x,e=this.y;return t*t+e*e},normalize:function(){var t=this.x,e=this.y,i=t*t+e*e;return i>0&&(i=1/Math.sqrt(i),this.x=t*i,this.y=e*i),this},normalizeRightHand:function(){var t=this.x;return this.x=-1*this.y,this.y=t,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,n=this.y;return this.x=i+e*(t.x-i),this.y=n+e*(t.y-n),this},transformMat3:function(t){var e=this.x,i=this.y,n=t.val;return this.x=n[0]*e+n[3]*i+n[6],this.y=n[1]*e+n[4]*i+n[7],this},transformMat4:function(t){var e=this.x,i=this.y,n=t.val;return this.x=n[0]*e+n[4]*i+n[12],this.y=n[1]*e+n[5]*i+n[13],this},reset:function(){return this.x=0,this.y=0,this}});r.ZERO=new r,r.RIGHT=new r(1,0),r.LEFT=new r(-1,0),r.UP=new r(0,-1),r.DOWN=new r(0,1),r.ONE=new r(1,1),t.exports=r},function(t,e,i){var n=i(59);t.exports=function(t,e){return void 0===e&&(e=new n),e.x=t.x+Math.random()*t.width,e.y=t.y+Math.random()*t.height,e}},function(t,e,i){"use strict";var n=i(134);e.a=n.a},function(t,e,i){"use strict";var n=i(95);e.a=n.a},function(t,e,i){"use strict";var n=i(63);e.a=n.a},function(t,e,i){"use strict";var n=i(2),r=i(0),s=i.n(r),o=i(33),a=i.n(o),u=i(10),h=i(6);function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=Phaser.Utils.Objects.GetValue,f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scenario=e,this.queue=[],this.currentIdx=-1,this.nextIdx=0}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){var e=c(t,"queue",void 0);return void 0===e?Object(h.a)(this.queue):Object(u.a)(e,this.queue),this.currentIdx=c(t,"curIdx",-1),this.nextIdx=c(t,"nextIdx",0),this}},{key:"clear",value:function(){return this.currentIdx=-1,this.nextIdx=0,this.queue.length=0,this}},{key:"append",value:function(t){return this.queue.push(t),this}},{key:"setNextIndex",value:function(t){return void 0===t&&(t=this.currentIdx+1),this.nextIdx=t,this}},{key:"get",value:function(t){return void 0===t&&(t=this.nextIdx),this.currentIdx=t,this.queue[t]}},{key:"length",get:function(){return this.queue.length}}])&&l(e.prototype,i),n&&l(e,n),t}();function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var y=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scenario=e,this.type=i}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){}},{key:"toJSON",value:function(){return{}}},{key:"parse",value:function(t,e){return t}},{key:"run",value:function(t){}}])&&d(e.prototype,i),n&&d(e,n),t}(),p=i(57),v=i(25);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function m(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=Phaser.Utils.Array.SpliceOne,O=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=m(this,k(e).call(this,t,"-"))).task=void 0,i}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,y),i=e,(n=[{key:"resetFromJSON",value:function(t){this.task&&(this.task.off("complete",this.resume,this),this.task=void 0)}},{key:"parse",value:function(t,e){var i=x(t,0),n=this.scenario,r=n.argsConvert,s=n.argsConvertScope;if(r){!0===r&&(r=v.a,s=void 0);for(var o=1,a=t.length;o<a;o++)t[o]=s?r.call(s,t[o],t):r(t[o],t)}return t=[i,t]}},{key:"run",value:function(t){var e=this.scenario,i=Object(p.a)(t[1],e.scope);i&&"function"==typeof i.once?(i.once("complete",this.resume,this),this.pause(),this.task=i):this.task=void 0}},{key:"pause",value:function(){this.scenario.pause()}},{key:"resume",value:function(){this.task=void 0;var t=this.scenario;t.resume(),t.runNextCmd()}}])&&b(i.prototype,n),r&&b(i,r),e}();function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,P(e).call(this,t,"wait"))}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,y),i=e,(n=[{key:"parse",value:function(t,e){t.length=2;var i=this.getEventName(t);return isNaN(i)||(t[1]=parseFloat(i)),t}},{key:"run",value:function(t){var e=this.getEventName(t);"number"==typeof e?this.waitTime(e):this.waitEvent(e)}},{key:"waitTime",value:function(t){t>this.scenario.offset?(t-=this.scenario.offset,this.scenario.offset=0,this.scenario.isDebugMode&&this.scenario.log("#WAIT: "+t),this.scenario.wait(t)):this.scenario.offset-=t}},{key:"waitEvent",value:function(t){this.scenario.isDebugMode&&this.scenario.log("#WAIT: "+t),this.scenario.wait(t)}},{key:"getEventName",value:function(t){var e=t[1];return null==e&&(e="",t[1]=e),e}}])&&S(i.prototype,n),r&&S(i,r),e}();function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function D(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var X=Phaser.Utils.Objects.GetValue,A=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=D(this,R(e).call(this,t,"label"))).labels={},i.prevLabel="",i.lastLabel="",i}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}(e,y),i=e,(n=[{key:"resetFromJSON",value:function(t){this.prevLabel=X(t,"preLabel",""),this.lastLabel=X(t,"lastLabel","");var e=X(t,"labels",void 0);void 0===e?Object(h.a)(this.labels):Object(u.a)(e,this.labels)}},{key:"toJSON",value:function(){return{preLabel:this.prevLabel,lastLabel:this.lastLabel,labels:this.labels}}},{key:"parse",value:function(t,e){t.length=2;var i=this.getLabel(t);return this.addLabel(i,e),t}},{key:"run",value:function(t){var e=this.getLabel(t);this.scenario.isDebugMode&&this.scenario.log("#LABEL: "+e),this.prevLabel=this.lastLabel,this.lastLabel=e;var i=this.scenario;i.emit("labelchange",this.lastLabel,this.prevLabel,i)}},{key:"getLabel",value:function(t){var e=t[1];return null==e&&(e="",t[1]=e),e}},{key:"addLabel",value:function(t,e){this.labels[t]=e}},{key:"getIndex",value:function(t){return""!==t&&this.hasLabel(t)?this.labels[t]:0}},{key:"hasLabel",value:function(t){return this.labels.hasOwnProperty(t)}}])&&M(i.prototype,n),r&&M(i,r),e}();function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function N(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var W=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),N(this,L(e).call(this,t,"exit"))}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(e,y),i=e,(n=[{key:"parse",value:function(t,e){return t.length=1,t}},{key:"run",value:function(t){this.scenario.log("#EXIT"),this.scenario.complete()}}])&&F(i.prototype,n),r&&F(i,r),e}();function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function V(t,e){return!e||"object"!==G(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var K=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),V(this,U(e).call(this,t,"goto"))}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(e,y),i=e,(n=[{key:"parse",value:function(t,e){return t.length=2,t}},{key:"run",value:function(t){var e=this.getLabel(t);this.scenario.isDebugMode&&this.scenario.log("#GOTO label: "+e),this.scenario.goto(e)}},{key:"getLabel",value:function(t){var e=t[1];return null==e&&(e="",t[1]=e),e}}])&&B(i.prototype,n),r&&B(i,r),e}();function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function q(t,e){return!e||"object"!==J(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tt=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),q(this,Q(e).call(this,t,"if"))}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(e,y),i=e,(n=[{key:"parse",value:function(t,e){t.length=4;var i="("+this.getCond(t)+")";return t[1]=new Function("return "+i),t}},{key:"run",value:function(t){var e=this.getCond(t).call(this.scenario.scope),i=e?this.getTrueLabel(t):this.getFalseLabel(t);""!==i&&(this.scenario.isDebugMode&&this.scenario.log("#IF "+e+"- GOTO label: "+i),this.scenario.goto(i))}},{key:"getCond",value:function(t){var e=t[1];return null!=e&&""!==e||(e="true",t[1]=e),e}},{key:"getTrueLabel",value:function(t){var e=t[2];return null==e&&(e="",t[2]=e),e}},{key:"getFalseLabel",value:function(t){var e=t[3];return null==e&&(e="",t[3]=e),e}}])&&Z(i.prototype,n),r&&Z(i,r),e}();function et(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var it=Phaser.Utils.Objects.GetValue,nt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cmds={"-":new O(e),wait:new j(e),label:new A(e),exit:new W(e),goto:new K(e),if:new tt(e)}}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){for(var e in this.cmds)this.cmds[e].resetFromJSON(it(t,e,void 0));return this}},{key:"toJSON",value:function(){var t={};for(var e in this.cmds)t[e]=this.cmds[e].toJSON();return t}},{key:"get",value:function(t){return this.cmds[t]}},{key:"isValidCmdName",value:function(t){return this.cmds.hasOwnProperty(t)}}])&&et(e.prototype,i),n&&et(e,n),t}();function rt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var st=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setEventEmitter(s()(i,"eventEmitter",void 0)),this.scene=e,this.timer=void 0,this.instMem=new f(this),this.cmdHandlers=new nt(this),this.resetFromJSON(i),this.boot()}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this._inRunCmdLoop=!1,this.isRunning=s()(t,"state",!1),this.isPaused=s()(t,"pause",!1),this.waitEvent=s()(t,"wait",void 0),this.scope=s()(t,"scope",void 0),this.timeUnit=s()(t,"timeUnit",0),this.cmdPrefix=s()(t,"prefix",at),this.argsConvert=s()(t,"argsConvert",!0),this.argsConvertScope=s()(t,"argsConvertScope",void 0),this.cmdHandlers.resetFromJSON(s()(t,"handlers",void 0)),this.instMem.resetFromJSON(s()(t,"instMem",void 0)),this}},{key:"toJSON",value:function(){return{state:this.isRunning,pause:this.isPaused,wait:this.waitEvent,scope:this.scope,timeUnit:this.timeUnit,prefix:this.cmdPrefix,argsConvert:this.argsConvert,argsConvertScope:this.argsConvertScope,handlers:this.cmdHandlers.toJSON(),instMem:this.instMem.toJSON()}}},{key:"boot",value:function(){this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.clear(),this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"load",value:function(t,e,i){return this.clear(),this.timeUnit=s()(i,"timeUnit",this.timeUnit),"string"==typeof this.timeUnit&&(this.timeUnit=ot[this.timeUnit]),this.cmdPrefix=s()(i,"prefix",this.cmdPrefix),"string"==typeof this.cmdPrefix&&(this.cmdPrefix=new RegExp(this.cmdPrefix)),this.argsConvert=s()(i,"argsConvert",this.argsConvert),this.argsConvertScope=s()(i,"argsConvertScope",this.argsConvertScope),this.scope=e,this.append(t),this}},{key:"clear",value:function(){this.stop(),this.instMem.resetFromJSON(),this.cmdHandlers.resetFromJSON()}},{key:"start",value:function(t){this.stop();var e=s()(t,"label","");return this.offset=s()(t,"offset",0),this.isDebugMode&&this.log("Start at Label: "+e),!!this.goto(e)&&(this.isRunning=!0,this.runNextCmd(),!0)}},{key:"getIndex",value:function(t){var e=this.getCmdHandler("label").getIndex(t);return null==e&&this.error("Label: "+t+" is not found"),e}},{key:"goto",value:function(t){var e;return null!=(e="string"==typeof t?this.getIndex(t):t)&&(this.instMem.setNextIndex(e),!0)}},{key:"wait",value:function(t){if(this.waitEvent=t,"number"==typeof t){var e=t;1===this.timeUnit&&(e*=1e3),this.timer=this.scene.time.delayedCall(e,this.continue,[t],this)}return this}},{key:"stop",value:function(){return this.isRunning?(this.isRunning=!1,this.isPaused=!1,this.waitEvent=void 0,this.timer&&(this.timer.remove(),this.timer=void 0),this):this}},{key:"complete",value:function(){return this.emit("complete",this),this.stop(),this}},{key:"append",value:function(t,e){void 0===e&&(e=",");var i=a.a.parse(t,{delimiter:e}).data;return this.parse(i),this}},{key:"pause",value:function(){return this.isRunning?this.isPaused?this:(this.isPaused=!0,this.timer&&(this.timer.paused=!0),this):this}},{key:"resume",value:function(){return this.isRunning&&this.isPaused?(this.isPaused=!1,this.timer&&(this.timer.paused=!1),this):this}},{key:"continue",value:function(t){return!this.isRunning||this.isPaused||void 0===this.waitEvent?this:(t===this.waitEvent&&(this.timer=void 0,this.waitEvent=void 0,this.runNextCmd()),this)}},{key:"getCmdHandler",value:function(t){return"string"!=typeof t&&(t=t[0]),this.cmdHandlers.get(t)}},{key:"parse",value:function(t){for(var e,i,n=this.cmdPrefix,r=0,s=t.length;r<s;r++)if("-"===(i=(e=t[r])[0]))this.appendCommand(e);else if(isNaN(i))if(n.test(i)){var o=i.match(n);e[0]=o[1].toLowerCase(),this.appendCommand(e)||this.error("Line "+r+": "+JSON.stringify(e)+" is not a valid command")}else this.appendCommand(["wait",i]),e[0]="-",this.appendCommand(e);else{var a=parseFloat(i);a>0&&this.appendCommand(["wait",a]),e[0]="-",this.appendCommand(e)}return this}},{key:"appendCommand",value:function(t){var e=this.getCmdHandler(t);return null!=e&&((t=e.parse(t,this.instMem.length))&&this.instMem.append(t),!0)}},{key:"runNextCmd",value:function(){if(!this._inRunCmdLoop){this.threadId;var t,e=this.instMem;for(this._inRunCmdLoop=!0;this.isRunning&&!this.isPaused&&void 0===this.waitEvent;){if(t=e.get(),e.setNextIndex(),null==t){this.complete();break}this.getCmdHandler(t).run(t)}return this._inRunCmdLoop=!1,this}}},{key:"log",value:function(t){return this.emit("log",t,this),this}},{key:"error",value:function(t){return this.emit("error",t,this),this}},{key:"lastLabel",get:function(){return this.cmdHandlers.labelCmd.lastLabel}},{key:"previousLabel",get:function(){return this.cmdHandlers.labelCmd.preLabel}},{key:"isDebugMode",get:function(){return this.listenerCount("log")>0}}])&&rt(e.prototype,i),n&&rt(e,n),t}();Object.assign(st.prototype,n.a);var ot={ms:0,s:1,sec:1},at=/^#([a-zA-Z]+)/,ut=st;e.a=ut},function(t,e,i){"use strict";var n=i(11),r=i(4);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Math.Vector2,a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.position=new o,this.velocity=new o}var e,i,n;return e=t,(i=[{key:"init",value:function(t,e){return this.velocity.reset(),this.position.set(t,e),this}},{key:"update",value:function(t,e,i){return this.velocity.set(t-this.position.x,e-this.position.y),0===this.velocity.x&&0===this.velocity.y||this.velocity.setToPolar(this.velocity.angle(),this.velocity.length()/i),this.position.set(t,e),this}}])&&s(e.prototype,i),n&&s(e,n),t}();function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=Phaser.Utils.Objects.GetValue,p=Phaser.Math.Vector2,v=Phaser.Math.Distance.Between,g=Phaser.Math.Angle.BetweenPoints,b=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=l(this,f(e).call(this,t,i))).gameObject=t,n.scene=Object(r.a)(t),n._target=void 0,n.mySpeedMonitor=new a,n.targetSpeedMonitor=new a,n.predictedPosition=new p,n.resetFromJSON(i),n.boot(),n}var i,s,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,n["a"]),i=e,(s=[{key:"resetFromJSON",value:function(t){return this.isRunning=y(t,"isRunning",!1),this.setEnable(y(t,"enable",!0)),this.setTarget(y(t,"target",void 0)),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,duration:this.duration,tickingMode:this.tickingMode}}},{key:"boot",value:function(){c(f(e.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){c(f(e.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){c(f(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){c(f(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"setEnable",value:function(t){return void 0==t&&(t=!0),this.enable=t,this}},{key:"setTarget",value:function(t){return this.target=t,this}},{key:"update",value:function(t,e){if(!this.isRunning)return this;if(void 0===this.target)return this;if(!this.enable)return this.predictedPosition.copy(this.target),this;e/=1e3,this.mySpeedMonitor.update(this.gameObject.x,this.gameObject.y,e),this.targetSpeedMonitor.update(this.target.x,this.target.y,e);var i=this.targetSpeedMonitor.velocity.x-this.mySpeedMonitor.velocity.x,n=this.targetSpeedMonitor.velocity.y-this.mySpeedMonitor.velocity.y;if(0===i&&0===n)this.predictedPosition.copy(this.target);else{var r=v(0,0,i,n);t=v(this.target.x,this.target.y,this.gameObject.x,this.gameObject.y)/r;this.predictedPosition.set(this.target.x+this.targetSpeedMonitor.velocity.x*t,this.target.y+this.targetSpeedMonitor.velocity.y*t)}return this}},{key:"target",get:function(){return this._target},set:function(t){return null==t&&(t=void 0),this.target===t||(this.target&&this.target.off("destroy",this.setTarget,this),t&&t.once("destroy",this.setTarget,this),this._target=t),this.isRunning?void 0===this.target&&c(f(e.prototype),"stop",this).call(this):void 0!==this.target&&(this.mySpeedMonitor.init(this.gameObject.x,this.gameObject.y),this.targetSpeedMonitor.init(this.target.x,this.target.y),c(f(e.prototype),"start",this).call(this)),this}},{key:"predictedAngle",get:function(){return g(this.gameObject,this.predictedPosition)}}])&&h(i.prototype,s),o&&h(i,o),e}();e.a=b},function(t,e,i){"use strict";var n=i(0),r=i.n(n),s=i(33),o=i.n(s),a=i(6),u=i(136);function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.createTestCallback(e,i)}var e,i,n;return e=t,(i=[{key:"createTestCallback",value:function(t,e){return this.name=e[1],e.splice(0,2),this.testFunction=Object(u.a)(t,e),this}},{key:"runTest",value:function(t){return this.testFunction(t)}}])&&h(e.prototype,i),n&&h(e,n),t}();function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.achievements={},this.obtainedStates={},this.resetFromJSON(e)}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setObtainedState(r()(t,"obtained",{})),this}},{key:"loadCSV",value:function(t,e){Object(a.a)(this.achievements);var i,n,s,u=r()(e,"delimiter",","),h=o.a.parse(t,{delimiter:u}).data,c=h[0];c.splice(0,2);for(var f=1,d=h.length;f<d;f++)s=(i=h[f])[0],n=new l(c,i),this.achievements.hasOwnProperty(s)||(this.achievements[s]=[]),this.achievements[s].push(n);return this}},{key:"getAchievements",value:function(t){return this.achievements[t]}},{key:"getAchievementNames",value:function(t,e){void 0===e&&(e=[]);var i=this.getAchievements(t);if(!i)return e;for(var n=0,r=i.length;n<r;n++)e.push(i[n].name);return names}},{key:"getObtainedState",value:function(t,e){return this.obtainedStates.hasOwnProperty(t)||(this.obtainedStates[t]={}),this.obtainedStates[t].hasOwnProperty(e)||(this.obtainedStates[t][e]={wasObtained:!1,justObtained:!1}),this.obtainedStates[t][e]}},{key:"runTest",value:function(t,e){var i,n=this.getAchievements(t);if(void 0===n)return this;for(var r=0,s=n.length;r<s;r++)(i=this.getObtainedState(t,n[r].name)).justObtained=!1,i.wasObtained||n[r].runTest(e)&&(i.justObtained=!0,i.wasObtained=!0);return this}},{key:"forEachObtainedState",value:function(t,e,i){var n,r,s=this.getAchievements(t);if(void 0===s)return this;for(var o=0,a=s.length;o<a;o++)n=s[o].name,r=this.getObtainedState(t,n),i?e.call(i,t,n,r):e(t,n,r);return this}},{key:"setObtainedState",value:function(t,e,i){void 0===i&&(i=!0);var n=this.getObtainedState(t,e);return n.wasObtained!==i&&(n.justObtained=i,n.wasObtained=i),this}},{key:"loadObtainedStates",value:function(t){return this.obtainedStates=t,this}},{key:"getObtainedStates",value:function(){return this.obtainedStates}}])&&c(e.prototype,i),n&&c(e,n),t}();e.a=f},function(t,e,i){"use strict";e.a={Encrypt:function(t,e){return function(t,e){if(null==e||e.length<=0)return null;for(var i="",n=0;n<e.length;n++)i+=e.charCodeAt(n).toString();var r=Math.floor(i.length/5),s=parseInt(i.charAt(r)+i.charAt(2*r)+i.charAt(3*r)+i.charAt(4*r)+i.charAt(5*r)),o=Math.ceil(e.length/2),a=Math.pow(2,31)-1;if(s<2)return null;var u=Math.round(1e9*Math.random())%1e8;for(i+=u;i.length>10;)i=(parseInt(i.substring(0,10))+parseInt(i.substring(10,i.length))).toString();i=(s*i+o)%a;var h="",l="";for(n=0;n<t.length;n++)l+=(h=parseInt(t.charCodeAt(n)^Math.floor(i/a*255)))<16?"0"+h.toString(16):h.toString(16),i=(s*i+o)%a;for(u=u.toString(16);u.length<8;)u=0+u;return l+=u}(t=escape(t),e=escape(e.toString()))},Decrypt:function(t,e){var i=function(t,e){if(null==t||t.length<8)return null;if(!(null==e||e.length<=0)){for(var i="",n=0;n<e.length;n++)i+=e.charCodeAt(n).toString();var r=Math.floor(i.length/5),s=parseInt(i.charAt(r)+i.charAt(2*r)+i.charAt(3*r)+i.charAt(4*r)+i.charAt(5*r)),o=Math.round(e.length/2),a=Math.pow(2,31)-1,u=parseInt(t.substring(t.length-8,t.length),16);for(t=t.substring(0,t.length-8),i+=u;i.length>10;)i=(parseInt(i.substring(0,10))+parseInt(i.substring(10,i.length))).toString();i=(s*i+o)%a;var h="",l="";for(n=0;n<t.length;n+=2)h=parseInt(parseInt(t.substring(n,n+2),16)^Math.floor(i/a*255)),l+=String.fromCharCode(h),i=(s*i+o)%a;return l}}(t,e=escape(e.toString()));return null!=i&&(i=unescape(i)),i}}},function(t,e,i){"use strict";var n="\n#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision highmedp float;\n\n// Scene buffer\nuniform sampler2D uMainSampler; \nvarying vec2 outTexCoord;\nuniform vec2 texSize;\n\n// Effect parameters\nuniform vec2 center;\nuniform float radius;\nuniform float angle;\n\nvoid main (void) {\n  vec2 tc = outTexCoord * texSize;\n  tc -= center;\n  float dist = length(tc);\n  if (dist < radius) {\n    float percent = (radius - dist) / radius;\n    float theta = percent * percent * angle * 8.0;\n    float s = sin(theta);\n    float c = cos(theta);\n    tc = vec2(dot(tc, vec2(c, -s)), dot(tc, vec2(s, c)));\n  }\n  tc += center;\n  gl_FragColor = texture2D(uMainSampler, tc / texSize);\n}\n",r=i(15),s=i.n(r),o=i(20),a=i.n(o);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=Phaser.Renderer.WebGL.Pipelines.TextureTintPipeline,p=Phaser.Utils.Objects.GetValue,v=function(t){function e(t,i,r){var s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o,a,h=t.game;return o=this,(s=!(a=f(e).call(this,{game:h,renderer:h.renderer,fragShader:n}))||"object"!==u(a)&&"function"!=typeof a?l(o):a)._width=0,s._height=0,s._centerX=0,s._centerY=0,s._radius=0,s._rotation=0,h.renderer.addPipeline(i,l(s)),s.resetFromJSON(r),s}var i,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,y),i=e,(r=[{key:"resetFromJSON",value:function(t){this.radius=p(t,"radius",0);var e=p(t,"rotation",void 0);return void 0===e?this.setAngle(p(t,"angle",0)):this.setRotation(e),this.setCenter(p(t,"center.x",void 0),p(t,"center.y",void 0)),this}},{key:"setRadius",value:function(t){return this.radius=t,this}},{key:"setRotation",value:function(t){return this.rotation=t,this}},{key:"setAngle",value:function(t){return this.angle=t,this}},{key:"setCenter",value:function(t,e){return void 0===t&&(t=this._width/2,e=this._height/2),this._centerX=t,this._centerY=e,this._setCenter(),this}},{key:"_setCenter",value:function(){this.setFloat2("center",this._centerX,this._centerY)}},{key:"resize",value:function(t,i,n){return this._width=t,this._height=i,c(f(e.prototype),"resize",this).call(this,t,i,n),this.setFloat2("texSize",t,i),this}},{key:"radius",get:function(){return this._radius},set:function(t){this._radius=t,this.setFloat1("radius",t)}},{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.setFloat1("angle",t)}},{key:"angle",get:function(){return a()(this.rotation)},set:function(t){this.rotation=s()(t)}},{key:"centerX",get:function(){return this._centerX},set:function(t){this._centerX=t,this._setCenter()}},{key:"centerY",get:function(){return this._centerY},set:function(t){this._centerY=t,this._setCenter()}}])&&h(i.prototype,r),o&&h(i,o),e}();e.a=v},function(t,e,i){"use strict";var n="\n#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision highmedp float;\n\n// Scene buffer\nuniform sampler2D uMainSampler; \nvarying vec2 outTexCoord;\n\n// Effect parameters\nuniform vec2 texSize;\nuniform vec2 pixelSize;\nuniform float radius;\nuniform float angle;\n\nvoid main (void) {\n  if ((pixelSize.x > 0.0) || (pixelSize.y > 0.0)) {\n    vec2 dxy = pixelSize/texSize;\n    vec2 tc = vec2(dxy.x*( floor(outTexCoord.x/dxy.x) + 0.5 ), \n                   dxy.y*( floor(outTexCoord.y/dxy.y) + 0.5 )\n                  );\n    gl_FragColor = texture2D(uMainSampler, tc);\n  } else {        \n    gl_FragColor = texture2D(uMainSampler, outTexCoord);\n  }\n}\n";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.Renderer.WebGL.Pipelines.TextureTintPipeline,c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i,s){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h,l,c=t.game;return h=this,(a=!(l=u(e).call(this,{game:c,renderer:c.renderer,fragShader:n}))||"object"!==r(l)&&"function"!=typeof l?o(h):l)._width=0,a._height=0,a._pixelWidth=0,a._pixelHeight=0,c.renderer.addPipeline(i,o(a)),a.resetFromJSON(s),a}var i,f,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,l),i=e,(f=[{key:"resetFromJSON",value:function(t){return this.setPixelSize(c(t,"pixelWidth",0),c(t,"pixelHeight",0)),this}},{key:"setPixelWidth",value:function(t){return this.pixelWidth=t,this}},{key:"setPixelHeight",value:function(t){return this.pixelHeight=t,this}},{key:"setPixelSize",value:function(t,e){return void 0===e&&(e=t),this._pixelWidth=t,this._pixelHeight=e,this._setPixelSize(),this}},{key:"_setPixelSize",value:function(){this.setFloat2("pixelSize",this._pixelWidth,this._pixelHeight)}},{key:"resize",value:function(t,i,n){return this._width=t,this._height=i,a(u(e.prototype),"resize",this).call(this,t,i,n),this.setFloat2("texSize",t,i),this}},{key:"pixelWidth",get:function(){return this._pixelWidth},set:function(t){this._pixelWidth=t,this._setPixelSize()}},{key:"pixelHeight",get:function(){return this._pixelHeight},set:function(t){this._pixelHeight=t,this._setPixelSize()}}])&&s(i.prototype,f),d&&s(i,d),e}();e.a=f},function(t,e,i){"use strict";var n="\n#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision highmedp float;\n\n// Scene buffer\nuniform sampler2D uMainSampler; \nvarying vec2 outTexCoord;\n\n// Effect parameters\nuniform float intensity;\n\nvoid main (void) {\n  vec4 front = texture2D(uMainSampler, outTexCoord);\n  float gray = dot(front.rgb, vec3(0.299, 0.587, 0.114));\n  gl_FragColor = mix(front, vec4(gray, gray, gray, front.a), intensity);\n}\n";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=Phaser.Renderer.WebGL.Pipelines.TextureTintPipeline,l=Phaser.Utils.Objects.GetValue,c=Phaser.Math.Clamp,f=function(t){function e(t,i,s){var u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h,l,c=t.game;return h=this,(u=!(l=o(e).call(this,{game:c,renderer:c.renderer,fragShader:n}))||"object"!==r(l)&&"function"!=typeof l?a(h):l)._intensity=0,c.renderer.addPipeline(i,a(u)),u.resetFromJSON(s),u}var i,f,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,h),i=e,(f=[{key:"resetFromJSON",value:function(t){return this.setIntensity(l(t,"intensity",0)),this}},{key:"setIntensity",value:function(t){return this.intensity=t,this}},{key:"intensity",get:function(){return this._intensity},set:function(t){t=c(t,0,1),this._intensity!==t&&(this._intensity=t,this.setFloat1("intensity",t))}}])&&s(i.prototype,f),d&&s(i,d),e}();e.a=f},function(t,e,i){"use strict";var n=i(4),r=i(2);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetValue,a=Phaser.Math.Distance.Between,u=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.setEventEmitter(o(i,"eventEmitter",void 0)),this.gameObject.setInteractive(o(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}var e,i,r;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.isInTouched=!1,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(o(t,"enable",!0)),this}},{key:"boot",value:function(){this.gameObject.on("pointerdown",this.onPointIn,this),this.gameObject.on("pointerover",this.onPointIn,this),this.gameObject.on("pointerup",this.onPointOut,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onPointerMove,this),this.scene.events.on("postupdate",this.postupdate,this),this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.scene&&this.scene.events.off("postupdate",this.postupdate,this),this.destroyEventEmitter(),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||(this.isInTouched=!1,this.pointer=void 0),this.enable=t,this.gameObject.input.enabled=t,this)}},{key:"onPointIn",value:function(t,e,i){t.isDown&&void 0===this.pointer&&(this.pointer=t,this.isInTouched=!0,this.preX=t.x,this.preY=t.y,this.x=t.x,this.y=t.y,this.localX=e,this.localY=i,this.emit("touchstart",t,e,i))}},{key:"onPointOut",value:function(t){this.pointer===t&&(this.pointer=void 0,this.isInTouched=!1,this.emit("touchend",t))}},{key:"onPointerMove",value:function(t,e,i){t.isDown&&this.pointer===t&&(this.preX=this.x,this.preY=this.y,this.x=t.x,this.y=t.y,this.localX=e,this.localY=i,this.justMoved=!0,this.emit("touchmove",t,e,i))}},{key:"postupdate",value:function(t,e){this.justMoved=!1}},{key:"isDown",get:function(){return this.pointer&&this.pointer.isDown}},{key:"isUp",get:function(){return void 0===this.pointer}},{key:"dx",get:function(){return this.x-this.preX}},{key:"dy",get:function(){return this.y-this.preY}},{key:"dt",get:function(){return this.scene.sys.game.loop.delta}},{key:"speed",get:function(){return this.x===this.preX&&this.y===this.preY?0:a(this.x,this.preX,this.y,this.preY)/(.001*this.dt)}},{key:"speedX",get:function(){return this.dx/(.001*this.dt)}},{key:"speedY",get:function(){return this.dy/(.001*this.dt)}}])&&s(e.prototype,i),r&&s(e,r),t}();Object.assign(u.prototype,r.a);var h=u;e.a=h},function(t,e,i){"use strict";var n=i(4),r=i(161);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetValue,a=Phaser.Math.Distance.Between,u=Phaser.Math.RotateAroundDistance,h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.gameObject.setInteractive(o(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}var e,i,h;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.setEnable(o(t,"enable",!0)),this.setAxisMode(o(t,"axis",0)),this.setAxisRotation(o(t,"rotation",0)),this}},{key:"toJSON",value:function(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}},{key:"boot",value:function(){var t=this.gameObject;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this),t.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||(this.pointer=void 0),this.enable=t,this.scene.input.setDraggable(this.gameObject,t),this)}},{key:"setAxisMode",value:function(t){return"string"==typeof t&&(t=c[t]),this.axisMode=t,this}},{key:"setAxisRotation",value:function(t){return this.axisRotation=t,this}},{key:"drag",value:function(){for(var t,e=this.scene.input,i=e.manager,n=i.pointersTotal,s=i.pointers,o=0;o<n;o++)if((t=s[o]).primaryDown&&0===e.getDragState(t)&&Object(r.a)(this.gameObject,t)){e.setDragState(t,1),e._drag[t.id]=[this.gameObject],0===e.dragDistanceThreshold||0===e.dragTimeThreshold?(e.setDragState(t,3),e.processDragStartList(t)):e.setDragState(t,2);break}}},{key:"dragend",value:function(){if(this.isDragging)return this.pointer.dragState=5,this}},{key:"onDragStart",value:function(t,e,i){this.isDragging||(this.pointer=t)}},{key:"onDrag",value:function(t,e,i){if(this.pointer===t){var n=this.gameObject;if(0===this.axisMode)n.x=e,n.y=i;else if(0===this.axisRotation)1===this.axisMode?n.x=e:2===this.axisMode&&(n.y=i);else{var r;l.x=e,l.y=i,r=a(l.x,l.y,n.x,n.y),l=u(l,n.x,n.y,-this.axisRotation,r),1===this.axisMode?l.y=n.y:2===this.axisMode&&(l.x=n.x),r=a(l.x,l.y,n.x,n.y),l=u(l,n.x,n.y,this.axisRotation,r),n.x=l.x,n.y=l.y}}}},{key:"onDragEnd",value:function(t,e,i,n){this.pointer===t&&(this.pointer=void 0)}},{key:"isDragging",get:function(){return void 0!==this.pointer}}])&&s(e.prototype,i),h&&s(e,h),t}(),l={},c={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},f=h;e.a=f},function(t,e,i){"use strict";var n=i(4),r=i(2);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetValue,a=Phaser.Math.Angle.BetweenPoints,u=Phaser.Math.Distance.Between,h=Phaser.Math.RotateAroundDistance,l=Phaser.Math.Clamp,c=Phaser.Math.Linear,f=Phaser.Math.Percent,d=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.setEventEmitter(o(i,"eventEmitter",void 0)),this._value=void 0,this.endPoints=[{x:0,y:0},{x:0,y:0}];var r=o(i,"valuechangeCallback",null);if(null!==r){var s=o(i,"valuechangeCallbackScope",void 0);this.on("valuechange",r,s)}this.gameObject.setInteractive(o(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}var e,i,r;return e=t,(i=[{key:"resetFromJSON",value:function(t){this.setValue(o(t,"value",0));var e=o(t,"endPoints",void 0);return void 0!==e&&this.setEndPoints(e),this.setEnable(o(t,"enable",!0)),this}},{key:"toJSON",value:function(){return{value:this.value,endPoints:this.endPoints,enable:this.enable}}},{key:"boot",value:function(){this.gameObject.on("drag",this.onDragging,this),this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(this.enable=t,this.scene.input.setDraggable(this.gameObject,t),this)}},{key:"setEndPoints",value:function(t,e,i,n){var r=this.endPoints;return"number"==typeof t?(r[0].x=t,r[0].y=e,r[1].x=i,r[1].y=n):Array.isArray(t)?(r[0]=t[0],r[1]=t[1]):(r[0]=t,r[1]=e),this.axisRotation=a(r[0],r[1]),this.updatePos(),this}},{key:"setValue",value:function(t,e,i){return void 0!==e&&(t=f(t,e,i)),this.value=t,this}},{key:"addValue",value:function(t,e,i){return void 0!==e&&(t=f(t,e,i)),this.value+=t,this}},{key:"getValue",value:function(t,e){var i=this.value;return void 0!==t&&(i=c(t,e,i)),i}},{key:"onDragging",value:function(t,e,i){var n,r=this.endPoints;if(r[0].y===r[1].y){var s=Math.min(r[0].x,r[1].x),o=Math.max(r[0].x,r[1].x);n=f(e,s,o)}else if(r[0].x===r[1].x){s=Math.min(r[0].y,r[1].y),o=Math.max(r[0].y,r[1].y);n=f(i,s,o)}else{var a,l=this.gameObject;y.x=e,y.y=i,a=u(y.x,y.y,l.x,l.y),(y=h(y,l.x,l.y,-this.axisRotation,a)).y=l.y,a=u(y.x,y.y,l.x,l.y),y=h(y,l.x,l.y,this.axisRotation,a);s=Math.min(r[0].x,r[1].x),o=Math.max(r[0].x,r[1].x);n=f(y.x,s,o)}this.value=n}},{key:"updatePos",value:function(){var t=this.gameObject,e=this.endPoints;return t.x=c(e[0].x,e[1].x,this._value),t.y=c(e[0].y,e[1].y,this._value),this}},{key:"value",get:function(){return this._value},set:function(t){if((t=l(t,0,1))!==this._value){var e=this._value;this._value=t,this.updatePos(this._value),this.emit("valuechange",this._value,e)}}},{key:"isDragging",get:function(){return this.gameObject.input.dragState>0}}])&&s(e.prototype,i),r&&s(e,r),t}(),y={};Object.assign(d.prototype,r.a);var p=d;e.a=p},function(t,e,i){"use strict";var n=i(133),r=i(2);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetValue,a=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===i&&(i={});var n=o(i,"eventEmitter",void 0),r=o(i,"EventEmitterClass",void 0);this.setEventEmitter(n,r),i.eventEmitter=this.getEventEmitter(),this.scene=e,this.base=void 0,this.thumb=void 0,this.touchCursor=void 0,this.setRadius(o(i,"radius",100)),this.addBase(o(i,"base",void 0),i),this.addThumb(o(i,"thumb",void 0));var s=o(i,"x",0),a=o(i,"y",0);this.base.setPosition(s,a),this.thumb.setPosition(s,a),o(i,"fixed",!0)&&this.setScrollFactor(0),this.boot()}var e,i,r;return e=t,(i=[{key:"destroy",value:function(){this.destroyEventEmitter(),this.base.destroy(),this.thumb.destroy(),this.base=void 0,this.thumb=void 0,this.touchCursor=void 0}},{key:"createCursorKeys",value:function(){return this.touchCursor.createCursorKeys()}},{key:"setPosition",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setVisible",value:function(t){this.visible=t}},{key:"toggleVisible",value:function(){this.visible=!this.visible}},{key:"setEnable",value:function(t){return this.enable=t,this}},{key:"toggleEnabl",value:function(){this.enable=!this.enable}},{key:"setRadius",value:function(t){return this.radius=t,this}},{key:"setVisible",value:function(t){return this.visible=t,this}},{key:"addBase",value:function(t,e){return this.base&&this.base.destroy(),void 0===t&&(t=this.scene.add.circle(0,0,this.radius).setStrokeStyle(3,255)),this.touchCursor=new n.a(t,e),this.base=t,this}},{key:"addThumb",value:function(t){return this.thumb&&this.thumb.destroy(),void 0===t&&(t=this.scene.add.circle(0,0,40).setStrokeStyle(3,65280)),this.thumb=t,this}},{key:"setScrollFactor",value:function(t){this.base.setScrollFactor(t),this.thumb.setScrollFactor(t)}},{key:"boot",value:function(){this.touchCursor.on("update",this.update,this)}},{key:"update",value:function(){var t=this.touchCursor;if(t.anyKeyDown)if(t.force>this.radius){var e=t.rotation;this.thumb.x=t.start.x+Math.cos(e)*this.radius,this.thumb.y=t.start.y+Math.sin(e)*this.radius}else this.thumb.x=t.end.x,this.thumb.y=t.end.y;else this.thumb.x=this.base.x,this.thumb.y=this.base.y;return this}},{key:"forceX",get:function(){return this.touchCursor.forceX}},{key:"forceY",get:function(){return this.touchCursor.forceY}},{key:"force",get:function(){return this.touchCursor.force}},{key:"rotation",get:function(){return this.touchCursor.rotation}},{key:"angle",get:function(){return this.touchCursor.angle}},{key:"up",get:function(){return this.touchCursor.upKeyDown}},{key:"down",get:function(){return this.touchCursor.downKeyDown}},{key:"left",get:function(){return this.touchCursor.leftKeyDown}},{key:"right",get:function(){return this.touchCursor.rightKeyDown}},{key:"noKey",get:function(){return this.touchCursor.noKeyDown}},{key:"pointerX",get:function(){return this.touchCursor.end.x}},{key:"pointerY",get:function(){return this.touchCursor.end.y}},{key:"pointer",get:function(){return this.touchCursor.pointer}},{key:"x",set:function(t){this.base.x=t},get:function(){return this.base.x}},{key:"y",set:function(t){this.base.y=t},get:function(){return this.base.y}},{key:"visible",get:function(){return this.base.visible},set:function(t){this.base.visible=t,this.thumb.visible=t}},{key:"enable",get:function(){return this.touchCursor.enable},set:function(t){this.touchCursor.setEnable(t)}}])&&s(e.prototype,i),r&&s(e,r),t}();Object.assign(a.prototype,r.a);var u=a;e.a=u},function(t,e,i){"use strict";var n=i(56),r=i(89);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.Utils.Objects.GetValue,c=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=a(this,u(e).call(this))).scene=t,n.sensitiveDistance=l(i,"sensitiveDistance",20);var s=l(i,"bounds",void 0);return void 0===s&&(s=Object(r.a)(t)),n.bounds=s,n.boot(),n}var i,s,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,n["a"]),i=e,(s=[{key:"boot",value:function(){this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.scene&&this.scene.input.off("pointermove",this.onPointerMove,this)}},{key:"destroy",value:function(){this.shutdown()}},{key:"onPointerMove",value:function(t){var e=t.x,i=t.y,n=this.bounds.left,r=this.bounds.right,s=this.bounds.top,o=this.bounds.bottom,a=e>=n&&e<=n+this.sensitiveDistance,u=e<=r&&e>=r-this.sensitiveDistance,h=i>=s&&i<=s+this.sensitiveDistance,l=i<=o&&i>=o-this.sensitiveDistance;this.clearAllKeysState(),this.setKeyState("left",a),this.setKeyState("right",u),this.setKeyState("up",h),this.setKeyState("down",l)}}])&&o(i.prototype,s),c&&o(i,c),e}();e.a=c},function(t,e,i){"use strict";var n=i(56);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,a(e).call(this))).scene=t,n.boot(),n}var i,r,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,n["a"]),i=e,(r=[{key:"boot",value:function(){this.scene.input.on("wheel",this.onWheeling,this),this.scene.events.on("postupdate",this.clearAllKeysState,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.scene&&(this.scene.input.off("wheel",this.onWheeling,this),this.scene.events.off("postupdate",this.clearAllKeysState,this))}},{key:"destroy",value:function(){this.shutdown()}},{key:"onWheeling",value:function(t,e,i,n,r,s){this.setKeyState("up",n<0),this.setKeyState("down",n>0)}}])&&s(i.prototype,r),h&&s(i,h),e}();e.a=h},function(t,e,i){"use strict";var n=i(2);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Phaser.Utils.Objects.GetValue,o=Phaser.Math.Distance.Between,a=Phaser.Math.Angle.Between,u=Phaser.Math.Angle.Wrap,h=Phaser.Math.RadToDeg,l=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=e,this.setEventEmitter(s(i,"eventEmitter",void 0)),this._deltaRotation=void 0,this.resetFromJSON(i),this.boot()}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){this.pointer=void 0,this.setEnable(s(t,"enable",!0)),this.setOrigin(t),this.setRadius(s(t,"maxRadius",100),s(t,"minRadius",0)),this.state=c}},{key:"boot",value:function(){this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.scene&&(this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this)),this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.dragCancel(),this.enable=t,this)}},{key:"setOrigin",value:function(t,e){if(void 0===e){var i=t;t=s(i,"x",0),e=s(i,"y",0)}return this.x=t,this.y=e,this}},{key:"setRadius",value:function(t,e){return void 0===e&&(e=0),this.maxRadius=t,this.minRadius=e,this}},{key:"contains",value:function(t,e){var i=o(this.x,this.y,t,e);return i>=this.minRadius&&i<=this.maxRadius}},{key:"onPointerDown",value:function(t){this.enable&&(this.pointer||this.contains(t.worldX,t.worldY)&&(this.pointer=t,this.state=f,this.onDragStart(t)))}},{key:"onPointerUp",value:function(t){this.enable&&this.pointer===t&&(this.pointer=void 0,this.state=c,this.onDragEnd())}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown)switch(this.state){case c:this.contains(t.worldX,t.worldY)&&this.onDragStart(t);break;case f:this.contains(t.worldX,t.worldY)?this.onDrag():this.onDragEnd()}}},{key:"dragCancel",value:function(){return this.state===f&&this.onDragEnd(),this.pointer=void 0,this.state=c,this}},{key:"onDragStart",value:function(t){this.pointer=t,this.state=f,this._deltaRotation=void 0,this.emit("dragstart",this)}},{key:"onDragEnd",value:function(){this.pointer=void 0,this.state=c,this._deltaRotation=void 0,this.emit("dragend",this)}},{key:"onDrag",value:function(){this._deltaRotation=void 0,this.emit("drag",this)}},{key:"deltaRotation",get:function(){if(this.state===c)return 0;if(void 0===this._deltaRotation){var t=this.pointer.prevPosition,e=this.pointer.position,i=a(this.x,this.y,t.x,t.y),n=a(this.x,this.y,e.x,e.y);this._deltaRotation=u(n-i)}return this._deltaRotation}},{key:"deltaAngle",get:function(){return this.state===c?0:h(this.deltaRotation)}},{key:"cw",get:function(){return this.deltaRotation>=0}},{key:"ccw",get:function(){return!this.cw}}])&&r(e.prototype,i),n&&r(e,n),t}();Object.assign(l.prototype,n.a);var c=0,f=1,d=l;e.a=d},function(t,e,i){"use strict";var n=i(11),r=i(4),s=i(15),o=i.n(s),a=i(20),u=i.n(a);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=Phaser.Utils.Objects.GetValue,v=Phaser.Math.Wrap,g=Phaser.Math.Angle.Wrap,b=Phaser.Math.Angle.Between,m=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=c(this,d(e).call(this,t,i))).gameObject=t,n.scene=Object(r.a)(t),n.resetFromJSON(i),n.boot(),n}var i,s,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,n["a"]),i=e,(s=[{key:"resetFromJSON",value:function(t){return this.isRunning=p(t,"isRunning",!1),this.setEnable(p(t,"enable",!0)),this.timeScale=p(t,"timeScale",1),this.setSpeed(p(t,"speed",180)),this.target=p(t,"target",0),this.dir=p(t,"dir",0),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,timeScale:this.timeScale,speed:this.speed,target:this.target,dir:this.dir,tickingMode:this.tickingMode}}},{key:"boot",value:function(){f(d(e.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){f(d(e.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){f(d(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){f(d(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"setEnable",value:function(t){return void 0==t&&(t=!0),this.enable=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"rotateTo",value:function(t,i){if("number"!=typeof t){var n=t;t=p(n,"angle",void 0),i=p(n,"dir",void 0)}return null==t?this:(this.target=v(t,0,360),void 0===i&&(i=0),this.dir="string"==typeof i?w[i]:i,f(d(e.prototype),"start",this).call(this),this)}},{key:"rotateTowardsPosition",value:function(t,e,i,n){var r=this.gameObject,s=b(r.x,r.y,t,e),o=u()(s);return this.rotateTo(o,i,n),this}},{key:"update",value:function(t,e){if(!this.isRunning||!this.enable)return this;var i=this.target,n=g(o()(i)),r=this.gameObject;if(n===r.rotation)return this.complete(),this;if(0===this.speed||0===e||0===this.timeScale)return this;var s,a,u=(360+r.angle)%360,h=e*this.timeScale/1e3,l=this.speed*h,c=this.dir;switch(c){case 0:var f=k(u,i,!0),d=360-f;f<d?(c=1,s=f):(c=2,s=d);break;case 1:s=k(u,i,!0);break;case 2:s=k(u,i,!1)}return a=l<s?1===c?u+l:u-l:i,r.rotation=o()(a),this}}])&&l(i.prototype,s),a&&l(i,a),e}(),k=function(t,e,i){var n=i?e-t:t-e;return n=v(n,0,360)},w={shortest:0,cw:1,ccw:2},x=m;e.a=x},function(t,e,i){"use strict";var n=i(4),r=i(15),s=i.n(r);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=Phaser.Utils.Objects.GetValue,u=Phaser.Math.Angle.Between,h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this._t=0,this.pathVector=void 0,this.resetFromJSON(i),this.boot()}var e,i,r;return e=t,(i=[{key:"resetFromJSON",value:function(t){this.setPath(a(t,"path",void 0));var e=a(t,"t",void 0);void 0!==e&&this.setT(e);var i=a(t,"rotateToPath",!1),n=a(t,"rotationOffset",void 0);return void 0===n&&(n=s()(a(t,"angleOffset",0))),this.setRotateToPath(i,n),this}},{key:"toJSON",value:function(){return{path:this.path,t:this.t,rotateToPath:this.rotateToPath,rotationOffset:this.rotationOffset}}},{key:"boot",value:function(){this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setPath",value:function(t){return this.path=t,this}},{key:"setT",value:function(t){return this.t=t,this}},{key:"setRotateToPath",value:function(t,e){return this.rotateToPath=t,this.rotationOffset=e,this}},{key:"update",value:function(){if(void 0!==this.path){var t=this.gameObject,e=t.x,i=t.y;this.pathVector=this.path.getPoint(this.t,this.pathVector);var n=this.pathVector.x,r=this.pathVector.y;e===n&&i===r||(t.setPosition(n,r),this.rotateToPath&&(t.rotation=u(e,i,n,r)+this.rotationOffset))}}},{key:"t",get:function(){return this._t},set:function(t){this._t=t,this.update()}}])&&o(e.prototype,i),r&&o(e,r),t}();e.a=h},function(t,e,i){"use strict";var n=i(11),r=i(4);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=a(this,h(e).call(this,t,i))).gameObject=t,n.scene=Object(r.a)(t),n.resetFromJSON(i),n.boot(),n}var i,s,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,n["a"]),i=e,(s=[{key:"resetFromJSON",value:function(t){return this.isRunning=c(t,"isRunning",!1),this.setEnable(c(t,"enable",!0)),this.setDuration(c(t,"duration",500)),this.setRepeat(c(t,"repeat",2)),this.repeatCounter=c(t,"repeatCounter",0),this.nowTime=c(t,"nowTime",0),this.timeScale=c(t,"timeScale",1),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,duration:this.duration,repeat:this.repeat,repeatCounter:this.repeatCounter,nowTime:this.nowTime,timeScale:this.timeScale,tickingMode:this.tickingMode}}},{key:"boot",value:function(){u(h(e.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){u(h(e.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){u(h(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){u(h(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"setEnable",value:function(t){return void 0==t&&(t=!0),this.enable=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"setRepeat",value:function(t){return this.repeat=t,this}},{key:"start",value:function(t,i){if("number"!=typeof t){var n=t;t=c(n,"duration",void 0),i=c(n,"repeat",void 0)}return void 0!==t&&this.setDuration(t),void 0!==i&&this.setRepeat(i),this.isRunning?this.repeatCounter=-1:(this.repeatCounter=0,this.nowTime=0,u(h(e.prototype),"start",this).call(this)),this}},{key:"flash",value:function(t,e){return this.start(t,e),this}},{key:"stop",value:function(){return this.gameObject.setVisible(!0),u(h(e.prototype),"stop",this).call(this),this}},{key:"update",value:function(t,e){if(!this.isRunning||!this.enable)return this;if(0===this.timeScale||0===e)return this;this.nowTime+=e*this.timeScale;var i=!(this.nowTime<=this.duration/2);return this.gameObject.setVisible(i),this.nowTime>=this.duration&&(-1===this.repeat||this.repeatCounter<this.repeat?(this.repeatCounter++,this.nowTime-=this.duration):this.complete()),this}}])&&o(i.prototype,s),f&&o(i,f),e}();e.a=f},function(t,e,i){"use strict";var n=i(11),r=i(4);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=a(this,h(e).call(this,t,i))).gameObject=t,n.scene=Object(r.a)(t),n.resetFromJSON(i),n.boot(),n}var i,s,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,n["a"]),i=e,(s=[{key:"resetFromJSON",value:function(t){return this.setMode(c(t,"mode",1)),this.isRunning=c(t,"isRunning",!1),this.setEnable(c(t,"enable",!0)),this.timeScale=c(t,"timeScale",1),this.setMagnitudeMode(c(t,"magnitudeMode",1)),this.setDuration(c(t,"duration",500)),this.setMagnitude(c(t,"magnitude",10)),this.nowTime=c(t,"nowTime",0),this.ox=c(t,"ox",void 0),this.oy=c(t,"oy",void 0),this}},{key:"toJSON",value:function(){return{mode:this.mode,isRunning:this.isRunning,enable:this.enable,timeScale:this.timeScale,magnitudeMode:magnitudeMode,duration:this.duration,magnitude:this.magnitude,nowTime:this.nowTime,ox:this.ox,oy:this.oy}}},{key:"boot",value:function(){u(h(e.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){u(h(e.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){u(h(e.prototype),"startTicking",this).call(this),0===this.mode?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("step",this.backToOrigin,this)):this.scene.events.on("preupdate",this.update,this)}},{key:"stopTicking",value:function(){u(h(e.prototype),"stopTicking",this).call(this),this.scene&&(0===this.mode?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("step",this.backToOrigin,this)):this.scene.events.off("preupdate",this.update,this))}},{key:"setEnable",value:function(t){return void 0==t&&(t=!0),this.enable=t,this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=d[t]),this.mode=t,this}},{key:"setMagnitudeMode",value:function(t){return"string"==typeof t&&(t=y[t]),this.magnitudeMode=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"setMagnitude",value:function(t){return this.magnitude=t,this}},{key:"start",value:function(t,i){if("number"!=typeof t){var n=t;i=c(n,"magnitude",void 0),t=c(n,"duration",void 0)}return void 0!==i&&this.setMagnitude(i),void 0!==t&&this.setDuration(t),this.nowTime=0,u(h(e.prototype),"start",this).call(this),this}},{key:"shake",value:function(t,e){return this.start(t,e),this}},{key:"update",value:function(t,e){if(!this.isRunning||!this.enable)return this;var i=this.gameObject;if(this.nowTime+=e*this.timeScale,this.nowTime>=this.duration)this.backToOrigin(),this.complete();else{void 0===this.ox&&(this.ox=i.x,this.oy=i.y);var n=this.magnitude;1===this.magnitudeMode&&(n*=(this.duration-this.nowTime)/this.duration);var r=Math.random()*Math.PI*2,s=Math.cos(r)*n,o=Math.sin(r)*n;i.setPosition(this.ox+s,this.oy+o)}return this}},{key:"backToOrigin",value:function(){if(!this.isRunning||!this.enable)return this;if(void 0===this.ox)return this;var t=this.gameObject;return this.ox===t.x&&this.oy===t.y?this:(t.setPosition(this.ox,this.oy),this.ox=void 0,this.oy=void 0,this)}}])&&o(i.prototype,s),f&&o(i,f),e}(),d={effect:0,behavior:1},y={constant:0,decay:1},p=f;e.a=p},function(t,e,i){"use strict";var n=i(11),r=i(90),s=i(15),o=i.n(s);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e,i){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=Phaser.Utils.Objects.GetValue,y=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=h(this,c(e).call(this,t,i))).setParent(t),n.resetFromJSON(i),n.boot(),n}var i,r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,n["a"]),i=e,(r=[{key:"resetFromJSON",value:function(t){return this.body||this.scene.physics.add.existing(this.gameObject,!1),this.setCascadeMode(d(t,"cascade",!1)),this.setEnable(d(t,"enable",!0)),this.setDirMode(d(t,"dir","8dir")),this.setSpeed(d(t,"speed",200)),this.setRotateToDirection(d(t,"rotateToDirection",!1)),this.setCursorKeys(d(t,"cursorKeys",void 0)),this}},{key:"toJSON",value:function(){return{tickingMode:this.tickingMode}}},{key:"boot",value:function(){l(c(e.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){l(c(e.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){l(c(e.prototype),"startTicking",this).call(this),this.scene.events.on("preupdate",this.preupdate,this)}},{key:"stopTicking",value:function(){l(c(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("preupdate",this.preupdate,this)}},{key:"setEnable",value:function(t){return void 0==t&&(t=!0),this.enable=t,t&&void 0===this.body&&this.scene.physics.add.existing(this.gameObject,!1),this}},{key:"setDirMode",value:function(t){return"string"==typeof t&&(t=p[t]),this.dirMode=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"setRotateToDirection",value:function(t){return this.rotateToDirection=t,this}},{key:"setCursorKeys",value:function(t){return void 0===t&&(t=this.scene.input.keyboard.createCursorKeys()),this.cursorKeys=t,this}},{key:"preupdate",value:function(t,e){if(!this.enable)return this.bodySetVelocity(0,0),this;var i,n,r,s=this.cursorKeys,o=s.up.isDown,a=s.down.isDown,u=s.left.isDown,h=s.right.isDown,l=(o?-1:0)+(a?1:0),c=(u?-1:0)+(h?1:0);if(0===c&&0===l)return this.bodySetVelocity(0,0),this;switch(this.dirMode){case 0:c=0;break;case 1:l=0;break;case 2:0!==l&&(c=0)}return 0===l?(n=this.speed*c,r=0,i=1===c?v:b):0===c?(n=0,r=this.speed*l,i=1===l?g:m):(i=Math.atan2(l,c),n=this.speed*Math.cos(i),r=this.speed*Math.sin(i)),this.bodySetVelocity(n,r),this.rotateToDirection&&void 0!==i&&(this.gameObject.rotation=i),this}},{key:"enable",get:function(){return this.isRunning},set:function(t){this.isRunning=t,t||this.bodySetVelocity(0,0)}}])&&u(i.prototype,r),s&&u(i,s),e}();Object.assign(y.prototype,r.a);var p={"up&down":0,"left&right":1,"4dir":2,"8dir":3},v=o()(0),g=o()(90),b=o()(180),m=o()(270),k=y;e.a=k},function(t,e,i){"use strict";var n=i(11),r=i(90);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=a(this,h(e).call(this,t,i))).setParent(t),n.resetFromJSON(i),n.boot(),n}var i,r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,n["a"]),i=e,(r=[{key:"resetFromJSON",value:function(t){return this.body||this.scene.physics.add.existing(this.gameObject,!1),this.setCascadeMode(c(t,"cascade",!1)),this.setEnable(c(t,"enable",!0)),this.setSpeed(c(t,"speed",200)),this}},{key:"toJSON",value:function(){return{tickingMode:this.tickingMode}}},{key:"boot",value:function(){u(h(e.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){u(h(e.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){u(h(e.prototype),"startTicking",this).call(this),this.scene.events.on("preupdate",this.preupdate,this)}},{key:"stopTicking",value:function(){u(h(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("preupdate",this.preupdate,this)}},{key:"setEnable",value:function(t){return void 0==t&&(t=!0),this.enable=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"preupdate",value:function(t,e){if(!this.enable)return this.bodySetVelocity(0,0),this;var i=this.gameObject.rotation,n=this.speed*Math.cos(i),r=this.speed*Math.sin(i);return this.bodySetVelocity(n,r),this}},{key:"enable",get:function(){return this.isRunning},set:function(t){this.isRunning=t,t||this.bodySetVelocity(0,0)}}])&&o(i.prototype,r),s&&o(i,s),e}();Object.assign(f.prototype,r.a);var d=f;e.a=d},function(t,e,i){"use strict";var n=i(2),r=i(0),s=i.n(r),o=i(57),a=i(24);function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setEventEmitter(s()(e,"eventEmitter",void 0)),this.commands=[],this.scope=void 0,this.config=void 0,this.index=0,this.indexStep=1,this.setYoyo(s()(e,"yoyo",!1)),this.setRepeat(s()(e,"repeat",0)),this.setLoop(s()(e,"loop",!1)),this.state=0,this.task=void 0}var e,i,n;return e=t,(i=[{key:"shutdown",value:function(){this.stop(),this.destroyEventEmitter(),this.commands.length=0,this.scope=void 0,this.config=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"load",value:function(t,e,i){return this.stop(),this.setYoyo(s()(i,"yoyo",this.yoyo)),this.setRepeat(s()(i,"repeat",this.repeat)),this.setLoop(s()(i,"loop",this.loop)),this.commands=Object(a.a)(this.commands,t),this.scope=e,this.config=i,this}},{key:"start",value:function(){return this.stop(),this.resetRepeatCount(),this.index=0,this.indexStep=1,this.state=1,this.commands.length>0?this.runNextCommands():this.complete(),this}},{key:"stop",value:function(){return this.state=0,this.task&&(this.task.off("complete",this.runNextCommands,this),this.task=void 0),this}},{key:"setYoyo",value:function(t){return this.yoyo=t,this}},{key:"setRepeat",value:function(t){return this.repeat=t,this.resetRepeatCount(),this}},{key:"setLoop",value:function(t){return this.loop=t,this.resetRepeatCount(),this}},{key:"resetRepeatCount",value:function(){return this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,this}},{key:"runNextCommands",value:function(){for(var t,e,i;;){if(2===this.state)return void this.complete();if((t=Object(o.a)(this.commands[this.index],this.scope))&&"function"==typeof t.once?(t.once("complete",this.runNextCommands,this),this.task=t):this.task=void 0,e=0===this.index,i=this.index===this.commands.length-1,this.yoyo?this.indexStep>0&&i||this.indexStep<0&&e?(this.indexStep=-this.indexStep,this.index+=this.indexStep,this.repeatCount>0?this.repeatCount--:this.state=2):this.index+=this.indexStep:i?(this.index=0,this.repeatCount>0?this.repeatCount--:this.state=2):this.index+=this.indexStep,this.task)return this}}},{key:"complete",value:function(){this.state=0,this.emit("complete",this)}},{key:"completed",get:function(){return 0===this.state}},{key:"currentCommandIndex",get:function(){return this.index-1}}])&&u(e.prototype,i),n&&u(e,n),t}();Object.assign(h.prototype,n.a);var l=h;e.a=l},function(t,e,i){"use strict";var n=i(0),r=i.n(n),s=i(33),o=i.n(s),a=i(6),u=i(136);function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tests=[],this.resetFromJSON(e)}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){var e=r()(t,"table",void 0),i=r()(t,"delimiter",",");return void 0!==e&&this.loadTable(e,i),this}},{key:"loadCSV",value:function(t,e){Object(a.a)(this.tests);var i,n,s=r()(e,"delimiter",","),h=o.a.parse(t,{delimiter:s}).data,l=h[0];l.shift();for(var c=1,f=h.length;c<f;c++)n=(i=h[c]).shift(),this.tests.push({name:n,function:Object(u.a)(l,i)});return this}},{key:"anyPassTest",value:function(t,e,i){for(var n,r=0,s=this.tests.length;r<s;r++){if(n=this.tests[r].name,(0,this.tests[r].function)(t)){e&&(i?e.call(i,n):e(n));break}n=!1}return e?this:n}},{key:"eachPassTest",value:function(t,e,i){for(var n,r=0,s=this.tests.length;r<s;r++)n=this.tests[r].name,(0,this.tests[r].function)(t)&&(i?e.call(i,n):e(n));return this}},{key:"eachTest",value:function(t,e,i){for(var n,r,s=0,o=this.tests.length;s<o;s++)r=this.tests[s].name,n=(0,this.tests[s].function)(t),i?e.call(i,r,n):e(r,n);return this}}])&&h(e.prototype,i),n&&h(e,n),t}();e.a=l},function(t,e,i){"use strict";var n=i(77);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.Utils.Objects.GetValue,c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,u(e).apply(this,arguments))}var i,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,n["a"]),i=e,(r=[{key:"resetFromJSON",value:function(t){return a(u(e.prototype),"resetFromJSON",this).call(this,t),this.setLifeTime(l(t,"lifeTime",1e3)),this.setDestroyMode(l(t,"destroy",!0)),l(t,"start",!0)&&this.start(),this}},{key:"toJSON",value:function(){var t=a(u(e.prototype),"toJSON",this).call(this);return t.lifeTime=this.lifeTime,t}},{key:"setLifeTime",value:function(t){return this.lifeTime=t,this}},{key:"addToLifeTime",value:function(t){return this.lifeTime+=t,this}},{key:"setDestroyMode",value:function(t){return void 0===t&&(t=!0),this.destroyMode=t,this}},{key:"update",value:function(t,i){return this.isRunning?(a(u(e.prototype),"update",this).call(this,t,i),this.isAlive||(this.complete(),this.destroyMode&&this.gameObject.destroy()),this):this}},{key:"isAlive",get:function(){return this.now<this.lifeTime}},{key:"remainder",get:function(){var t=this.lifeTime-this.now;return t<0&&(t=0),t}},{key:"gameObject",get:function(){return this.parent}}])&&s(i.prototype,r),c&&s(i,c),e}();e.a=c},function(t,e,i){"use strict";var n=i(33),r=i.n(n),s=Phaser.Utils.Objects.GetValue,o=function(t,e){var i=s(e,"delimiter",","),n=s(e,"convert",!0);return r.a.parse(t,{delimiter:i,dynamicTyping:n}).data};e.a=o},function(t,e,i){"use strict";var n=i(33),s=i.n(n),o=i(24),a=i(25);function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=Phaser.Utils.Objects.GetValue,l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.table=h(t,"table",{}),this.rowKeys=h(t,"row",[]),this.colKeys=h(t,"col",[]),this.cursor=h(t,"cursor",{}),this}},{key:"toJSON",value:function(){return{table:this.table,row:this.rowKeys,col:this.colKeys,cursor:this.cursor}}},{key:"shutdown",value:function(){}},{key:"destroy",value:function(){}},{key:"loadCSV",value:function(t,e){var i=h(e,"delimiter",","),n=h(e,"convert",!0),r=h(e,"convertScope",void 0);n?!0===n&&(n=a.a,r=void 0):(n=void 0,r=void 0),this.clear();var u=s.a.parse(t,{delimiter:i}).data;this.colKeys=Object(o.a)(this.colKeys,u[0]),this.rowKeys.length=u.length-1;for(var l=0,c=this.rowKeys.length;l<c;l++)this.rowKeys[l]=u[l+1][0];for(var f,d,y,p,v=this.colKeys,g=this.rowKeys,b=this.table,m=0,k=g.length;m<k;m++){y={},b[d=g[m]]=y;for(var w=0,x=v.length;w<x;w++)p=u[m+1][w],f=v[w],n&&(p=r?n.call(r,p,d,f,this):n(p,d,f,this)),y[f]=p}return this.setCursor("",""),this}},{key:"clear",value:function(){var t=this.table;for(var e in t)delete t[e];return this.rowKeys.length=0,this.colKeys.length=0,this}},{key:"get",value:function(t,e){var i=void 0,n=this.table;if(n.hasOwnProperty(t)){var r=n[t];r.hasOwnProperty(e)&&(i=r[e])}return this.setCursor(t,e),i}},{key:"set",value:function(t,e,i){var n=this.table;if(n.hasOwnProperty(e)){var r=n[e];r.hasOwnProperty(t)&&(r[t]=i)}return this.setCursor(e,t),this}},{key:"add",value:function(t,e,i){var n=this.table;if(n.hasOwnProperty(e)){var r=n[e];r.hasOwnProperty(t)&&(r[t]+=i)}return this.setCursor(e,t),this}},{key:"hasRowKey",value:function(t){return-1!==this.rowKeys.indexOf(t)}},{key:"hasColKey",value:function(t){return-1!==this.colKeys.indexOf(t)}},{key:"hasKey",value:function(t,e){return this.hasRowKey(t)&&this.hasColKey(e)}},{key:"isValueInRol",value:function(t,e){if(!this.hasRowKey(t))return!1;for(var i=this.table[t],n=this.colKeys,r=0,s=n.length;r<s;r++)if(i[n[r]]===e)return!0;return!1}},{key:"isValueInCol",value:function(t,e){if(!this.hasColKey(t))return!1;for(var i=this.table,n=0,r=this.rowKeys.length;n<r;n++)if(i[void 0][t]===e)return!0;return!1}},{key:"appendRow",value:function(t,e,i){if(this.hasRowKey(t))return this;var n="function"==typeof e,r=n?void 0:e;this.rowKeys.push(t);var s={};this.table[t]=s;for(var o,a,u=this.colKeys,h=0,l=u.length;h<l;h++)o=u[h],a=n?i?e.call(i,this,t,o):e(this,t,o):r,s[o]=a;return this}},{key:"appendCol",value:function(t,e,i){if(this.hasColKey(t))return this;var n="function"==typeof e,r=n?void 0:e;this.colKeys.push(t);for(var s,o,a=this.table,u=this.rowKeys,h=0,l=u.length;h<l;h++)s=u[h],o=n?i?e.call(i,this,s,t):e(this,s,t):r,a[s][t]=o;return this}},{key:"removeRol",value:function(t){var e=this.rowKeys.indexOf(t);return-1===e?this:(this.rowKeys.splice(e,1),delete this.table[t],this)}},{key:"removeCol",value:function(t){var e=this.colKeys.indexOf(t);if(-1===e)return this;this.colKeys.splice(e,1);for(var i=this.table,n=this.rowKeys,r=0,s=n.length;r<s;r++)delete i[n[r]][t];return this}},{key:"eachRow",value:function(t,e,i){for(var n,r,s=this.rowKeys,o=this.hasColKey(t),a=0,u=s.length;a<u;a++)n=s[a],o&&(r=this.get(n,t)),i?e.call(i,this,n,t,r):e(this,n,t,r);return this}},{key:"eachCol",value:function(t,e,i){for(var n,r,s=this.colKeys,o=this.hasRowKey(t),a=0,u=s.length;a<u;a++)n=s[a],o&&(r=this.get(t,n)),i?e.call(i,this,t,n,r):e(i,this,t,n,r);return this}},{key:"convertCol",value:function(t,e,i){if(void 0===e&&(e=a.a),Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)this.convertCol(t[n],e,i);return this}if(!this.hasColKey(t))return this;for(var s,o,u,h=this.table,l=this.rowKeys,c=0,f=l.length;c<f;c++)u=(s=h[o=l[c]])[t],u=i?e.call(i,this,o,t,u):e(this,o,t,u),s[t]=u;return this}},{key:"convertRow",value:function(t,e,i){if(void 0===e&&(e=a.a),Array.isArray(t)){for(var n=0,s=t.length;n<s;n++)this.convertRow(t[n],e,i);return this}for(var o,u,h=this.table[t],l=this.colKeys,c=0,f=l.length;c<f;c++)u=h[o=l[r]],u=i?e.call(i,this,t,o,u):e(this,t,o,u),h[o]=u;return this}},{key:"nextColKey",value:function(t,e){void 0===t&&(t=this.cursor.colKey),void 0===e&&(e=1);var i=this.colKeys,n=i.indexOf(t);if(-1!==n)return i[n+e]}},{key:"nextRowKey",value:function(t,e){void 0===t&&(t=this.cursor.rowKey),void 0===e&&(e=1);var i=this.rowKeys,n=i.indexOf(t);if(-1!==n)return i[n+1]}},{key:"previousColKey",value:function(t,e){return void 0===e&&(e=1),e=-e,this.nextColKey(t,e)}},{key:"previousRowKey",value:function(t,e){return void 0===e&&(e=1),e=-e,this.nextRowlKey(t,e)}},{key:"sortCol",value:function(t,e){if("function"==typeof t)e&&(t=t.bind(e));else{var i=t;if(!this.hasRowKey(i))return this;var n=sceop;"string"==typeof n&&(n=c[n]);var r=this;t=function(t,e){var s,o=r.get(t,i),a=r.get(e,i);switch(n>=2&&(o=parseFloat(o),a=parseFloat(a)),n){case 0:case 2:s=o>a?1:o<a?-1:0;break;case 1:case 3:s=o<a?1:o>a?-1:0}return s}}return this.rowKeys.sort(t),this}},{key:"sortRow",value:function(t,e){if("function"==typeof t)e&&(t=t.bind(e));else{var i=t;if(!this.hasRowKey(i))return this;var n=sceop;"string"==typeof n&&(n=c[n]);var r=this;t=function(t,e){var s,o=r.get(i,t),a=r.get(i,e);switch(n>=2&&(o=parseFloat(o),a=parseFloat(a)),n){case 0:case 2:s=o>a?1:o<a?-1:0;break;case 1:case 3:s=o<a?1:o>a?-1:0}return s}}return this.colKeys.sort(t),this}},{key:"setCursor",value:function(t,e){var i=this.cursor;return i.rowKey=t,i.colKey=e,this}},{key:"curColKey",get:function(){return this.cursor.colKey}},{key:"curRowKey",get:function(){return this.cursor.rowKey}}])&&u(e.prototype,i),n&&u(e,n),t}(),c={ascending:0,descending:1,"logical ascending":2,"logical descending":3},f=l;e.a=f},function(t,e,i){"use strict";var n=i(6);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.Data.DataManager,c=Phaser.Utils.Objects.GetValue,f=Phaser.Events.EventEmitter,d=function(t){function e(t,i,n){var s,a,h;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i=new f),a=this,(s=!(h=u(e).call(this,t,i))||"object"!==r(h)&&"function"!=typeof h?o(a):h)._recordEnable=!0,s.resetFromJSON(n),s.events.on("changedata",s.onValueChange,o(s)).on("setdata",function(t,e,i){this.onValueChange(t,e,i,null)},o(s)).on("removedata",function(t,e,i){this.onValueChange(t,e,null,i)},o(s)),s}var i,d,y;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,l),i=e,(d=[{key:"resetFromJSON",value:function(t){this._version=c(t,"version",0),this._versionAlias=c(t,"versionAlias",""),this._repository=c(t,"repository",[]),this._versionAliases=c(t,"versionAliases",{});var e=c(t,"changeList",{}),i=c(t,"data",void 0);if(i)this._recordEnable=!1,this.set(i),this._recordEnable=!0;else{var n=""!==this._versionAlias?this._versionAlias:this._version;for(var r in this._version=0,this.restore(n),this._recordEnable=!1,e)this.setValue(r,e[r][0]);this._recordEnable=!0}this._changeList=e}},{key:"toJSON",value:function(t){void 0===t&&(t=!1);var e={version:this._version,versionAlias:this._versionAlias,changeList:this._changeList,repository:this._repository,versionAliases:this._versionAliases};return t&&(e.data=this.list),e}},{key:"commit",value:function(t){for(var e in this._repository.length=this._version,this._versionAliases)this._versionAliases[e]>this._version&&delete this._versionAliases[e];return this._repository.push(this._changeList),this._changeList={},this._version++,"string"==typeof t&&(this._versionAlias=t,this._versionAliases[t]=this._version),this}},{key:"restore",value:function(t,e){return void 0===t&&(t=""!==this._versionAlias?this._versionAlias:this._version),void 0===e&&(e=!1),e&&(this.version=0),this.version=t,this}},{key:"reset",value:function(){return this.restore(0),this._repository.length=0,Object(n.a)(this._versionAliases),this}},{key:"onValueChange",value:function(t,e,i,n){this._recordEnable&&(this._changeList.hasOwnProperty(e)?this._changeList[e][0]=i:this._changeList[e]=[i,n])}},{key:"version",get:function(){return this._version},set:function(t){var i;if("string"==typeof t&&(i=t,t=this._versionAliases[t]),"number"==typeof t){if(this._versionAlias=i||"",0===t)return this._recordEnable=!1,a(u(e.prototype),"reset",this).call(this),this._version=0,Object(n.a)(this._changeList),void(this._recordEnable=!0);t=Math.min(t,this._repository.length);var r,s={};for(var o in this._changeList)s[o]=this._changeList[o][1],delete this._changeList[o];if(this._version===t);else if(this._version<t)for(var h=this._version;h<t;h++)for(var o in r=this._repository[h])s[o]=r[o][0];else for(h=this._version-1;h>=t;h--)for(var o in r=this._repository[h])s[o]=r[o][1];for(var o in this._version=t,this._recordEnable=!1,s)null===(t=s[o])?this.removeValue(o):this.setValue(o,t);this._recordEnable=!0}else this._versionAlias=""}},{key:"versionAlias",get:function(){return this._versionAlias}},{key:"lastVersion",get:function(){return this._repository.length}},{key:"versionAliases",get:function(){var t=[];for(var e in this._versionAliases)t.push(e);return t}}])&&s(i.prototype,d),y&&s(i,y),e}();e.a=d},function(t,e,i){"use strict";var n=i(10),r=i(76),s=i(6);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=Phaser.Utils.Objects.GetValue,u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,i,u;return e=t,(i=[{key:"resetFromJSON",value:function(t){void 0==this.items&&(this.items={}),void 0==this.remainder&&(this.remainder={}),void 0==this._list&&(this._list=[]),this.setMode(a(t,"mode",0)),this.setReload(a(t,"reload",!0)),this.setRND(a(t,"rnd",void 0)),this.items=Object(n.a)(a(t,"items",{}),this.items),this._list.length=0,this.result=a(t,"result",null),this._restartFlag=!0,this._restartFlag&&this.startGen();var e=a(t,"remainder",void 0);return e&&(this.remainder=Object(n.a)(e,this.remainder)),this}},{key:"toJSON",value:function(){return{mode:this.mode,reload:this.reload,rnd:this.rnd,items:Object(n.a)(this.items),remainder:Object(n.a)(this.remainder),result:this.result,restart:!0}}},{key:"startGen",value:function(){var t;for(t in this.remainder)this.items.hasOwnProperty(t)||delete this.remainder[t];for(t in this.items){var e=this.items[t];e>0&&(this.remainder[t]=e)}return 1===this.mode&&this.resetItemList(this.remainder),this._restartFlag=!1,this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=h[t]),this._restartFlag=this.mode!==t,this.mode=t,this}},{key:"setReload",value:function(t){return this.reload=!!t,this}},{key:"setRND",value:function(t){return this.rnd=t,this}},{key:"setItem",value:function(t,e){return this._restartFlag=this.items[t]!==e,this.items[t]=e,this}},{key:"removeItem",value:function(t){return this.items.hasOwnProperty(t)&&(delete this.items[t],this._restartFlag=!0),this}},{key:"removeAllItems",value:function(){for(var t in this.items)delete this.items[t];return this._restartFlag=!0,this}},{key:"getItems",value:function(){return Object(n.a)(this.items)}},{key:"getRemain",value:function(){return Object(n.a)(this.remainder)}},{key:"getItemCount",value:function(t){return this.items[t]||0}},{key:"getRemainCount",value:function(t){return this.remainder[t]||0}},{key:"forEachItem",value:function(t,e){for(var i=[null,void 0],n=2,r=arguments.length;n<r;n++)i.push(arguments[n]);for(var s in this.items)i[0]=s,i[1]=this.items[s],e?t.apply(e,i):t(i);return this}},{key:"forEachRemain",value:function(t,e){for(var i=[null,void 0],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var r in this.remainder)i[1]=r,i[2]=this.remainder[r],e?t.apply(e,i):t(i);return this}},{key:"addItem",value:function(t,e){if(this.items.hasOwnProperty(t)||(this.items[t]=0),this.items[t]+=e,!this._restartFlag)return 0===this.mode?this.addRemainItem(t,e):this.resetItemList(this.remainder),this}},{key:"putItemBack",value:function(t,e){if(1!==this.mode&&this.items.hasOwnProperty(t)&&(2!==this.mode||!this.restartGenFlg))return this.remainder.hasOwnProperty(t)||(this.remainder[t]=0),this.addShadowPattern(t,e,this.items[t]),this}},{key:"next",value:function(t){var e=null;return this._restartFlag&&this.startGen(),null==t?0===this.mode?(this.resetItemList(this.remainder),e=this.getRndItem(this._list),this.addRemainItem(e,-1)):e=this.getRndItem(this._list):this.remainder.hasOwnProperty(t)?(0===this.mode&&this.addRemainItem(t,-1),e=t):e=null,this.result=e,e}},{key:"destroy",value:function(){return Object(s.a)(this.items),Object(s.a)(this.remainder),Object(s.a)(this._list),this.result=null,this._restartFlag=!1,this}},{key:"resetItemList",value:function(t){this._list.length=0;var e,i,n=0;for(e in t)(i=t[e])>0&&(n+=i);for(e in t)(i=t[e])>0&&this._list.push([e,i/n]);return this}},{key:"addRemainItem",value:function(t,e,i){return null==t||0===e?this:(this.remainder.hasOwnProperty(t)||(this.remainder[t]=0),this.remainder[t]+=e,null!=i&&this.remainder[t]>i&&(this.remainder[t]=i),this.remainder[t]<=0&&delete this.remainder[t],0===this.mode&&this.reload&&Object(r.a)(this.remainder)&&(this._restartFlag=!0),this)}},{key:"getRndItem",value:function(t){var e,i,n=this.rnd?this.rnd.frac():Math.random(),r=null,s=t.length;for(e=0;e<s;e++)if((n-=(i=t[e])[1])<0){r=i[0];break}return r}}])&&o(e.prototype,i),u&&o(e,u),t}(),h={shuffle:0,random:1},l=u;e.a=l},function(t,e,i){"use strict";var n=i(58);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=Phaser.Geom.Polygon,l=Phaser.Utils.Objects.IsPlainObject,c=Phaser.Utils.Objects.GetValue,f=Phaser.Geom.Line,d=function(t){function e(t,i,n,r){var s;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s=o(this,a(e).call(this)),l(t)){var u=t;t=c(u,"x",0),i=c(u,"y",0),n=c(u,"width",0),r=c(u,"height",0)}for(var h=s.points,f=0;f<4;f++)h.push({});return s.setTo(t,i,n,r),s}var i,r,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,h),i=e,(r=[{key:"setTo",value:function(t,e,i,n){this._x=t,this._y=e,this._width=i,this._height=n;var r=this.points,s=this.centerX,o=this.centerY,a=i/2,u=n/2;return r[0].x=s+a,r[0].y=o,r[1].x=s,r[1].y=o+u,r[2].x=s-a,r[2].y=o,r[3].x=s,r[3].y=o-u,this.calculateArea(),this}},{key:"setPosition",value:function(t,e){var i=t-this.x,r=e-this.y;return 0===i&&0===r?this:(Object(n.a)(this,i,r),this._x=t,this._y=e,this)}},{key:"setSize",value:function(t,e){return this.setTo(this._x,this._y,t,e),this}},{key:"isEmpty",value:function(){return this.width<=0||this.height<=0}},{key:"getEdge",value:function(t,e){void 0===e&&(e=new f);var i=this.points[t],n=this.points[(t+1)%4];return e.setTo(i.x,i.y,n.x,n.y),e}},{key:"getLineA",value:function(t){return this.getEdge(0,t)}},{key:"getLineB",value:function(t){return this.getEdge(1,t)}},{key:"getLineC",value:function(t){return this.getEdge(2,t)}},{key:"getLineD",value:function(t){return this.getEdge(3,t)}},{key:"x",get:function(){return this._x},set:function(t){var e=t-this.x;0!==e&&(Object(n.a)(this,e,0),this._x=t)}},{key:"y",get:function(){return this._y},set:function(t){var e=t-this.y;0!==e&&(Object(n.a)(this,0,e),this._y=t)}},{key:"left",get:function(){return this.x},set:function(t){this.x+=t-this.left}},{key:"right",get:function(){return this.x+this.width},set:function(t){this.x+=t-this.right}},{key:"top",get:function(){return this.y},set:function(t){this.y+=t-this.top}},{key:"bottom",get:function(){return this.y+this.height},set:function(t){this.y+=t-this.bottom}},{key:"centerX",get:function(){return this.x+this.width/2},set:function(t){this.x+=t-this.centerX}},{key:"centerY",get:function(){return this.y+this.height/2},set:function(t){this.y+=t-this.centetY}},{key:"width",get:function(){return this._width},set:function(t){this.setTo(this._x,this._y,t,this._height)}},{key:"height",get:function(){return this._height},set:function(t){this.setTo(this._x,this._y,this._width,t)}}])&&s(i.prototype,r),d&&s(i,d),e}();Phaser.Geom.rexRhombus=d;var y=d;e.a=y},function(t,e,i){"use strict";var n=i(58),r=i(66),s=i(67),o=i(91);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=Phaser.Geom.Polygon,d=Phaser.Utils.Objects.IsPlainObject,y=Phaser.Utils.Objects.GetValue,p=Phaser.Geom.Line,v=function(t){function e(t,i,n,r){var s;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s=h(this,l(e).call(this)),d(t)){var o=t;t=y(o,"x",0),i=y(o,"y",0),n=y(o,"size",0),r=y(o,"type",1)}for(var a=s.points,u=0;u<6;u++)a.push({});return s.setTo(t,i,n,r),s}var i,a,v;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,f),i=e,(a=[{key:"setTo",value:function(t,e,i,n){return"string"==typeof n&&(n=g[n]),this._x=t,this._y=e,this._size=i,this._type=n,Object(o.a)(t,e,i,n,this.points),this.calculateArea(),this.width=Object(r.a)(this),this.height=Object(s.a)(this),this}},{key:"setPosition",value:function(t,e){var i=t-this.x,r=e-this.y;return 0===i&&0===r?this:(Object(n.a)(this,i,r),this._x=t,this._y=e,this)}},{key:"setSize",value:function(t){return this.size=t,this}},{key:"setType",value:function(t){this.type=t}},{key:"isEmpty",value:function(){return this.size<=0}},{key:"getEdge",value:function(t,e){void 0===e&&(e=new p);var i=this.points[t],n=this.points[(t+1)%6];return e.setTo(i.x,i.y,n.x,n.y),e}},{key:"getLineA",value:function(t){return this.getEdge(0,t)}},{key:"getLineB",value:function(t){return this.getEdge(1,t)}},{key:"getLineC",value:function(t){return this.getEdge(2,t)}},{key:"getLineD",value:function(t){return this.getEdge(3,t)}},{key:"getLineE",value:function(t){return this.getEdge(4,t)}},{key:"getLineF",value:function(t){return this.getEdge(5,t)}},{key:"x",get:function(){return this._x},set:function(t){var e=t-this.x;0!==e&&(Object(n.a)(this,e,0),this._x=t)}},{key:"y",get:function(){return this._y},set:function(t){var e=t-this.y;0!==e&&(Object(n.a)(this,0,e),this._y=t)}},{key:"centerX",get:function(){return this.x},set:function(t){this.x=t}},{key:"centerY",get:function(){return this.y},set:function(t){this.y=t}},{key:"left",get:function(){return this.x-this.width/2},set:function(t){this.x+=t-this.left}},{key:"right",get:function(){return this.x+this.width/2},set:function(t){this.x+=t-this.right}},{key:"top",get:function(){return this.y-this.height/2},set:function(t){this.y+=t-this.top}},{key:"bottom",get:function(){return this.y+this.height/2},set:function(t){this.y+=t-this.bottom}},{key:"size",get:function(){return this._size},set:function(t){this.setTo(this._x,this._y,t,this.type)}},{key:"type",get:function(){return this._type},set:function(t){this.setTo(this._x,this._y,this._size,t)}}])&&u(i.prototype,a),v&&u(i,v),e}(),g={flat:0,y:0,pointy:1,x:1};Phaser.Geom.rexHexagon=v;var b=v;e.a=b},function(t,e,i){var n;!function(){function r(t,e,i){return t.call.apply(t.bind,arguments)}function s(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function o(t,e,i){return(o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r:s).apply(null,arguments)}var a=Date.now||function(){return+new Date};var u=!!window.FontFace;function h(t,e,i,n){if(e=t.c.createElement(e),i)for(var r in i)i.hasOwnProperty(r)&&("style"==r?e.style.cssText=i[r]:e.setAttribute(r,i[r]));return n&&e.appendChild(t.c.createTextNode(n)),e}function l(t,e,i){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function c(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e,i){e=e||[],i=i||[];for(var n=t.className.split(/\s+/),r=0;r<e.length;r+=1){for(var s=!1,o=0;o<n.length;o+=1)if(e[r]===n[o]){s=!0;break}s||n.push(e[r])}for(e=[],r=0;r<n.length;r+=1){for(s=!1,o=0;o<i.length;o+=1)if(n[r]===i[o]){s=!0;break}s||e.push(n[r])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(t,e){for(var i=t.className.split(/\s+/),n=0,r=i.length;n<r;n++)if(i[n]==e)return!0;return!1}function y(t,e,i){function n(){a&&r&&s&&(a(o),a=null)}e=h(t,"link",{rel:"stylesheet",href:e,media:"all"});var r=!1,s=!0,o=null,a=i||null;u?(e.onload=function(){r=!0,n()},e.onerror=function(){r=!0,o=Error("Stylesheet failed to load"),n()}):setTimeout(function(){r=!0,n()},0),l(t,"head",e)}function p(t,e,i,n){var r=t.c.getElementsByTagName("head")[0];if(r){var s=h(t,"script",{src:e}),o=!1;return s.onload=s.onreadystatechange=function(){o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o=!0,i&&i(null),s.onload=s.onreadystatechange=null,"HEAD"==s.parentNode.tagName&&r.removeChild(s))},r.appendChild(s),setTimeout(function(){o||(o=!0,i&&i(Error("Script load timeout")))},n||5e3),s}return null}function v(){this.a=0,this.c=null}function g(t){return t.a++,function(){t.a--,m(t)}}function b(t,e){t.c=e,m(t)}function m(t){0==t.a&&t.c&&(t.c(),t.c=null)}function k(t){this.a=t||"-"}function w(t,e){this.c=t,this.f=4,this.a="n";var i=(e||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function x(t){var e=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var n=t[i].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?e.push("'"+n+"'"):e.push(n)}return e.join(",")}function O(t){return t.a+t.f}function T(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function S(t){var e=4,i="n",n=null;return t&&((n=t.match(/(normal|oblique|italic)/i))&&n[1]&&(i=n[1].substr(0,1).toLowerCase()),(n=t.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?e=7:/[1-9]00/.test(n[1])&&(e=parseInt(n[1].substr(0,1),10)))),i+e}function _(t){if(t.g){var e=d(t.f,t.a.c("wf","active")),i=[],n=[t.a.c("wf","loading")];e||i.push(t.a.c("wf","inactive")),f(t.f,i,n)}P(t,"inactive")}function P(t,e,i){t.j&&t.h[e]&&(i?t.h[e](i.c,O(i)):t.h[e]())}function C(t,e){this.c=t,this.f=e,this.a=h(this.c,"span",{"aria-hidden":"true"},this.f)}function j(t){l(t.c,"body",t.a)}function E(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+x(t.c)+";font-style:"+T(t)+";font-weight:"+t.f+"00;"}function M(t,e,i,n,r,s){this.g=t,this.j=e,this.a=n,this.c=i,this.f=r||3e3,this.h=s||void 0}function D(t,e,i,n,r,s,o){this.v=t,this.B=e,this.c=i,this.a=n,this.s=o||"BESbswy",this.f={},this.w=r||3e3,this.u=s||null,this.m=this.j=this.h=this.g=null,this.g=new C(this.c,this.s),this.h=new C(this.c,this.s),this.j=new C(this.c,this.s),this.m=new C(this.c,this.s),t=E(t=new w(this.a.c+",serif",O(this.a))),this.g.a.style.cssText=t,t=E(t=new w(this.a.c+",sans-serif",O(this.a))),this.h.a.style.cssText=t,t=E(t=new w("serif",O(this.a))),this.j.a.style.cssText=t,t=E(t=new w("sans-serif",O(this.a))),this.m.a.style.cssText=t,j(this.g),j(this.h),j(this.j),j(this.m)}k.prototype.c=function(t){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},M.prototype.start=function(){var t=this.c.o.document,e=this,i=a(),n=new Promise(function(n,r){!function s(){a()-i>=e.f?r():t.fonts.load(function(t){return T(t)+" "+t.f+"00 300px "+x(t.c)}(e.a),e.h).then(function(t){1<=t.length?n():setTimeout(s,25)},function(){r()})}()}),r=null,s=new Promise(function(t,i){r=setTimeout(i,e.f)});Promise.race([s,n]).then(function(){r&&(clearTimeout(r),r=null),e.g(e.a)},function(){e.j(e.a)})};var R={D:"serif",C:"sans-serif"},Y=null;function X(){if(null===Y){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);Y=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return Y}function A(t,e,i){for(var n in R)if(R.hasOwnProperty(n)&&e===t.f[R[n]]&&i===t.f[R[n]])return!0;return!1}function I(t){var e,i=t.g.a.offsetWidth,n=t.h.a.offsetWidth;(e=i===t.f.serif&&n===t.f["sans-serif"])||(e=X()&&A(t,i,n)),e?a()-t.A>=t.w?X()&&A(t,i,n)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?F(t,t.v):F(t,t.B):function(t){setTimeout(o(function(){I(this)},t),50)}(t):F(t,t.v)}function F(t,e){setTimeout(o(function(){c(this.g.a),c(this.h.a),c(this.j.a),c(this.m.a),e(this.a)},t),0)}function N(t,e,i){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=i}D.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),I(this)};var L=null;function z(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&f(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),P(t,"active")):_(t.a))}function W(t){this.j=t,this.a=new function(){this.c={}},this.h=0,this.f=this.g=!0}function G(t,e,i,n,r){var s=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=r||null,a=n||{};if(0===i.length&&s)_(e.a);else{e.f+=i.length,s&&(e.j=s);var u,h=[];for(u=0;u<i.length;u++){var l=i[u],c=a[l.c],d=e.a,y=l;if(d.g&&f(d.f,[d.a.c("wf",y.c,O(y).toString(),"loading")]),P(d,"fontloading",y),d=null,null===L)if(window.FontFace){y=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var p=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);L=y?42<parseInt(y[1],10):!p}else L=!1;d=L?new M(o(e.g,e),o(e.h,e),e.c,l,e.s,c):new D(o(e.g,e),o(e.h,e),e.c,l,e.s,t,c),h.push(d)}for(u=0;u<h.length;u++)h[u].start()}},0)}function B(t,e){this.c=t,this.a=e}function V(t,e){this.c=t,this.a=e}N.prototype.g=function(t){var e=this.a;e.g&&f(e.f,[e.a.c("wf",t.c,O(t).toString(),"active")],[e.a.c("wf",t.c,O(t).toString(),"loading"),e.a.c("wf",t.c,O(t).toString(),"inactive")]),P(e,"fontactive",t),this.m=!0,z(this)},N.prototype.h=function(t){var e=this.a;if(e.g){var i=d(e.f,e.a.c("wf",t.c,O(t).toString(),"active")),n=[],r=[e.a.c("wf",t.c,O(t).toString(),"loading")];i||n.push(e.a.c("wf",t.c,O(t).toString(),"inactive")),f(e.f,n,r)}P(e,"fontinactive",t),z(this)},W.prototype.load=function(t){this.c=new function(t,e){this.a=t,this.o=e||t,this.c=this.o.document}(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,i){var n=[],r=i.timeout;!function(t){t.g&&f(t.f,[t.a.c("wf","loading")]),P(t,"loading")}(e);var n=function(t,e,i){var n,r=[];for(n in e)if(e.hasOwnProperty(n)){var s=t.c[n];s&&r.push(s(e[n],i))}return r}(t.a,i,t.c),s=new N(t.c,e,r);for(t.h=n.length,e=0,i=n.length;e<i;e++)n[e].load(function(e,i,n){G(t,s,e,i,n)})}(this,new function(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new k("-"),this.j=!1!==e.events,this.g=!1!==e.classes}(this.c,t),t)},B.prototype.load=function(t){var e=this,i=e.a.projectId,n=e.a.version;if(i){var r=e.c.o;p(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+i+".js"+(n?"?v="+n:""),function(n){n?t([]):(r["__MonotypeConfiguration__"+i]=function(){return e.a},function e(){if(r["__mti_fntLst"+i]){var n,s=r["__mti_fntLst"+i](),o=[];if(s)for(var a=0;a<s.length;a++){var u=s[a].fontfamily;void 0!=s[a].fontStyle&&void 0!=s[a].fontWeight?(n=s[a].fontStyle+s[a].fontWeight,o.push(new w(u,n))):o.push(new w(u))}t(o)}else setTimeout(function(){e()},50)}())}).id="__MonotypeAPIScript__"+i}else t([])},V.prototype.load=function(t){var e,i,n=this.a.urls||[],r=this.a.families||[],s=this.a.testStrings||{},o=new v;for(e=0,i=n.length;e<i;e++)y(this.c,n[e],g(o));var a=[];for(e=0,i=r.length;e<i;e++)if((n=r[e].split(":"))[1])for(var u=n[1].split(","),h=0;h<u.length;h+=1)a.push(new w(n[0],u[h]));else a.push(new w(n[0]));b(o,function(){t(a,s)})};var U="https://fonts.googleapis.com/css";var H={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},K={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},J={i:"i",italic:"i",n:"n",normal:"n"},Z=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function q(t,e){this.c=t,this.a=e}var Q={Arimo:!0,Cousine:!0,Tinos:!0};function $(t,e){this.c=t,this.a=e}function tt(t,e){this.c=t,this.f=e,this.a=[]}q.prototype.load=function(t){var e=new v,i=this.c,n=new function(t,e){this.c=t||U,this.a=[],this.f=[],this.g=e||""}(this.a.api,this.a.text),r=this.a.families;!function(t,e){for(var i=e.length,n=0;n<i;n++){var r=e[n].split(":");3==r.length&&t.f.push(r.pop());var s="";2==r.length&&""!=r[1]&&(s=":"),t.a.push(r.join(s))}}(n,r);var s=new function(t){this.f=t,this.a=[],this.c={}}(r);!function(t){for(var e=t.f.length,i=0;i<e;i++){var n=t.f[i].split(":"),r=n[0].replace(/\+/g," "),s=["n4"];if(2<=n.length){var o;if(o=[],a=n[1])for(var a,u=(a=a.split(",")).length,h=0;h<u;h++){var l;if((l=a[h]).match(/^[\w-]+$/))if(null==(f=Z.exec(l.toLowerCase())))l="";else{if(l=null==(l=f[2])||""==l?"n":J[l],null==(f=f[1])||""==f)f="4";else var c=K[f],f=c||(isNaN(f)?"4":f.substr(0,1));l=[l,f].join("")}else l="";l&&o.push(l)}0<o.length&&(s=o),3==n.length&&(o=[],0<(n=(n=n[2])?n.split(","):o).length&&(n=H[n[0]])&&(t.c[r]=n))}for(t.c[r]||(n=H[r])&&(t.c[r]=n),n=0;n<s.length;n+=1)t.a.push(new w(r,s[n]))}}(s),y(i,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,i=[],n=0;n<e;n++)i.push(t.a[n].replace(/ /g,"+"));return e=t.c+"?family="+i.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(n),g(e)),b(e,function(){t(s.a,s.c,Q)})},$.prototype.load=function(t){var e=this.a.id,i=this.c.o;e?p(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){e=i.Typekit.config.fn;for(var n=[],r=0;r<e.length;r+=2)for(var s=e[r],o=e[r+1],a=0;a<o.length;a++)n.push(new w(s,o[a]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(n)}},2e3):t([])},tt.prototype.load=function(t){var e=this.f.id,i=this.c.o,n=this;e?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[e]=function(e,i){for(var r=0,s=i.fonts.length;r<s;++r){var o=i.fonts[r];n.a.push(new w(o.name,S("font-weight:"+o.weight+";font-style:"+o.style)))}t(n.a)},p(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var et=new W(window);et.a.c.custom=function(t,e){return new V(e,t)},et.a.c.fontdeck=function(t,e){return new tt(e,t)},et.a.c.monotype=function(t,e){return new B(e,t)},et.a.c.typekit=function(t,e){return new $(e,t)},et.a.c.google=function(t,e){return new q(e,t)};var it={load:o(et.load,et)};void 0===(n=function(){return it}.call(e,i,e,t))||(t.exports=n)}()},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=i(149),r=i(150),s=i(41);Phaser.GameObjects.GameObjectFactory.register("rexBBCodeText",n.a),Phaser.GameObjects.GameObjectCreator.register("rexBBCodeText",r.a),e.default=s.a},function(t,e,i){"use strict";i.r(e);var n=i(151),r=i(152),s=i(42);Phaser.GameObjects.GameObjectFactory.register("rexTagText",n.a),Phaser.GameObjects.GameObjectCreator.register("rexTagText",r.a),e.default=s.a},function(t,e,i){"use strict";i.r(e);var n=i(153),r=i(154),s=i(21);Phaser.GameObjects.GameObjectFactory.register("rexCanvas",n.a),Phaser.GameObjects.GameObjectCreator.register("rexCanvas",r.a),e.default=s.a},function(t,e,i){"use strict";i.r(e);var n=i(155),r=i(156),s=i(18);Phaser.GameObjects.GameObjectFactory.register("rexContainerLite",n.a),Phaser.GameObjects.GameObjectCreator.register("rexContainerLite",r.a),e.default=s.a},function(t,e,i){"use strict";i.r(e);var n=i(157),r=i(158),s=i(40);Phaser.GameObjects.GameObjectFactory.register("rexGridTable",n.a),Phaser.GameObjects.GameObjectCreator.register("rexGridTable",r.a),e.default=s.a},function(t,e,i){"use strict";i.r(e);var n=i(159),r=i(160),s=i(39);Phaser.GameObjects.GameObjectFactory.register("rexRoundRectangle",n.a),Phaser.GameObjects.GameObjectCreator.register("rexRoundRectangle",r.a),e.default=s.a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=i(262),r=i(263),s=i(264),o=i(265),a=i(266),u=i(267),h=i(180);Phaser.Loader.FileTypesManager.register("rexWebFont",h.a);var l=h.a,c=i(177);Phaser.Loader.FileTypesManager.register("rexAwait",c.a);var f=c.a,d=i(174),y=i(215),p=i(216),v=i(87),g=i(217),b=i(145),m=i(205),k=i(133),w=i(218),x=i(219),O=i(220),T=i(206),S=i(221),_=i(207),P=i(222),C=i(48),j=i(121),E=i(49),M=i(143),D=i(144),R=i(223),Y=i(224),X=i(225),A=i(209),I=i(226),F=i(227),N=i(146),L=i(147),z=i(183),W=i(228),G=i(14),B=i(184),V=i(208),U=i(148),H=i(210),K=i(229),J=i(77),Z=i(230),q=i(231),Q=i(232),$=i(233),tt=i(234),et=i(235),it=i(236),nt=i(211),rt=i(185),st=i(212),ot=i(213),at=i(214),ut=i(106),ht=i(71),lt=i(72),ct=i(104),ft=i(107),dt=i(108),yt=i(105);i.d(e,"BBCodeText",function(){return n.default}),i.d(e,"TagText",function(){return r.default}),i.d(e,"Canvas",function(){return s.default}),i.d(e,"ContainerLite",function(){return o.default}),i.d(e,"GridTable",function(){return a.default}),i.d(e,"RoundRectangle",function(){return u.default}),i.d(e,"WebFontLoader",function(){return l}),i.d(e,"Awaitloader",function(){return f}),i.d(e,"HexagonGridAlign",function(){return d.a}),i.d(e,"QuadGridAlign",function(){return d.b}),i.d(e,"TouchState",function(){return y.a}),i.d(e,"Drag",function(){return p.a}),i.d(e,"DragSpeed",function(){return v.a}),i.d(e,"Slider",function(){return g.a}),i.d(e,"Scroller",function(){return b.a}),i.d(e,"Button",function(){return m.a}),i.d(e,"TouchCursor",function(){return k.a}),i.d(e,"VirtualJoyStick",function(){return w.a}),i.d(e,"CursorAtBound",function(){return x.a}),i.d(e,"MouseWheelToUpDown",function(){return O.a}),i.d(e,"Pinch",function(){return T.a}),i.d(e,"DragRotate",function(){return S.a}),i.d(e,"MoveTo",function(){return _.a}),i.d(e,"RotateTo",function(){return P.a}),i.d(e,"Fade",function(){return C.a}),i.d(e,"FadeOutDestroy",function(){return j.a}),i.d(e,"Scale",function(){return E.a}),i.d(e,"ScaleDownDestroy",function(){return M.a}),i.d(e,"PopUp",function(){return D.a}),i.d(e,"PathFollower",function(){return R.a}),i.d(e,"Flash",function(){return Y.a}),i.d(e,"ShakePosition",function(){return X.a}),i.d(e,"Interception",function(){return A.a}),i.d(e,"EightDirection",function(){return I.a}),i.d(e,"Bullet",function(){return F.a}),i.d(e,"TextTyping",function(){return N.a}),i.d(e,"TextPage",function(){return L.a}),i.d(e,"SoundFade",function(){return z.a}),i.d(e,"Sequence",function(){return W.a}),i.d(e,"FSM",function(){return G.a}),i.d(e,"TCRP",function(){return B.a}),i.d(e,"CSVScenario",function(){return V.a}),i.d(e,"WaitEvents",function(){return U.a}),i.d(e,"Achievements",function(){return H.a}),i.d(e,"ConditionsTable",function(){return K.a}),i.d(e,"Clock",function(){return J.a}),i.d(e,"LifeTime",function(){return Z.a}),i.d(e,"CSVToArray",function(){return q.a}),i.d(e,"CSVToHashTable",function(){return Q.a}),i.d(e,"RestorableData",function(){return $.a}),i.d(e,"Gashapon",function(){return tt.a}),i.d(e,"Rhombus",function(){return et.a}),i.d(e,"Hexagon",function(){return it.a}),i.d(e,"XOR",function(){return nt.a}),i.d(e,"LZString",function(){return rt.a}),i.d(e,"SwirlPipeline",function(){return st.a}),i.d(e,"PixelationPipeline",function(){return ot.a}),i.d(e,"GrayScalePipeline",function(){return at.a}),i.d(e,"Board",function(){return ut.a}),i.d(e,"QuadGrid",function(){return ht.a}),i.d(e,"HexagonGrid",function(){return lt.a}),i.d(e,"ChessShape",function(){return ct.a}),i.d(e,"ChessMoveTo",function(){return ft.a}),i.d(e,"Match",function(){return dt.a}),i.d(e,"PathFinder",function(){return yt.a})}]).default});