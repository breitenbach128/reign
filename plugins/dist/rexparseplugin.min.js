!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rexparseplugin=e():t.rexparseplugin=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=372)}({0:function(t,e){t.exports=function(t,e,n){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(var r=e.split("."),o=t,i=n,a=0;a<r.length;a++){if(!o.hasOwnProperty(r[a])){i=n;break}i=o[r[a]],o=o[r[a]]}return i}return n}return n}},1:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=function(t){return null==t||""===t||0===t.length};e.a=function(t,e,n){if("object"===r(t))if(o(e)){if(null==n)return;"object"===r(n)&&(t=n)}else{"string"==typeof e&&(e=e.split("."));var i=e.pop();((function(t,e,n){void 0===n&&(n={});var i=t;if(o(e));else{var a;"string"==typeof e&&(e=e.split("."));for(var u=0,s=e.length;u<s;u++){var c;null!=i[a=e[u]]&&"object"===r(i[a])||(c=u===s-1?n:{},i[a]=c),i=i[a]}}return i})(t,e))[i]=n}}},100:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(55),a={loadItems:function(t,e){void 0===t&&(t=0),void 0===e&&(e=1/0),this.items.length=0;var n=this;return Object(i.a)(this.query,t,e).then(function(r){return n.items=r,n.startIndex=t,n.pageIndex=Math.floor(t/n.itemCount),n.isLastPage=e===1/0||e>r.length,Promise.resolve(r)}).catch(function(t){return n.isLastPage=!1,Promise.reject(t)})},loadPage:function(t){var e=t*this.itemCount;return this.loadItems(e,this.itemCount)},loadCurrentPage:function(){return this.loadItems(this.startIndex,this.itemCount)},loadNextPage:function(){var t=this.startIndex+this.itemCount;return this.loadItems(t,this.itemCount)},loadPreviousPage:function(){var t=this.startIndex-this.itemCount;return this.loadItems(t,this.itemCount)}};function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.items=[],this.startIndex=0,this.pageIndex=0,this.isLastPage=!1,this.setItemCount(o()(e,"itemCount",100)),this.setQuery(o()(e,"query",void 0))}var e,n,r;return e=t,(n=[{key:"setItemCount",value:function(t){return this.itemCount=t,this.pageIndex=Math.floor(this.startIndex/t),this}},{key:"setQuery",value:function(t){return this.query=t,this}},{key:"getItem",value:function(t){return this.items[t-this.startIndex]}},{key:"findFirst",value:function(t,e){for(var n,r=this.items.length;n<r;n++)if(this.items[n].get(t)===e)return n+this.startIndex;return-1}}])&&u(e.prototype,n),r&&u(e,r),t}();Object.assign(s.prototype,a);e.a=s},130:function(t,e,n){"use strict";var r=n(37);e.a=function(t){return new Promise(function(e,n){Object(r.a)(t,e)})}},16:function(t,e,n){"use strict";e.a=function(t){return"[object Array]"===Object.prototype.toString.call(t)}},24:function(t,e,n){"use strict";e.a=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=e.length),t.length=r-n;for(var o=0,i=t.length;o<i;o++)t[o]=e[o+n];return t}},256:function(t,e,n){"use strict";var r=n(130),o="https://cdnjs.cloudflare.com/ajax/libs/parse/".concat("2.9.1","/parse.min.js");e.a=function(t){return void 0===t&&(t=o),Object(r.a)(t)}},257:function(t,e,n){"use strict";var r=function(t,e){var n=new Parse.User;return n.set("username",t).set("password",e),n.signUp().then(function(){return Parse.User.logIn(t,e)})};e.a=function(t,e){return Parse.User.logOut().then(function(){return Parse.User.logIn(t,e)}).catch(function(){return r(t,e)})}},269:function(t,e,n){"use strict";var r=n(100),o=n(97),i=n(1);o.a.register("pageLoader",function(t){return new r.a(t)}),Object(i.a)(window,"RexPlugins.Parse.PageLoader",r.a);r.a},274:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(100),a=n(55),u=n(31),s=n.n(u),c={loadItem:function(t){return this.baseQuery.get(t)},loadPage:function(t){return this.pageLoader.loadPage(t)},loadCurrentPage:function(){return this.pageLoader.loadCurrentPage()},loadNextPage:function(){return this.pageLoader.loadNextPage()},loadPreviousPage:function(){return this.pageLoader.loadPreviousPage()},loadItems:function(t,e){return this.pageLoader.loadItems(t,e)},load:function(t){return void 0===t&&(t=this.baseQuery),Object(a.a)(t)},loadRandomItems:function(t,e){"number"==typeof t&&(e=t,t=void 0),void 0===t&&(t=this.baseQuery),void 0===e&&(e=1),t.select("id");var n=this;return Object(a.a)(t).then(function(r){s()(r),e=Math.min(e,r.length);for(var o=[],i=0;i<e;i++)o.push(r[i].id);return t=n.baseQuery.containedIn("objectId",o),Object(a.a)(t)})}},f=function(t){return t.select("id"),Object(a.a)(t).then(function(t){return 0===t.length?Promise.resolve():Parse.Object.destroyAll(t)})},l={deleteItem:function(t){return this.createItem().set("id",t).destroy()},delete:function(t){return void 0===t&&(t=this.baseQuery),f(t)}},h=n(24),y=n(16),p=function(t,e){var n;if(t instanceof e)n=t;else for(var r in n=new e,t)n.set(r,t[r]);return n},d=function(t,e,n){if(!e&&!n)return t;var r=Parse.User.current();if(!r)return t;var o=new Parse.ACL(r);return n||o.setPublicWriteAccess(!0),e||o.setPublicReadAccess(!0),t.setACL(o),t},b=function(t){for(var e,n,r=this.baseQuery.select("id"),o=t instanceof this.customClass,i=0,a=this.primaryKeys.length;i<a;i++)e=this.primaryKeys[i],n=o?t.get(e):t[e],r.equalTo(e,n);return r},m=function(t){var e=p(t,this.customClass);return d(e,this.ownerRead,this.ownerWrite),e.save()},v=function(t){if(Object(y.a)(t))return this.saveItems(t);if(this.primaryKeys.length>0){var e=this;return b.call(this,t).first().then(function(n){if(n){var r=n.id;t instanceof e.customClass?t.set("id",r):t.id=r}return m.call(e,t)})}return m.call(this,t)},g=function(t){if(this.primaryKeys.length>0){for(var e=[],n=0,r=t.length;n<r;n++)e.push(this.save(t[n]));return Promise.all(e)}var o,i=[];for(n=0,r=t.length;n<r;n++)o=p(t[n],this.customClass),d(o,this.ownerRead,this.ownerWrite),i.push(o);return Parse.Object.saveAll(i)},P=function(t){return void 0===t&&(t=this.baseQuery),t.count()};function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var O=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pageLoader=new i.a,this.setClassName(o()(e,"className","Item")),this.setItemCount(o()(e,"itemCount",100)),this.setQuery(),this.primaryKeys=[];var n=o()(e,"primaryKeys",void 0);n&&this.setPrimaryKey(n),this.setOwnerReadMode(o()(e,"ownerRead",void 0)),this.setOwnerWriteMode(o()(e,"ownerWrite",void 0))}var e,n,r;return e=t,(n=[{key:"setClassName",value:function(t){return this.customClass=Parse.Object.extend(t),this}},{key:"setPrimaryKey",value:function(t){return t?"string"==typeof t?(this.primaryKeys.length=1,this.primaryKeys[0]=t):Object(h.a)(this.primaryKeys,t):this.primaryKeys.length=0,this}},{key:"setOwnerReadMode",value:function(t){return this.ownerRead=t,this}},{key:"setOwnerWriteMode",value:function(t){return this.ownerWrite=t,this}},{key:"createItem",value:function(){return new this.customClass}},{key:"setItemCount",value:function(t){return this.pageLoader.setItemCount(t),this}},{key:"setQuery",value:function(t){return void 0===t&&(t=this.baseQuery),this.pageLoader.setQuery(t),this}},{key:"baseQuery",get:function(){return new Parse.Query(this.customClass)}},{key:"startIndex",get:function(){return this.pageLoader.startIndex}},{key:"pageIndex",get:function(){return this.pageLoader.pageIndex}},{key:"isLastPage",get:function(){return this.pageLoader.isLastPage}}])&&w(e.prototype,n),r&&w(e,r),t}(),j={save:v,saveItems:g,getItemCount:P};Object.assign(O.prototype,c,l,j);var I=O,x=n(97),C=n(1);x.a.register("itemTable",function(t){return new I(t)}),Object(C.a)(window,"RexPlugins.Parse.ItemTable",I)},31:function(t,e){t.exports=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t}},37:function(t,e,n){"use strict";e.a=function(t,e){for(var n=document.getElementsByTagName("script"),r=0,o=n.length;r<o;r++)if(-1!=n[r].src.indexOf(t))return void(e&&e());var i=document.createElement("script");i.setAttribute("src",t),e&&(i.onload=e),document.head.appendChild(i)}},372:function(t,e,n){"use strict";n.r(e);var r=n(256),o=n(81),i=function(t){return this.addFile(new o.a(this,{config:{callback:function(e,n){return Object(r.a)(t).then(function(){setTimeout(e,0)}).catch(n)}}})),this},a=n(97),u=(n(269),n(274),n(257));function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=f(this,l(e).call(this,t))).add=new a.a,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,Phaser.Plugins.BasePlugin),n=e,(r=[{key:"start",value:function(){this.game.events.once("destroy",this.destroy,this)}},{key:"preload",value:function(t,e){return i.call(t.sys.load,e),this}}])&&c(n.prototype,r),o&&c(n,o),e}(),p={quickLogin:u.a};Object.assign(y.prototype,p);e.default=y},55:function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=function t(e,n,o,i){var a=Math.min(n,1e3);return n-=a,e.skip(o).limit(a).find().then(function(u){if(i.push.apply(i,r(u)),0===n||u.length<a)return Promise.resolve(i);var s=o+u.length;return t(e,n,s,i)})};e.a=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1/0),o(t,n,e,[])}},81:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=Phaser.Loader.FILE_POPULATED,c=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n.hasOwnProperty("type")||(n.type="await"),n.hasOwnProperty("url")||(n.url=""),n.hasOwnProperty("key")||(n.key=(new Date).getTime().toString()),i(this,a(e).call(this,t,n))}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,Phaser.Loader.File),n=e,(r=[{key:"load",value:function(){if(this.state===s)this.loader.nextFile(this,!0);else{var t=this.config,e=t.callback,n=t.scope,r=this.onLoad.bind(this),o=this.onError.bind(this);e?n?e.call(n,r,o):e(r,o):this.onLoad()}}},{key:"onLoad",value:function(){this.loader.nextFile(this,!0)}},{key:"onError",value:function(){this.loader.nextFile(this,!1)}}])&&o(n.prototype,r),c&&o(n,c),e}();e.a=c},97:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"register",value:function(e,n){t.prototype[e]=n}}],(n=[{key:"initializeApp",value:function(t){return firebase.initializeApp(t),this}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o}}).default});